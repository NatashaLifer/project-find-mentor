(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Card {
  constructor(props) {
    const {
      _id,
      category,
      imgUrl,
      title,
      description,
      rating,
      location,
      price
    } = props;
    this.id = _id;
    this.category = category;
    this.image = 'https://i.pravatar.cc';
    // this.image = imgUrl || 'https://i.pravatar.cc'
    // 'https://via.placeholder.com/150'
    this.title = title;
    this.description = description;
    this.rating = rating;
    this.location = location;
    this.price = price;
  }
  render(container) {
    const wrapperItem = new _CreateElement.default('div', {
      className: 'item',
      dataset: {
        id: this.id,
        bodyelem: this.category
      }
    }).render();
    const pic = new _CreateElement.default('picture', {
      className: 'item-pic'
    }).render();
    const img = new _CreateElement.default('img', {
      src: this.image,
      alt: 'photo',
      className: 'item-pic-photo'
    }).render();
    const title = new _CreateElement.default('h2', {
      textContent: this.title,
      className: 'item-mentor-name'
    }).render();
    const wrapRating = new _CreateElement.default('div', {
      className: 'item-rating'
    }).render();
    const stars = new _CreateElement.default('div', {
      className: 'item-rating-stars'
    }).render();
    // const ratingCount = new CreateElement ('div', {textContent: this.rating, className: 'item-rating-count'}).render()
    const ratingCount = new _CreateElement.default('div', {
      textContent: this.category,
      className: 'item-rating-count'
    }).render();
    const description = new _CreateElement.default('div', {
      textContent: this.description,
      className: 'item-stack'
    }).render();
    const location = new _CreateElement.default('div', {
      textContent: this.location,
      className: 'item-language-country'
    }).render();
    const btn = new _CreateElement.default('button', {
      className: 'item-booking'
    }).render();
    const btnLink = new _CreateElement.default('a', {
      textContent: 'Book Time',
      className: 'item-booking-link',
      href: '#'
    }).render();
    const btnPrice = new _CreateElement.default('span', {
      className: "item-booking-cost",
      textContent: `${this.price}$/ hours`
    }).render();
    pic.append(img);
    wrapRating.append(stars, ratingCount);
    btn.append(btnLink, btnPrice);
    wrapperItem.append(pic, title, wrapRating, description, location, btn);
    container.append(wrapperItem);
  }
}
exports.default = Card;

},{"../utils/CreateElement.js":11}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formAuthApi = exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
var _Api = _interopRequireDefault(require("../../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const formAuthApi = exports.formAuthApi = new _Api.default('http://localhost:8080/api/auth/');
class Form {
  constructor(fields, form) {
    this.element = document.querySelector(form) || document.createElement('form');
    this.inputFields = fields || [];
  }
  render(nameForm) {
    this.element.className = nameForm;
    if (this.element.classList.contains('form-signin')) {
      this.element.classList.add('active');
    }
    if (this.inputFields) {
      this.inputFields.forEach(field => {
        const input = new _CreateElement.default('input', field);
        const fieldRender = input.render();
        this.element.append(fieldRender);
      });
    }
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  handleForm() {
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  serialize() {
    const fieldsData = {};
    const formData = new FormData(this.element);
    for (let [name] of formData) {
      fieldsData[name] = formData.get(name);
    }
    return fieldsData;
  }
  onSave(event) {
    event.preventDefault();
    const dataFields = this.serialize();
    console.log(dataFields);
    return dataFields;
  }
}
exports.default = Form;

},{"../../utils/Api.js":10,"../../utils/CreateElement.js":11}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormLogin extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }

  // render() {
  //   super.render()
  //   if (this.element.classList.contains('form-signin')) {
  //     this.element.classList.add('active')
  //   }
  // }

  async onSave(event) {
    const requestResult = super.onSave(event);
    console.log(requestResult);
    if (this.element.classList.contains('form-signin') & this.element.classList.contains('active')) {
      const userLog = await _Form.formAuthApi.postRequest('signin', requestResult);

      // postRequest.then((userLog) => {
      if (userLog.message) {
        const submitSignin = document.querySelector('.form-signin .btn-auth');
        const errorMessage = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userLog.message
        }).render();
        submitSignin.insertAdjacentElement('beforebegin', errorMessage);
      } else {
        const userData = {
          id: userLog.data._id,
          fullName: userLog.data.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const signinLink = document.querySelector('.nav__title-auth');
        signinLink.textContent = `${userLog.data.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
      // })
    }
  }
}
exports.default = FormLogin;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormRegistr extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }
  async onSave(event) {
    const requestResult = super.onSave(event);
    if (this.element.classList.contains('form-signup') & this.element.classList.contains('active')) {
      const userReg = await _Form.formAuthApi.postRequest('signup', requestResult);

      // (userReg) => {
      if (userReg.statusText === "Такий email вже існує") {
        const submitSignup = document.querySelector('.form-signup .btn-auth');
        const errorMessageSignup = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userReg.statusText
        }).render();
        submitSignup.insertAdjacentElement('beforebegin', errorMessageSignup);
      } else if (userReg.statusText === "Thanks for registering.") {
        const userData = {
          email: userReg.email,
          fullName: userReg.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const popup = document.querySelector('.popup');
        const popupText = new _CreateElement.default('p', {
          className: 'popup-text',
          textContent: userReg.statusText
        }).render();
        popup.append(popupText);
        const signinLink = document.querySelector('.nav__title-auth');
        signinLink.textContent = `${userReg.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
    }
  }
}
exports.default = FormRegistr;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Modal {
  constructor(html) {
    this.content = html;
  }
  render(btn) {
    const modalWrap = document.querySelector('.modal-wrapper');
    btn.addEventListener("click", () => {
      modalWrap.classList.remove('deactiveted');
      modalWrap.addEventListener('click', event => {
        if (event.currentTarget === event.target || event.target.className === 'modal-close') {
          modalWrap.classList.add('deactiveted');
        }
      });
    });
  }
}
exports.default = Modal;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Slider {
  constructor(btnRight, btnLeft, slideItem, indexFirstElem, set, qtyActiveSlides) {
    this.btnRight = document.querySelector(btnRight);
    this.btnLeft = document.querySelector(btnLeft);
    this.slides = Array.from(document.querySelectorAll(slideItem));
    this.firstIndex = indexFirstElem || 0;
    this.set = set || 4;
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides);
    this.init();
  }
  handleSlider() {
    this.btnLeft.addEventListener('click', () => {
      let activeSlides = this.slides.filter(slide => slide.classList.contains('active'));
      this.qtyActiveSlides.textContent = `${activeSlides.length}`;
      const isClearSlider = localStorage.getItem('clearSlider');
      if (isClearSlider === 'true') {
        this.firstIndex = 0;
      }
      localStorage.setItem('clearSlider', false);
      this.btnRight.classList.remove('deact');
      if (this.firstIndex === 0) {
        this.btnLeft.classList.add('deact');
      } else {
        //гортання на один слайд вліво (назад до початку)
        let lastIndex = this.firstIndex + this.set - 1;
        activeSlides[lastIndex].classList.remove('show');
        this.firstIndex = this.firstIndex - 1;
        activeSlides[this.firstIndex].classList.add('show');
      }
    });
    this.btnRight.addEventListener('click', () => {
      let activeSlides = this.slides.filter(slide => slide.classList.contains('active'));
      this.qtyActiveSlides.textContent = `${activeSlides.length}`;
      let slideCount = activeSlides.length;
      const isClearSlider = localStorage.getItem('clearSlider');
      if (isClearSlider === 'true') {
        this.firstIndex = 0;
      }
      localStorage.setItem('clearSlider', false);
      this.btnLeft.classList.remove('deact');
      if (slideCount <= this.firstIndex + this.set) {
        this.btnRight.classList.add('deact');
      } else {
        //гортання на один слайд вправо (вперед до кінця)
        activeSlides[this.firstIndex].classList.remove('show');
        this.firstIndex = this.firstIndex + 1;
        let lastIndex = this.firstIndex + this.set - 1;
        activeSlides[lastIndex].classList.add('show');
      }
    });
  }
  init() {
    if (!!this.slides.length) {
      this.handleSlider();
    }
  }
}
exports.default = Slider;

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Tabs {
  constructor(selectorHead, selectorBody, set, tabs, qtyActiveSlides) {
    this.tabs = tabs || [];
    this.head = document.querySelector(selectorHead) || '';
    this.bodytab = document.querySelector(selectorBody) || '';
    this.set = set || 1;
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides);
    this.init();
  }
  handleTabs() {
    if (this.head) {
      this.head.addEventListener('click', ev => {
        [...this.head.children].forEach(item => {
          item.classList.remove('active');
        });
        localStorage.setItem('clearSlider', true);
        ev.target.classList.add('active');
        ev.target.parentElement.classList.add('active');
        if (this.bodytab) {
          let numberCard = 0;
          [...this.bodytab.children].forEach(elem => {
            elem.classList.remove('active');
            elem.classList.remove('show');
            if (elem.dataset.bodyelem === ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
            } else if ("all" === ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
            }
          });
          const activeSlides = this.bodytab.querySelectorAll('.active');
          this.qtyActiveSlides.textContent = `${activeSlides.length}`;
        } else {
          const noMentorMessage = new _CreateElement.default('p', {
            textContent: 'There are no mentors by this statements',
            className: 'wrapper-cards__message'
          }).render();
          this.bodytab.append(noMentorMessage);
        }
      });
    }
  }
  render() {
    this.tabs.forEach(tab => {
      const singleTab = new _CreateElement.default('button', tab).render();
      if (singleTab.className === 'btn-signin') {
        singleTab.classList.add('active');
      }
      this.head.append(singleTab);
    });
  }
  init() {
    if (!!this.tabs.length) {
      this.render();
    }
    this.handleTabs();
  }
}
exports.default = Tabs;

},{"../utils/CreateElement.js":11}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireDefault(require("./Form/Form.js"));
var _Api = _interopRequireDefault(require("../utils/Api.js"));
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Search extends _Form.default {
  constructor(form, cardsList) {
    super();
    this.element = document.querySelector(form);
    this.cardsList = document.querySelector(cardsList);
    this.input = this.element.querySelector("input");

    // this.results = searchResults
    // console.log(this.results);
    //серед яких елементів буде йти пошук:
    // - search - пошук по ключовим фразам в description
    // - category - пошук по розширеному списку категорій itemizedCategory з випадаючого списку
  }

  handleSearch() {
    super.handleForm();
  }
  searchInput() {
    this.input.addEventListener('input', event => {
      const activeCategory = document.querySelector('.categories-item.active');
      if (activeCategory) {
        activeCategory.classList.remove('active');
        //document.querySelector('[data-tab="all"]').add('active')
      }

      console.log(event.data);
      const searchValue = event.target.value;
      // return searchValue
      const request = new _Api.default('http://localhost:8080/api');
      const mentors = request.getRequest('/statements');
      let numberCard = 0;
      [...this.cardsList.children].forEach(singleCard => {
        singleCard.classList.remove('active');
        singleCard.classList.remove('show');
        mentors.then(data => {
          data.forEach(mentor => {
            const selectedWords = [...searchValue.split(' ')];
            for (let i = 0; i < selectedWords.length; i++) {
              const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
              // console.log(singleCard.dataset.id, mentor._id )                         
              if (elemFind && singleCard.dataset.id === mentor._id) {
                // if(elemFind) {
                singleCard.classList.add('active');
                numberCard++;
                if (numberCard <= 4) {
                  singleCard.classList.add('show');
                  // console.log(2);
                }
              }
            }

            //* *вибір по одному слову або виразу:
            // const elemFind = mentor.description.toLowerCase().includes(searchValue.toLowerCase())
            // if(elemFind & singleCard.dataset.id === mentor._id) {
            //     singleCard.classList.add('active')
            //     singleCard.classList.add('show')                     
            // }
          });
        });
        // const oneCard = document.querySelector('.item.active.show')
        // console.log(oneCard);

        // if (!oneCard){
        //     const mentorsCardsWrapper = document.querySelector('.wrapper-cards')
        //     const noMentorMessage = new CreateElement ('p', {textContent: 'There are no mentors by this statements', className: 'wrapper-cards__message'}).render()
        //     mentorsCardsWrapper.append(noMentorMessage)
        // }
      });
    });
  }

  async onSave(event) {
    // console.log(this.element);
    // console.log(this.searchInput()); // не знаходить
    // const requestRes = this.searchInput();
    const requestRes = super.onSave(event); // для живого пошуку цей рядок коментується
    const selectedDescrip = requestRes.search; // це буде братися з окремого методу searchInput
    const selectedCategory = requestRes.category; // i це братися з окремого методу searchCategory

    const request = new _Api.default('http://localhost:8080/api');
    const mentors = await request.getRequest('/statements');
    let numberCard = 0;
    [...this.cardsList.children].forEach(singleCard => {
      singleCard.classList.remove('active');
      singleCard.classList.remove('show');
      mentors.forEach(mentor => {
        if (selectedCategory.includes(mentor.itemizedCategory)) {
          console.log(mentor.itemizedCategory);
          const selectedWords = [...selectedDescrip.split(' ')];
          for (let i = 0; i < selectedWords.length; i++) {
            const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
            if (elemFind & singleCard.dataset.id === mentor._id) {
              singleCard.classList.add('active');
              numberCard++;
              if (numberCard <= 4) {
                singleCard.classList.add('show');
                console.log(2);
              }
            }
          }
        }
      });
    });
    const oneCard = document.querySelector('.item.active.show');
    console.log(oneCard);
    if (!oneCard) {
      const mentorsCardsWrapper = document.querySelector('.wrapper-cards');
      const noMentorMessage = new _CreateElement.default('p', {
        textContent: 'There are no mentors by this statements',
        className: 'wrapper-cards__message'
      }).render();
      mentorsCardsWrapper.append(noMentorMessage);
    }
  }
}
exports.default = Search;

},{"../utils/Api.js":10,"../utils/CreateElement.js":11,"./Form/Form.js":2}],9:[function(require,module,exports){
"use strict";

var _Tabs = _interopRequireDefault(require("./components/Tabs.js"));
var _Slider = _interopRequireDefault(require("./components/Slider.js"));
var _Form = _interopRequireDefault(require("./components/Form/Form.js"));
var _FormLogin = _interopRequireDefault(require("./components/Form/FormLogin.js"));
var _FormRegistr = _interopRequireDefault(require("./components/Form/FormRegistr.js"));
var _Modal = _interopRequireDefault(require("./components/Modal.js"));
var _DataDynamicComponents = require("./utils/DataDynamicComponents.js");
require("./utils/searching.js");
require("./utils/renderCards.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
// import {FormLogin, Form} from "./components/Form/Form.js"

const switchMode = document.getElementById('btn');
switchMode.addEventListener('click', () => {
  document.body.classList.toggle('light');
});
const btnAuth = document.querySelector('.nav__title-auth');
const formSignIn = new _FormLogin.default(_DataDynamicComponents.fieldsData, 'signin');
const formSignUp = new _FormRegistr.default(_DataDynamicComponents.fieldsDataSignUp, 'signup');
const formWrapper = document.querySelector('.tabs-body');
formWrapper.append(formSignIn.render('form-signin'), formSignUp.render('form-signup'));
new _Tabs.default('.tabs-head', '.tabs-body', 1, _DataDynamicComponents.tabsData);
const wrapper = document.querySelector('modal');
const modal = new _Modal.default(wrapper);
modal.render(btnAuth);
window.addEventListener('DOMContentLoaded', () => {
  const userData = JSON.parse(sessionStorage.getItem('userData'));
  if (userData) {
    btnAuth.textContent = `${userData.fullName}`;
    btnAuth.classList.add('deactiveted-profile');
  }
});
const categoriesMenu = document.querySelector('.hero__footer-select');
if (categoriesMenu) {
  categoriesMenu.addEventListener('click', ev => {
    sessionStorage.setItem('category', ev.target.parentElement.dataset.tab);
  });
}
new _Tabs.default('.categories', '.wrapper-cards', 4, undefined, '.qty-mentors span');

},{"./components/Form/Form.js":2,"./components/Form/FormLogin.js":3,"./components/Form/FormRegistr.js":4,"./components/Modal.js":5,"./components/Slider.js":6,"./components/Tabs.js":7,"./utils/DataDynamicComponents.js":12,"./utils/renderCards.js":13,"./utils/searching.js":14}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Api {
  constructor(url) {
    this.ROOT_URL = url;
  }
  async getRequest(routing) {
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'GET'
      // headers: {
      // }
    });

    return await response.json();
  }
  async postRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
        // Autorization: `Bearer ${sessionStorage.getItem('tkn')}`
      }
    });

    return await response.json();
  }
  async putRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'PUT',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
  async deleteRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'DELETE',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
}
exports.default = Api;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class CreateElement {
  constructor(tagName, params) {
    this.tagName = tagName;
    this.params = params;
  }
  render() {
    const element = document.createElement(this.tagName);
    for (let key in this.params) {
      switch (key) {
        case 'dataset':
          for (let dataKey in this.params[key]) {
            element.dataset[dataKey] = this.params[key][dataKey];
          }
          break;
        default:
          element[key] = this.params[key];
      }
    }
    return element;
  }
}
exports.default = CreateElement;

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tabsData = exports.fieldsDataSignUp = exports.fieldsData = void 0;
const fieldsData = exports.fieldsData = [{
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail',
  value: 'aaaa123@gmail.com'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password',
  value: 'forest5481'
}, {
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign in'
}];
const fieldsDataSignUp = exports.fieldsDataSignUp = [{
  type: 'text',
  className: 'field-auth',
  name: 'fullName',
  placeholder: 'Your name'
}, {
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password'
},
// {type: 'password', className: 'field-auth', name: 'repeat-password', placeholder: 'Repeat your password'},
{
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign up'
}];
const tabsData = exports.tabsData = [{
  className: 'btn-signin',
  textContent: 'Sign In',
  dataset: {
    tab: 'signin'
  }
}, {
  className: 'btn-signup',
  textContent: 'Sign Up',
  dataset: {
    tab: 'signup'
  }
}];

},{}],13:[function(require,module,exports){
"use strict";

var _Api = _interopRequireDefault(require("./Api"));
var _Card = _interopRequireDefault(require("../components/Card"));
var _Slider = _interopRequireDefault(require("../components/Slider"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const mentorsList = document.querySelector('.wrapper-cards');
// const activeCategory = document.querySelector('.categories-item.active')

if (mentorsList) {
  const request = new _Api.default('http://localhost:8080/api');
  const mentors = request.getRequest('/statements');
  mentors.then(data => {
    let numberCard = 0;
    data.forEach(elem => {
      const mentor = new _Card.default(elem);
      mentor.render(mentorsList);
    });
    const categoryFromStorage = sessionStorage.getItem('category');
    if (categoryFromStorage) {
      const selectedCategoryMentors = document.querySelectorAll(`[data-bodyelem="${categoryFromStorage}"]`);
      selectedCategoryMentors.forEach(element => {
        element.classList.add('active');
        numberCard++;
        if (numberCard <= 4) {
          element.classList.add('show');
        }
      });
    } else {
      let allCards = document.querySelectorAll('.item');
      allCards.forEach(elem => {
        elem.classList.add('active');
        numberCard++;
        if (numberCard <= 4) {
          elem.classList.add('show');
        }
      });
    }
    sessionStorage.removeItem('category');
    new _Slider.default('.arrow-right', '.arrow-left', '.item.active', 0, 4, '.qty-mentors span');
  });
}

},{"../components/Card":1,"../components/Slider":6,"./Api":10}],14:[function(require,module,exports){
"use strict";

var _searchForm = _interopRequireDefault(require("../components/searchForm.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
window.addEventListener('DOMContentLoaded', () => {
  if (window.location.pathname === '/searching.html') {
    const selectedCategory = sessionStorage.getItem('category') || 'all';
    const selectedItemHead = document.querySelectorAll('.categories-item');
    if (selectedCategory) {
      selectedItemHead.forEach(elem => {
        elem.classList.remove('active');
        if (elem.dataset.tab == selectedCategory) {
          elem.classList.add('active');
        }
      });
    }
    const searchForm = new _searchForm.default(".form-searching", '.wrapper-cards');
    searchForm.searchInput();
    searchForm.handleSearch();
    // searchForm.onSave()
  }
});

},{"../components/searchForm.js":8}]},{},[9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybS5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybS9Gb3JtTG9naW4uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL01vZGFsLmpzIiwic3JjL3NjcmlwdHMvY29tcG9uZW50cy9TbGlkZXIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL1RhYnMuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaEZvcm0uanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQXBpLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQ3JlYXRlRWxlbWVudC5qcyIsInNyYy9zY3JpcHRzL3V0aWxzL0RhdGFEeW5hbWljQ29tcG9uZW50cy5qcyIsInNyYy9zY3JpcHRzL3V0aWxzL3JlbmRlckNhcmRzLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvc2VhcmNoaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsSUFBQSxjQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQXNELFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUV2QyxNQUFNLElBQUk7RUFDckIsV0FBVyxDQUFDLEtBQUssRUFBQztJQUNkLE1BQU07TUFBRSxHQUFHO01BQUUsUUFBUTtNQUFFLE1BQU07TUFBRSxLQUFLO01BQUUsV0FBVztNQUFFLE1BQU07TUFBRSxRQUFRO01BQUU7SUFBTSxDQUFDLEdBQUcsS0FBSztJQUNwRixJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUc7SUFDYixJ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QSxPQUFBLEdBQUEsSUFBQTs7Ozs7Ozs7O0FDakRELElBQUEsS0FBQSxHQUFBLHVCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsY0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUF3RCxTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFBQSxTQUFBLHlCQUFBLENBQUEsNkJBQUEsT0FBQSxtQkFBQSxDQUFBLE9BQUEsT0FBQSxJQUFBLENBQUEsT0FBQSxPQUFBLFlBQUEsd0JBQUEsWUFBQSxDQUFBLENBQUEsV0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsS0FBQSxDQUFBO0FBQUEsU0FBQSx3QkFBQSxDQUFBLEVBQUEsQ0FBQSxTQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLFVBQUEsU0FBQSxDQUFBLGVBQUEsQ0FBQSx1QkFBQSxDQUFBLHlCQUFBLENBQUEsV0FBQSxPQUFBLEVBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSx3QkFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLE9BQUEsQ0FBQSxLQUFBLFNBQUEsVUFBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsSUFBQSxNQUFBLENBQUEsd0JBQUEsV0FBQSxDQUFBLElBQUEsQ0FBQSxvQkFBQSxDQUFBLElBQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxjQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLFNBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxNQUFBLENBQUEsd0JBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxVQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsR0FBQSxJQUFBLENBQUEsQ0FBQSxHQUFBLElBQUEsTUFBQSxDQUFBLGNBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFB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QUFHLElBQUksbUJBQU0sQ0FBQyxpQkFBaUIsRUFBRSxnQkFBZ0IsQ0FBQztJQUNsRSxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDeEIsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3pCO0VBQ0o7QUFDSixDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgQ3JlYXRlRWxlbWVudCBmcm9tIFwiLi4vdXRpbHMvQ3JlYXRlRWxlbWVudC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcclxuICAgICAgICBjb25zdCB7IF9pZCwgY2F0ZWdvcnksIGltZ1VybCwgdGl0bGUsIGRlc2NyaXB0aW9uLCByYXRpbmcsIGxvY2F0aW9uLCBwcmljZSB9ID0gcHJvcHNcclxuICAgICAgICB0aGlzLmlkID0gX2lkXHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9ICdodHRwczovL2kucHJhdmF0YXIuY2MnXHJcbiAgICAgICAgLy8gdGhpcy5pbWFnZSA9IGltZ1VybCB8fCAnaHR0cHM6Ly9pLnByYXZhdGFyLmNjJ1xyXG4gICAgICAgIC8vICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwJ1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxyXG4gICAgICAgIHRoaXMucmF0aW5nID0gcmF0aW5nXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy5wcmljZSA9IHByaWNlXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyIChjb250YWluZXIpIHtcclxuICAgICAgICBjb25zdCB3cmFwcGVySXRlbSA9IG5ldyBDcmVhdGVFbGVtZW50KCdkaXYnLCB7Y2xhc3NOYW1lOiAnaXRlbScsIGRhdGFzZXQ6e2lkOiB0aGlzLmlkLCBib2R5ZWxlbTogdGhpcy5jYXRlZ29yeX19KS5yZW5kZXIoKVxyXG5cclxuICAgICAgICBjb25zdCBwaWMgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3BpY3R1cmUnLCB7Y2xhc3NOYW1lOiAnaXRlbS1waWMnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBpbWcgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2ltZycsIHtzcmM6IHRoaXMuaW1hZ2UsIGFsdDogJ3Bob3RvJywgY2xhc3NOYW1lOiAnaXRlbS1waWMtcGhvdG8nfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB0aXRsZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgnaDInLCB7dGV4dENvbnRlbnQ6IHRoaXMudGl0bGUsIGNsYXNzTmFtZTogJ2l0ZW0tbWVudG9yLW5hbWUnfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB3cmFwUmF0aW5nID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7Y2xhc3NOYW1lOiAnaXRlbS1yYXRpbmcnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBzdGFycyA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLXN0YXJzJ30pLnJlbmRlcigpXHJcbiAgICAgICAgLy8gY29uc3QgcmF0aW5nQ291bnQgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5yYXRpbmcsIGNsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLWNvdW50J30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgcmF0aW5nQ291bnQgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5jYXRlZ29yeSwgY2xhc3NOYW1lOiAnaXRlbS1yYXRpbmctY291bnQnfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge3RleHRDb250ZW50OiB0aGlzLmRlc2NyaXB0aW9uLCBjbGFzc05hbWU6ICdpdGVtLXN0YWNrJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5sb2NhdGlvbiwgY2xhc3NOYW1lOiAnaXRlbS1sYW5ndWFnZS1jb3VudHJ5J30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYnRuID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdidXR0b24nLCB7Y2xhc3NOYW1lOiAnaXRlbS1ib29raW5nJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgYnRuTGluayA9IG5ldyBDcmVhdGVFbGVtZW50KCdhJywge3RleHRDb250ZW50OiAnQm9vayBUaW1lJywgY2xhc3NOYW1lOiAnaXRlbS1ib29raW5nLWxpbmsnLCBocmVmOiAnIyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGJ0blByaWNlID0gbmV3IENyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7Y2xhc3NOYW1lOiBcIml0ZW0tYm9va2luZy1jb3N0XCIsIHRleHRDb250ZW50OiBgJHt0aGlzLnByaWNlfSQvIGhvdXJzYH0pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcGljLmFwcGVuZChpbWcpXHJcbiAgICAgICAgd3JhcFJhdGluZy5hcHBlbmQoc3RhcnMsIHJhdGluZ0NvdW50KVxyXG4gICAgICAgIGJ0bi5hcHBlbmQoYnRuTGluaywgYnRuUHJpY2UpXHJcbiAgICAgICAgd3JhcHBlckl0ZW0uYXBwZW5kKHBpYywgdGl0bGUsIHdyYXBSYXRpbmcsZGVzY3JpcHRpb24sIGxvY2F0aW9uLCBidG4pXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCh3cmFwcGVySXRlbSlcclxuICAgIH1cclxufSBcclxuIiwiaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uLy4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vLi4vdXRpbHMvQXBpLmpzXCJcclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtQXV0aEFwaSA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvYXV0aC8nKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybSB7XHJcbmNvbnN0cnVjdG9yKGZpZWxkcywgZm9ybSkge1xyXG4gIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpXHJcbiAgdGhpcy5pbnB1dEZpZWxkcyA9IGZpZWxkcyB8fCBbXTtcclxufVxyXG5cclxucmVuZGVyKG5hbWVGb3JtKSB7XHJcbiAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IG5hbWVGb3JtXHJcbiAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbmluJykpIHtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gIH0gIFxyXG4gIGlmKHRoaXMuaW5wdXRGaWVsZHMpe1xyXG4gICAgdGhpcy5pbnB1dEZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnB1dCA9IG5ldyBDcmVhdGVFbGVtZW50KCdpbnB1dCcsIGZpZWxkKVxyXG4gICAgICBjb25zdCBmaWVsZFJlbmRlciA9IGlucHV0LnJlbmRlcigpXHJcbiAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoZmllbGRSZW5kZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMub25TYXZlLmJpbmQodGhpcykpO1xyXG4gIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbn1cclxuXHJcbmhhbmRsZUZvcm0oKXtcclxuICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLm9uU2F2ZS5iaW5kKHRoaXMpKTtcclxuICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG59XHJcblxyXG5zZXJpYWxpemUoKSB7XHJcbiAgICBjb25zdCBmaWVsZHNEYXRhID0ge307XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLmVsZW1lbnQpXHJcbiAgICBcclxuICAgIGZvcihsZXQgW25hbWVdIG9mIGZvcm1EYXRhKXtcclxuICAgICAgZmllbGRzRGF0YVtuYW1lXSA9IGZvcm1EYXRhLmdldChuYW1lKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpZWxkc0RhdGE7XHJcbn1cclxuXHJcbm9uU2F2ZShldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBjb25zdCBkYXRhRmllbGRzID0gdGhpcy5zZXJpYWxpemUoKTtcclxuICBjb25zb2xlLmxvZyhkYXRhRmllbGRzKTtcclxuICByZXR1cm4gZGF0YUZpZWxkc1xyXG59XHJcblxyXG59XHJcblxyXG4iLCJpbXBvcnQgRm9ybSwge2Zvcm1BdXRoQXBpfSBmcm9tIFwiLi9Gb3JtLmpzXCJcclxuaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uLy4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybUxvZ2luIGV4dGVuZHMgRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGRhdGFzZXQpIHtcclxuICAgICAgc3VwZXIoZmllbGRzKVxyXG4gICAgICB0aGlzLmVsZW1lbnQuZGF0YXNldC5ib2R5ZWxlbSA9IGRhdGFzZXRcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gcmVuZGVyKCkge1xyXG4gICAgLy8gICBzdXBlci5yZW5kZXIoKVxyXG4gICAgLy8gICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWduaW4nKSkge1xyXG4gICAgLy8gICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgXHJcbiAgICBhc3luYyBvblNhdmUoZXZlbnQpe1xyXG4gICAgICBjb25zdCByZXF1ZXN0UmVzdWx0ID0gc3VwZXIub25TYXZlKGV2ZW50KVxyXG4gICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0UmVzdWx0KTtcclxuICBcclxuICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbmluJykgJiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJMb2cgPSBhd2FpdCBmb3JtQXV0aEFwaS5wb3N0UmVxdWVzdCgnc2lnbmluJywgcmVxdWVzdFJlc3VsdCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcG9zdFJlcXVlc3QudGhlbigodXNlckxvZykgPT4ge1xyXG4gICAgICAgICAgaWYodXNlckxvZy5tZXNzYWdlKXtcclxuICAgICAgICAgICAgY29uc3Qgc3VibWl0U2lnbmluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbmluIC5idG4tYXV0aCcpXHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdlcnJvci1tZXNzYWdlJywgdGV4dENvbnRlbnQ6IHVzZXJMb2cubWVzc2FnZX0pLnJlbmRlcigpXHJcbiAgICAgICAgICAgIHN1Ym1pdFNpZ25pbi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7aWQ6IHVzZXJMb2cuZGF0YS5faWQsIGZ1bGxOYW1lOiB1c2VyTG9nLmRhdGEuZnVsbE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuICAgICAgICAgICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkJylcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25pbkxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X190aXRsZS1hdXRoJylcclxuICAgICAgICAgICAgICAgICAgc2lnbmluTGluay50ZXh0Q29udGVudCA9IGAke3VzZXJMb2cuZGF0YS5mdWxsTmFtZX1gXHJcbiAgICAgICAgICAgICAgICAgIHNpZ25pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQtcHJvZmlsZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgfSBcclxuICAgICAgXHJcbiAgICB9XHJcbiAgfSIsImltcG9ydCBGb3JtLCB7Zm9ybUF1dGhBcGl9IGZyb20gXCIuL0Zvcm0uanNcIlxyXG5pbXBvcnQgQ3JlYXRlRWxlbWVudCBmcm9tIFwiLi4vLi4vdXRpbHMvQ3JlYXRlRWxlbWVudC5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtUmVnaXN0ciBleHRlbmRzIEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBkYXRhc2V0KSB7XHJcbiAgICAgIHN1cGVyKGZpZWxkcylcclxuICAgICAgXHJcbiAgICAgIHRoaXMuZWxlbWVudC5kYXRhc2V0LmJvZHllbGVtID0gZGF0YXNldFxyXG4gICAgfVxyXG4gIFxyXG4gICAgYXN5bmMgb25TYXZlKGV2ZW50KXtcclxuICAgICAgY29uc3QgcmVxdWVzdFJlc3VsdCA9IHN1cGVyLm9uU2F2ZShldmVudClcclxuICBcclxuICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbnVwJykgJiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICBjb25zdCB1c2VyUmVnID0gYXdhaXQgZm9ybUF1dGhBcGkucG9zdFJlcXVlc3QoJ3NpZ251cCcsIHJlcXVlc3RSZXN1bHQpXHJcbiAgICBcclxuICAgIC8vICh1c2VyUmVnKSA9PiB7XHJcbiAgICAgIGlmKHVzZXJSZWcuc3RhdHVzVGV4dCA9PT0gXCLQotCw0LrQuNC5IGVtYWlsINCy0LbQtSDRltGB0L3Rg9GUXCIpe1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdFNpZ251cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXNpZ251cCAuYnRuLWF1dGgnKVxyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZVNpZ251cCA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdlcnJvci1tZXNzYWdlJywgdGV4dENvbnRlbnQ6IHVzZXJSZWcuc3RhdHVzVGV4dH0pLnJlbmRlcigpXHJcbiAgICAgICAgc3VibWl0U2lnbnVwLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBlcnJvck1lc3NhZ2VTaWdudXApXHJcbiAgICAgIH0gZWxzZSBcclxuICAgICAgICBpZiAodXNlclJlZy5zdGF0dXNUZXh0ID09PSBcIlRoYW5rcyBmb3IgcmVnaXN0ZXJpbmcuXCIpIHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0ge2VtYWlsOiB1c2VyUmVnLmVtYWlsLCBmdWxsTmFtZTogdXNlclJlZy5mdWxsTmFtZX1cclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBtb2RhbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpXHJcbiAgICAgICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQnKVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcbiAgICAgICAgICBjb25zdCBwb3B1cFRleHQgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7Y2xhc3NOYW1lOiAncG9wdXAtdGV4dCcsIHRleHRDb250ZW50OiB1c2VyUmVnLnN0YXR1c1RleHR9KS5yZW5kZXIoKVxyXG4gICAgICAgICAgcG9wdXAuYXBwZW5kKHBvcHVwVGV4dClcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHNpZ25pbkxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X190aXRsZS1hdXRoJylcclxuICAgICAgICAgIHNpZ25pbkxpbmsudGV4dENvbnRlbnQgPSBgJHt1c2VyUmVnLmZ1bGxOYW1lfWBcclxuICAgICAgICAgIHNpZ25pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQtcHJvZmlsZScpXHJcbiAgICAgIH1cclxuICAgIH0gXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICAgIGNvbnN0cnVjdG9yIChodG1sKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gaHRtbFxyXG4gICAgfVxyXG4gICAgcmVuZGVyKGJ0bikge1xyXG4gICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuXHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdkZWFjdGl2ZXRlZCcpXHJcblxyXG4gICAgICAgICAgICBtb2RhbFdyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ21vZGFsLWNsb3NlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9KSAgICBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGJ0blJpZ2h0LCBidG5MZWZ0LCBzbGlkZUl0ZW0sIGluZGV4Rmlyc3RFbGVtLCBzZXQsIHF0eUFjdGl2ZVNsaWRlcykge1xyXG4gICAgICAgIHRoaXMuYnRuUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0blJpZ2h0KVxyXG4gICAgICAgIHRoaXMuYnRuTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuTGVmdClcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzbGlkZUl0ZW0pKTtcclxuICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSBpbmRleEZpcnN0RWxlbSB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0IHx8IDQ7XHJcbiAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF0eUFjdGl2ZVNsaWRlcylcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVTbGlkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5idG5MZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlU2xpZGVzID0gdGhpcy5zbGlkZXMuZmlsdGVyKChzbGlkZSkgPT4gc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7YWN0aXZlU2xpZGVzLmxlbmd0aH1gXHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc0NsZWFyU2xpZGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsZWFyU2xpZGVyJylcclxuICAgICAgICAgICAgaWYoaXNDbGVhclNsaWRlciA9PT0gJ3RydWUnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IDBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsZWFyU2xpZGVyJywgZmFsc2UpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ0blJpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0JylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuZmlyc3RJbmRleCA9PT0gMCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuTGVmdC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0LvRltCy0L4gKNC90LDQt9Cw0LQg0LTQviDQv9C+0YfQsNGC0LrRgylcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCAtIDEgXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZXNbbGFzdEluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gdGhpcy5maXJzdEluZGV4IC0gMSBcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0blJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlU2xpZGVzID0gdGhpcy5zbGlkZXMuZmlsdGVyKChzbGlkZSkgPT4gc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7YWN0aXZlU2xpZGVzLmxlbmd0aH1gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgc2xpZGVDb3VudCA9IGFjdGl2ZVNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc0NsZWFyU2xpZGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsZWFyU2xpZGVyJylcclxuICAgICAgICAgICAgaWYoaXNDbGVhclNsaWRlciA9PT0gJ3RydWUnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IDBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsZWFyU2xpZGVyJywgZmFsc2UpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ0bkxlZnQuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3QnKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHNsaWRlQ291bnQgPD0gKHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5SaWdodC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0L/RgNCw0LLQviAo0LLQv9C10YDQtdC0INC00L4g0LrRltC90YbRjylcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKSBcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIDEgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCAtIDFcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1tsYXN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgaWYoISF0aGlzLnNsaWRlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlcigpXHJcbiAgICAgICAgfSBcclxuICAgIH1cclxufSIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJzIHtcclxuICAgIGNvbnN0cnVjdG9yIChzZWxlY3RvckhlYWQsIHNlbGVjdG9yQm9keSwgc2V0LCB0YWJzLCBxdHlBY3RpdmVTbGlkZXMpIHtcclxuICAgICAgICB0aGlzLnRhYnMgPSB0YWJzIHx8IFtdXHJcbiAgICAgICAgdGhpcy5oZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckhlYWQpIHx8ICcnIFxyXG4gICAgICAgIHRoaXMuYm9keXRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JCb2R5KSB8fCAnJyBcclxuICAgICAgICB0aGlzLnNldCA9IHNldCB8fCAxXHJcbiAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF0eUFjdGl2ZVNsaWRlcylcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVUYWJzKCkge1xyXG4gICAgICAgIGlmKHRoaXMuaGVhZCl7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZC5hZGRFdmVudExpc3RlbmVyICgnY2xpY2snLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgWy4uLnRoaXMuaGVhZC5jaGlsZHJlbl0uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsZWFyU2xpZGVyJywgdHJ1ZSlcclxuXHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZXYudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYm9keXRhYikge1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bWJlckNhcmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgWy4uLnRoaXMuYm9keXRhYi5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmRhdGFzZXQuYm9keWVsZW0gPT09IGV2LnRhcmdldC5kYXRhc2V0LnRhYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSB0aGlzLnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihcImFsbFwiID09PSBldi50YXJnZXQuZGF0YXNldC50YWIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSB0aGlzLnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTbGlkZXMgPSB0aGlzLmJvZHl0YWIucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnF0eUFjdGl2ZVNsaWRlcy50ZXh0Q29udGVudCA9IGAke2FjdGl2ZVNsaWRlcy5sZW5ndGh9YFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub01lbnRvck1lc3NhZ2UgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7dGV4dENvbnRlbnQ6ICdUaGVyZSBhcmUgbm8gbWVudG9ycyBieSB0aGlzIHN0YXRlbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3dyYXBwZXItY2FyZHNfX21lc3NhZ2UnfSkucmVuZGVyKClcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9keXRhYi5hcHBlbmQobm9NZW50b3JNZXNzYWdlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxucmVuZGVyKCkge1xyXG4gICAgdGhpcy50YWJzLmZvckVhY2goKHRhYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNpbmdsZVRhYiA9IG5ldyBDcmVhdGVFbGVtZW50KCdidXR0b24nLCB0YWIpLnJlbmRlcigpICBcclxuICAgICAgICBpZiAoc2luZ2xlVGFiLmNsYXNzTmFtZSA9PT0gJ2J0bi1zaWduaW4nKSB7XHJcbiAgICAgICAgICAgIHNpbmdsZVRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgdGhpcy5oZWFkLmFwcGVuZChzaW5nbGVUYWIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmluaXQoKSB7XHJcbiAgICBpZighIXRoaXMudGFicy5sZW5ndGgpe1xyXG4gICAgICAgIHRoaXMucmVuZGVyKClcclxuICAgIH1cclxuICAgIHRoaXMuaGFuZGxlVGFicygpICAgXHJcbn1cclxufVxyXG4iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi9Gb3JtL0Zvcm0uanNcIlxyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIlxyXG5pbXBvcnQgQ3JlYXRlRWxlbWVudCBmcm9tIFwiLi4vdXRpbHMvQ3JlYXRlRWxlbWVudC5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2ggZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKGZvcm0sIGNhcmRzTGlzdCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSlcclxuICAgICAgICB0aGlzLmNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZHNMaXN0KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIilcclxuXHJcbiAgICAgICAgLy8gdGhpcy5yZXN1bHRzID0gc2VhcmNoUmVzdWx0c1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVzdWx0cyk7XHJcbiAgICAgICAgICAgIC8v0YHQtdGA0LXQtCDRj9C60LjRhSDQtdC70LXQvNC10L3RgtGW0LIg0LHRg9C00LUg0LnRgtC4INC/0L7RiNGD0Lo6XHJcbiAgICAgICAgICAgIC8vIC0gc2VhcmNoIC0g0L/QvtGI0YPQuiDQv9C+INC60LvRjtGH0L7QstC40Lwg0YTRgNCw0LfQsNC8INCyIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIC8vIC0gY2F0ZWdvcnkgLSDQv9C+0YjRg9C6INC/0L4g0YDQvtC30YjQuNGA0LXQvdC+0LzRgyDRgdC/0LjRgdC60YMg0LrQsNGC0LXQs9C+0YDRltC5IGl0ZW1pemVkQ2F0ZWdvcnkg0Lcg0LLQuNC/0LDQtNCw0Y7Rh9C+0LPQviDRgdC/0LjRgdC60YNcclxuICAgIH1cclxuICAgIGhhbmRsZVNlYXJjaCgpe1xyXG4gICAgICAgIHN1cGVyLmhhbmRsZUZvcm0oKVxyXG4gICAgfVxyXG4gICAgc2VhcmNoSW5wdXQoKXtcclxuICAgICAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXMtaXRlbS5hY3RpdmUnKVxyXG4gICAgICAgICAgICBpZihhY3RpdmVDYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2F0ZWdvcnkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwiYWxsXCJdJykuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kYXRhKVxyXG4gICAgICAgICAgICBjb25zdCBzZWFyY2hWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgICAgICAgICAvLyByZXR1cm4gc2VhcmNoVmFsdWVcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGknKVxyXG4gICAgICAgICAgICBjb25zdCBtZW50b3JzID0gcmVxdWVzdC5nZXRSZXF1ZXN0KCcvc3RhdGVtZW50cycpO1xyXG4gICAgICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBbLi4udGhpcy5jYXJkc0xpc3QuY2hpbGRyZW5dLmZvckVhY2goc2luZ2xlQ2FyZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICBtZW50b3JzLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKChtZW50b3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRXb3JkcyA9IFsuLi5zZWFyY2hWYWx1ZS5zcGxpdCgnICcpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkV29yZHMubGVuZ3RoOyBpKyspIHsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtRmluZCA9IG1lbnRvci5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlbGVjdGVkV29yZHNbaV0udG9Mb3dlckNhc2UoKSkgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2luZ2xlQ2FyZC5kYXRhc2V0LmlkLCBtZW50b3IuX2lkICkgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtRmluZCAmJiBzaW5nbGVDYXJkLmRhdGFzZXQuaWQgPT09IG1lbnRvci5faWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKGVsZW1GaW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihudW1iZXJDYXJkIDw9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vKiAq0LLQuNCx0ZbRgCDQv9C+INC+0LTQvdC+0LzRgyDRgdC70L7QstGDINCw0LHQviDQstC40YDQsNC30YM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVmFsdWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYoZWxlbUZpbmQgJiBzaW5nbGVDYXJkLmRhdGFzZXQuaWQgPT09IG1lbnRvci5faWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LmFkZCgnc2hvdycpICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IG9uZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaXRlbS5hY3RpdmUuc2hvdycpXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvbmVDYXJkKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGlmICghb25lQ2FyZCl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgbWVudG9yc0NhcmRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBub01lbnRvck1lc3NhZ2UgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7dGV4dENvbnRlbnQ6ICdUaGVyZSBhcmUgbm8gbWVudG9ycyBieSB0aGlzIHN0YXRlbWVudHMnLCBjbGFzc05hbWU6ICd3cmFwcGVyLWNhcmRzX19tZXNzYWdlJ30pLnJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbWVudG9yc0NhcmRzV3JhcHBlci5hcHBlbmQobm9NZW50b3JNZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KSBcclxuICAgIH1cclxuICAgIGFzeW5jIG9uU2F2ZShldmVudCl7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5lbGVtZW50KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaElucHV0KCkpOyAvLyDQvdC1INC30L3QsNGF0L7QtNC40YLRjFxyXG4gICAgICAgIC8vIGNvbnN0IHJlcXVlc3RSZXMgPSB0aGlzLnNlYXJjaElucHV0KCk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFJlcyA9IHN1cGVyLm9uU2F2ZShldmVudCkgLy8g0LTQu9GPINC20LjQstC+0LPQviDQv9C+0YjRg9C60YMg0YbQtdC5INGA0Y/QtNC+0Log0LrQvtC80LXQvdGC0YPRlNGC0YzRgdGPXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWREZXNjcmlwID0gcmVxdWVzdFJlcy5zZWFyY2ggLy8g0YbQtSDQsdGD0LTQtSDQsdGA0LDRgtC40YHRjyDQtyDQvtC60YDQtdC80L7Qs9C+INC80LXRgtC+0LTRgyBzZWFyY2hJbnB1dFxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSByZXF1ZXN0UmVzLmNhdGVnb3J5IC8vIGkg0YbQtSDQsdGA0LDRgtC40YHRjyDQtyDQvtC60YDQtdC80L7Qs9C+INC80LXRgtC+0LTRgyBzZWFyY2hDYXRlZ29yeVxyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICAgICAgY29uc3QgbWVudG9ycyA9IGF3YWl0IHJlcXVlc3QuZ2V0UmVxdWVzdCgnL3N0YXRlbWVudHMnKTtcclxuICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDA7XHJcbiAgICAgICAgWy4uLnRoaXMuY2FyZHNMaXN0LmNoaWxkcmVuXS5mb3JFYWNoKHNpbmdsZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcblxyXG4gICAgICAgICAgICBtZW50b3JzLmZvckVhY2gobWVudG9yID0+IHsgXHJcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZENhdGVnb3J5LmluY2x1ZGVzKG1lbnRvci5pdGVtaXplZENhdGVnb3J5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lbnRvci5pdGVtaXplZENhdGVnb3J5KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmRzID0gWy4uLnNlbGVjdGVkRGVzY3JpcC5zcGxpdCgnICcpXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkV29yZHMubGVuZ3RoOyBpKyspIHsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VsZWN0ZWRXb3Jkc1tpXS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1GaW5kICYgc2luZ2xlQ2FyZC5kYXRhc2V0LmlkID09PSBtZW50b3IuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihudW1iZXJDYXJkIDw9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pICBcclxuICAgICAgICB9KSBcclxuICAgICAgICBjb25zdCBvbmVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLml0ZW0uYWN0aXZlLnNob3cnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKG9uZUNhcmQpO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCFvbmVDYXJkKXtcclxuICAgICAgICAgICAgY29uc3QgbWVudG9yc0NhcmRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuICAgICAgICAgICAgY29uc3Qgbm9NZW50b3JNZXNzYWdlID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge3RleHRDb250ZW50OiAnVGhlcmUgYXJlIG5vIG1lbnRvcnMgYnkgdGhpcyBzdGF0ZW1lbnRzJywgY2xhc3NOYW1lOiAnd3JhcHBlci1jYXJkc19fbWVzc2FnZSd9KS5yZW5kZXIoKVxyXG4gICAgICAgICAgICBtZW50b3JzQ2FyZHNXcmFwcGVyLmFwcGVuZChub01lbnRvck1lc3NhZ2UpXHJcbiAgICAgICAgfVxyXG4gICAgfSAgICAgXHJcbn1cclxuIiwiaW1wb3J0IFRhYnMgZnJvbSBcIi4vY29tcG9uZW50cy9UYWJzLmpzXCJcclxuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi9jb21wb25lbnRzL1NsaWRlci5qc1wiXHJcbi8vIGltcG9ydCB7Rm9ybUxvZ2luLCBGb3JtfSBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybS5qc1wiXHJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybS9Gb3JtLmpzXCJcclxuaW1wb3J0IEZvcm1Mb2dpbiBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybUxvZ2luLmpzXCJcclxuaW1wb3J0IEZvcm1SZWdpc3RyIGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybS9Gb3JtUmVnaXN0ci5qc1wiXHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi9jb21wb25lbnRzL01vZGFsLmpzXCJcclxuaW1wb3J0IHsgZmllbGRzRGF0YSwgZmllbGRzRGF0YVNpZ25VcCwgdGFic0RhdGEgfSBmcm9tIFwiLi91dGlscy9EYXRhRHluYW1pY0NvbXBvbmVudHMuanNcIlxyXG5pbXBvcnQgXCIuL3V0aWxzL3NlYXJjaGluZy5qc1wiXHJcbmltcG9ydCBcIi4vdXRpbHMvcmVuZGVyQ2FyZHMuanNcIlxyXG5cclxuY29uc3Qgc3dpdGNoTW9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4nKVxyXG5cclxuc3dpdGNoTW9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbGlnaHQnKSBcclxufSlcclxuXHJcbmNvbnN0IGJ0bkF1dGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X190aXRsZS1hdXRoJylcclxuXHJcbmNvbnN0IGZvcm1TaWduSW4gPSBuZXcgRm9ybUxvZ2luKGZpZWxkc0RhdGEsICdzaWduaW4nKVxyXG5jb25zdCBmb3JtU2lnblVwID0gbmV3IEZvcm1SZWdpc3RyKGZpZWxkc0RhdGFTaWduVXAsICdzaWdudXAnKVxyXG5jb25zdCBmb3JtV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzLWJvZHknKVxyXG5mb3JtV3JhcHBlci5hcHBlbmQoZm9ybVNpZ25Jbi5yZW5kZXIoJ2Zvcm0tc2lnbmluJyksZm9ybVNpZ25VcC5yZW5kZXIoJ2Zvcm0tc2lnbnVwJykpXHJcblxyXG5uZXcgVGFicygnLnRhYnMtaGVhZCcsICcudGFicy1ib2R5JywgMSwgdGFic0RhdGEpXHJcblxyXG5jb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbW9kYWwnKVxyXG5jb25zdCBtb2RhbCA9IG5ldyBNb2RhbCh3cmFwcGVyKVxyXG5tb2RhbC5yZW5kZXIoYnRuQXV0aClcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpIFxyXG4gICAgaWYodXNlckRhdGEpIHtcclxuICAgICAgICBidG5BdXRoLnRleHRDb250ZW50ID0gYCR7dXNlckRhdGEuZnVsbE5hbWV9YFxyXG4gICAgICAgIGJ0bkF1dGguY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQtcHJvZmlsZScpXHJcbiAgICB9XHJcbn0pXHJcblxyXG5jb25zdCBjYXRlZ29yaWVzTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19mb290ZXItc2VsZWN0JylcclxuaWYoY2F0ZWdvcmllc01lbnUpe1xyXG4gICAgY2F0ZWdvcmllc01lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeScsIGV2LnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFiKVxyXG4gICAgfSlcclxufVxyXG5cclxubmV3IFRhYnMoJy5jYXRlZ29yaWVzJywgJy53cmFwcGVyLWNhcmRzJywgNCwgdW5kZWZpbmVkLCAnLnF0eS1tZW50b3JzIHNwYW4nKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IodXJsKSB7XHJcbiAgICB0aGlzLlJPT1RfVVJMID0gdXJsXHJcbiAgfVxyXG4gIGFzeW5jIGdldFJlcXVlc3Qocm91dGluZykge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLlJPT1RfVVJMICsgcm91dGluZywge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAvLyBoZWFkZXJzOiB7XHJcbiAgICAgIC8vIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIH1cclxuICBhc3luYyBwb3N0UmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIC8vIEF1dG9yaXphdGlvbjogYEJlYXJlciAke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RrbicpfWBcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICB9XHJcbiAgYXN5bmMgcHV0UmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfVxyXG4gIGFzeW5jIGRlbGV0ZVJlcXVlc3Qocm91dGluZywgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCh0aGlzLlJPT1RfVVJMICsgcm91dGluZyksIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH0gICBcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENyZWF0ZUVsZW1lbnQge1xyXG4gICAgY29uc3RydWN0b3IodGFnTmFtZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy50YWdOYW1lID0gdGFnTmFtZVxyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zXHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy50YWdOYW1lKVxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnBhcmFtcykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0YXNldCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZGF0YUtleSBpbiB0aGlzLnBhcmFtc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YXNldFtkYXRhS2V5XSA9IHRoaXMucGFyYW1zW2tleV1bZGF0YUtleV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gdGhpcy5wYXJhbXNba2V5XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbGVtZW50XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgZmllbGRzRGF0YSA9IFtcclxuICAgIHt0eXBlOiAnZW1haWwnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICdZb3VyIGUtbWFpbCcsIHZhbHVlOiAnYWFhYTEyM0BnbWFpbC5jb20nfSxcclxuICAgIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCcsIHZhbHVlOiAnZm9yZXN0NTQ4MSd9LFxyXG4gICAge3R5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdidG4tYXV0aCcsIHZhbHVlOiAnU2lnbiBpbid9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBmaWVsZHNEYXRhU2lnblVwID0gW1xyXG4gICAge3R5cGU6ICd0ZXh0JywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdmdWxsTmFtZScsIHBsYWNlaG9sZGVyOiAnWW91ciBuYW1lJ30sXHJcbiAgICB7dHlwZTogJ2VtYWlsJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAnWW91ciBlLW1haWwnfSxcclxuICAgIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCd9LFxyXG4gICAgLy8ge3R5cGU6ICdwYXNzd29yZCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAncmVwZWF0LXBhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdSZXBlYXQgeW91ciBwYXNzd29yZCd9LFxyXG4gICAge3R5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdidG4tYXV0aCcsIHZhbHVlOiAnU2lnbiB1cCd9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCB0YWJzRGF0YSA9IFtcclxuICAgIHtjbGFzc05hbWU6ICdidG4tc2lnbmluJywgdGV4dENvbnRlbnQ6ICdTaWduIEluJywgZGF0YXNldDoge3RhYjonc2lnbmluJ319LFxyXG4gICAge2NsYXNzTmFtZTogJ2J0bi1zaWdudXAnLCB0ZXh0Q29udGVudDogJ1NpZ24gVXAnLCBkYXRhc2V0OiB7dGFiOidzaWdudXAnfX1cclxuXVxyXG4iLCJpbXBvcnQgQXBpIGZyb20gXCIuL0FwaVwiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2xpZGVyXCI7XHJcblxyXG5jb25zdCBtZW50b3JzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuLy8gY29uc3QgYWN0aXZlQ2F0ZWdvcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllcy1pdGVtLmFjdGl2ZScpXHJcblxyXG5pZihtZW50b3JzTGlzdCkge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGknKVxyXG4gICAgY29uc3QgbWVudG9ycyA9IHJlcXVlc3QuZ2V0UmVxdWVzdCgnL3N0YXRlbWVudHMnKTtcclxuICAgIG1lbnRvcnMudGhlbihkYXRhID0+IHtcclxuICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDBcclxuXHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnRvciA9IG5ldyBDYXJkKGVsZW0pO1xyXG4gICAgICAgICAgICBtZW50b3IucmVuZGVyKG1lbnRvcnNMaXN0KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5RnJvbVN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeScpXHJcbiAgICAgICAgaWYoY2F0ZWdvcnlGcm9tU3RvcmFnZSl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnlNZW50b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtYm9keWVsZW09XCIke2NhdGVnb3J5RnJvbVN0b3JhZ2V9XCJdYClcclxuICAgICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeU1lbnRvcnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIG51bWJlckNhcmQrK1xyXG4gICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYWxsQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbScpXHJcbiAgICAgICAgICAgIGFsbENhcmRzLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhdGVnb3J5JylcclxuICAgICAgICBuZXcgU2xpZGVyKCcuYXJyb3ctcmlnaHQnLCAnLmFycm93LWxlZnQnLCAnLml0ZW0uYWN0aXZlJywgMCwgNCwgJy5xdHktbWVudG9ycyBzcGFuJykgXHJcbiAgICB9KVxyXG59XHJcbiIsImltcG9ydCBTZWFyY2ggZnJvbSBcIi4uL2NvbXBvbmVudHMvc2VhcmNoRm9ybS5qc1wiXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2hpbmcuaHRtbCcpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY2F0ZWdvcnknKSB8fCAnYWxsJ1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbUhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0ZWdvcmllcy1pdGVtJylcclxuICAgICAgICAgICAgICBcclxuICAgICAgICBpZihzZWxlY3RlZENhdGVnb3J5KXtcclxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSGVhZC5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhc2V0LnRhYiA9PSBzZWxlY3RlZENhdGVnb3J5KXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzZWFyY2hGb3JtID0gbmV3IFNlYXJjaChcIi5mb3JtLXNlYXJjaGluZ1wiLCAnLndyYXBwZXItY2FyZHMnKSBcclxuICAgICAgICBzZWFyY2hGb3JtLnNlYXJjaElucHV0KClcclxuICAgICAgICBzZWFyY2hGb3JtLmhhbmRsZVNlYXJjaCgpXHJcbiAgICAgICAgLy8gc2VhcmNoRm9ybS5vblNhdmUoKVxyXG4gICAgfVxyXG59KSJdfQ==
