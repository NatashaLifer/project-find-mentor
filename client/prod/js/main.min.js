(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Card {
  constructor(props) {
    const {
      _id,
      category,
      imgUrl,
      title,
      description,
      rating,
      location,
      price
    } = props;
    this.id = _id;
    this.category = category;
    this.image = imgUrl || 'https://i.pravatar.cc';
    // 'https://via.placeholder.com/150'
    this.title = title;
    this.description = description;
    this.rating = rating;
    this.location = location;
    this.price = price;
  }
  render(container) {
    const wrapperItem = new _CreateElement.default('div', {
      className: 'item',
      dataset: {
        id: this.id,
        bodyelem: this.category
      }
    }).render();
    const pic = new _CreateElement.default('picture', {
      className: 'item-pic'
    }).render();
    const img = new _CreateElement.default('img', {
      src: this.image,
      alt: 'photo',
      className: 'item-pic-photo'
    }).render();
    const title = new _CreateElement.default('h2', {
      textContent: this.title,
      className: 'item-mentor-name'
    }).render();
    const wrapRating = new _CreateElement.default('div', {
      className: 'item-rating'
    }).render();
    const starsBox = new _CreateElement.default('div', {
      className: 'item-rating-box'
    }).render();
    let starsWidth = this.rating * 100 / 250;
    const stars = new _CreateElement.default('div', {
      className: 'item-rating-stars',
      style: `width: ${starsWidth}%;`
    }).render();
    const ratingCount = new _CreateElement.default('div', {
      textContent: `(${this.rating})`,
      className: 'item-rating-count'
    }).render();
    // const ratingCount = new CreateElement ('div', {textContent: this.category, className: 'item-rating-count'}).render()

    const description = new _CreateElement.default('div', {
      textContent: this.description,
      className: 'item-stack'
    }).render();
    const location = new _CreateElement.default('div', {
      textContent: this.location,
      className: 'item-language-country'
    }).render();
    const btn = new _CreateElement.default('button', {
      className: 'item-booking'
    }).render();
    const btnLink = new _CreateElement.default('a', {
      textContent: 'Book Time',
      className: 'item-booking-link',
      href: '#'
    }).render();
    const btnPrice = new _CreateElement.default('span', {
      className: "item-booking-cost",
      textContent: `${this.price}$/ hours`
    }).render();
    pic.append(img);
    starsBox.append(stars);
    wrapRating.append(starsBox, ratingCount);
    btn.append(btnLink, btnPrice);
    wrapperItem.append(pic, title, wrapRating, description, location, btn);
    container.append(wrapperItem);
  }
}
exports.default = Card;

},{"../utils/CreateElement.js":11}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formAuthApi = exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
var _Api = _interopRequireDefault(require("../../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const formAuthApi = exports.formAuthApi = new _Api.default('http://localhost:8080/api/auth/');
class Form {
  constructor(fields, form) {
    this.element = document.querySelector(form) || document.createElement('form');
    this.inputFields = fields || [];
  }
  render(nameForm) {
    this.element.className = nameForm;
    if (this.element.classList.contains('form-signin')) {
      this.element.classList.add('active');
    }
    if (this.inputFields) {
      this.inputFields.forEach(field => {
        const input = new _CreateElement.default('input', field);
        const fieldRender = input.render();
        this.element.append(fieldRender);
      });
    }
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  handleForm() {
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  serialize() {
    const fieldsData = {};
    const formData = new FormData(this.element);
    for (let [name] of formData) {
      fieldsData[name] = formData.get(name);
    }
    return fieldsData;
  }
  onSave(event) {
    event.preventDefault();
    const dataFields = this.serialize();
    event.target.reset();
    return dataFields;
  }
}
exports.default = Form;

},{"../../utils/Api.js":10,"../../utils/CreateElement.js":11}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormLogin extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }

  // render() {
  //   super.render()
  //   if (this.element.classList.contains('form-signin')) {
  //     this.element.classList.add('active')
  //   }
  // }

  async onSave(event) {
    const requestResult = super.onSave(event);
    // console.log(requestResult);

    if (this.element.classList.contains('form-signin') & this.element.classList.contains('active')) {
      const userLog = await _Form.formAuthApi.postRequest('signin', requestResult);

      // postRequest.then((userLog) => {
      if (userLog.message) {
        const submitSignin = document.querySelector('.form-signin .btn-auth');
        const errorMessage = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userLog.message
        }).render();
        submitSignin.insertAdjacentElement('beforebegin', errorMessage);
      } else {
        const userData = {
          id: userLog.data._id,
          fullName: userLog.data.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const signinLink = document.querySelector('.nav__item-auth');
        signinLink.textContent = `${userLog.data.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
      // })
    }
  }
}
exports.default = FormLogin;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormRegistr extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }
  async onSave(event) {
    const requestResult = super.onSave(event);
    if (this.element.classList.contains('form-signup') & this.element.classList.contains('active')) {
      const userReg = await _Form.formAuthApi.postRequest('signup', requestResult);

      // (userReg) => {
      if (userReg.statusText === "Такий email вже існує") {
        const submitSignup = document.querySelector('.form-signup .btn-auth');
        const errorMessageSignup = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userReg.statusText
        }).render();
        submitSignup.insertAdjacentElement('beforebegin', errorMessageSignup);
      } else if (userReg.statusText === "Thanks for registering.") {
        const userData = {
          email: userReg.email,
          fullName: userReg.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const popup = document.querySelector('.popup');
        const popupText = new _CreateElement.default('p', {
          className: 'popup-text',
          textContent: userReg.statusText
        }).render();
        popup.append(popupText);
        const signinLink = document.querySelector('.nav__item-auth');
        signinLink.textContent = `${userReg.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
    }
  }
}
exports.default = FormRegistr;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireDefault(require("./Form.js"));
var _Api = _interopRequireDefault(require("../../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Search extends _Form.default {
  constructor(form, cardsList, qtyActiveSlides, messageNoCard) {
    super();
    this.element = document.querySelector(form);
    this.cardsList = document.querySelector(cardsList);
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides);
    this.input = this.element.querySelector("input");
    this.messageNoCard = document.querySelector(messageNoCard);
    // this.results = searchResults
    // console.log(this.results);
    //серед яких елементів буде йти пошук: 
    // - search - пошук по ключовим фразам в description
    // - category - пошук по розширеному списку категорій itemizedCategory з випадаючого списку
  }

  handleSearch() {
    super.handleForm();
  }
  searchInput() {
    this.input.addEventListener('input', event => {
      const activeCategory = document.querySelector('.categories-item.active');
      if (activeCategory) {
        activeCategory.classList.remove('active');
        //document.querySelector('[data-tab="all"]').add('active')
      }

      this.messageNoCard.classList.remove('visible');
      // const activeSlides = this.cardsList.querySelectorAll('.active')

      // console.log(event.data)
      const searchValue = event.target.value;
      // return searchValue
      const request = new _Api.default('http://localhost:8080/api');
      const mentors = request.getRequest('/statements');
      let numberCard = 0;
      [...this.cardsList.children].forEach(singleCard => {
        singleCard.classList.remove('active');
        singleCard.classList.remove('show');
        mentors.then(data => {
          data.forEach(mentor => {
            const selectedWords = [...searchValue.split(' ')];
            for (let i = 0; i < selectedWords.length; i++) {
              const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
              // console.log(singleCard.dataset.id, mentor._id )                         
              if (elemFind && singleCard.dataset.id === mentor._id) {
                singleCard.classList.add('active');
                numberCard++;
                this.qtyActiveSlides.textContent = `${numberCard}`;
                if (numberCard <= 4) {
                  singleCard.classList.add('show');
                }
              }
            }

            //* *вибір по одному слову або виразу:
            // const elemFind = mentor.description.toLowerCase().includes(searchValue.toLowerCase())
            // if(elemFind & singleCard.dataset.id === mentor._id) {
            //     singleCard.classList.add('active')
            //     singleCard.classList.add('show')                     
            // }
          });
        });
        // const oneCard = document.querySelector('.item.active.show')
        // console.log(oneCard);

        // if (!oneCard){
        //     const mentorsCardsWrapper = document.querySelector('.wrapper-cards')
        //     const noMentorMessage = new CreateElement ('p', {textContent: 'There are no mentors by this statements', className: 'wrapper-cards__message'}).render()
        //     mentorsCardsWrapper.append(noMentorMessage)
        // }
      });
    });
  }

  async onSave(event) {
    // console.log(this.element);
    // console.log(this.searchInput()); // не знаходить
    // const requestRes = this.searchInput();
    const requestRes = super.onSave(event); // для живого пошуку цей рядок коментується
    const selectedDescrip = requestRes.search; // це буде братися з окремого методу searchInput
    const selectedCategory = requestRes.category; // i це братися з окремого методу searchCategory

    const request = new _Api.default('http://localhost:8080/api');
    const mentors = await request.getRequest('/statements');
    let numberCard = 0;
    [...this.cardsList.children].forEach(singleCard => {
      singleCard.classList.remove('active');
      singleCard.classList.remove('show');
      mentors.forEach(mentor => {
        if (selectedCategory.includes(mentor.itemizedCategory)) {
          const selectedWords = [...selectedDescrip.split(' ')];
          for (let i = 0; i < selectedWords.length; i++) {
            const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
            if (elemFind & singleCard.dataset.id === mentor._id) {
              singleCard.classList.add('active');
              numberCard++;
              if (numberCard <= 4) {
                singleCard.classList.add('show');
              }
            }
          }
        }
      });
    });
    const activeSlides = this.cardsList.querySelectorAll('.active');
    this.qtyActiveSlides.textContent = `${activeSlides.length}`;
    const oneCard = document.querySelector('.item.active.show');
    if (!oneCard) {
      this.messageNoCard.classList.add('visible');

      // const mentorsCardsWrapper = document.querySelector('.wrapper-cards')
      // const noMentorMessage = new CreateElement ('p', {textContent: 'There are no mentors by this statements', className: 'wrapper-cards__message'}).render()
      // mentorsCardsWrapper.append(noMentorMessage)
    }
  }
}
exports.default = Search;

},{"../../utils/Api.js":10,"./Form.js":2}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Modal {
  constructor(html) {
    this.content = html;
  }
  render(btn) {
    const modalWrap = document.querySelector('.modal-wrapper');
    btn.addEventListener("click", () => {
      modalWrap.classList.remove('deactiveted');
      modalWrap.addEventListener('click', event => {
        if (event.currentTarget === event.target || event.target.className === 'modal-close') {
          modalWrap.classList.add('deactiveted');
        }
      });
    });
  }
}
exports.default = Modal;

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Slider {
  constructor(btnRight, btnLeft, slideItem, indexFirstElem, set, qtyActiveSlides) {
    this.btnRight = document.querySelector(btnRight);
    this.btnLeft = document.querySelector(btnLeft);
    this.slides = Array.from(document.querySelectorAll(slideItem));
    this.firstIndex = indexFirstElem || 0;
    this.set = set || 4;
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides);
    this.init();
  }
  handleSlider() {
    this.btnLeft.addEventListener('click', () => {
      let activeSlides = this.slides.filter(slide => slide.classList.contains('active'));
      this.qtyActiveSlides.textContent = `${activeSlides.length}`;
      const isClearSlider = localStorage.getItem('clearSlider');
      if (isClearSlider === 'true') {
        this.firstIndex = 0;
      }
      localStorage.setItem('clearSlider', false);
      this.btnRight.classList.remove('deact');
      if (this.firstIndex === 0) {
        this.btnLeft.classList.add('deact');
      } else {
        //гортання на один слайд вліво (назад до початку)
        let lastIndex = this.firstIndex + this.set - 1;
        activeSlides[lastIndex].classList.remove('show');
        this.firstIndex = this.firstIndex - 1;
        activeSlides[this.firstIndex].classList.add('show');
      }
    });
    this.btnRight.addEventListener('click', () => {
      let activeSlides = this.slides.filter(slide => slide.classList.contains('active'));
      this.qtyActiveSlides.textContent = `${activeSlides.length}`;
      let slideCount = activeSlides.length;
      const isClearSlider = localStorage.getItem('clearSlider');
      if (isClearSlider === 'true') {
        this.firstIndex = 0;
      }
      localStorage.setItem('clearSlider', false);
      this.btnLeft.classList.remove('deact');
      if (slideCount <= this.firstIndex + this.set) {
        this.btnRight.classList.add('deact');
      } else {
        //гортання на один слайд вправо (вперед до кінця)
        activeSlides[this.firstIndex].classList.remove('show');
        this.firstIndex = this.firstIndex + 1;
        let lastIndex = this.firstIndex + this.set - 1;
        activeSlides[lastIndex].classList.add('show');
      }
    });
  }
  init() {
    if (!!this.slides.length) {
      this.handleSlider();
    }
  }
}
exports.default = Slider;

},{}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Tabs {
  constructor(selectorHead, selectorBody, set, tabs, qtyActiveSlides, messageNoCard) {
    this.tabs = tabs || [];
    this.head = document.querySelector(selectorHead) || '';
    this.bodytab = document.querySelector(selectorBody) || '';
    this.set = set || 1;
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides) || '';
    this.messageNoCard = document.querySelector(messageNoCard) || '';
    this.init();
  }
  handleTabs() {
    // const messageNoCard = document.querySelector('.wrapper-cards__message')
    if (this.head) {
      this.head.addEventListener('click', ev => {
        [...this.head.children].forEach(item => {
          item.classList.remove('active');
        });
        localStorage.setItem('clearSlider', true);
        ev.target.classList.add('active');
        ev.target.parentElement.classList.add('active');
        if (this.bodytab) {
          if (this.messageNoCard) {
            this.messageNoCard.classList.remove('visible');
          }
          let numberCard = 0;
          [...this.bodytab.children].forEach(elem => {
            elem.classList.remove('active');
            elem.classList.remove('show');
            if (elem.dataset.bodyelem === ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
              if (this.qtyActiveSlides) {
                this.qtyActiveSlides.textContent = `${numberCard}`;
              }
            } else if ("all" === ev.target.dataset.tab && elem !== this.messageNoCard) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
              if (this.qtyActiveSlides) {
                this.qtyActiveSlides.textContent = `${numberCard}`;
              }
            }
          });
          // const activeSlides = this.bodytab.querySelectorAll('.active')
          // this.qtyActiveSlides.textContent = `${activeSlides.length}`
        } else {
          this.messageNoCard.classList.add('visible');
        }
      });
    }
  }
  render() {
    this.tabs.forEach(tab => {
      const singleTab = new _CreateElement.default('button', tab).render();
      if (singleTab.className === 'btn-signin') {
        singleTab.classList.add('active');
      }
      this.head.append(singleTab);
    });
  }
  init() {
    if (!!this.tabs.length) {
      this.render();
    }
    this.handleTabs();
  }
}
exports.default = Tabs;

},{"../utils/CreateElement.js":11}],9:[function(require,module,exports){
"use strict";

var _Tabs = _interopRequireDefault(require("./components/Tabs.js"));
var _FormLogin = _interopRequireDefault(require("./components/Form/FormLogin.js"));
var _FormRegistr = _interopRequireDefault(require("./components/Form/FormRegistr.js"));
var _Modal = _interopRequireDefault(require("./components/Modal.js"));
var _DataDynamicComponents = require("./utils/DataDynamicComponents.js");
require("./utils/searching.js");
require("./utils/renderCards.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const switchMode = document.getElementById('btn');
switchMode.addEventListener('click', () => {
  document.body.classList.toggle('light');
});
const btnAuth = document.querySelector('.nav__item-auth');
const formSignIn = new _FormLogin.default(_DataDynamicComponents.fieldsData, 'signin');
const formSignUp = new _FormRegistr.default(_DataDynamicComponents.fieldsDataSignUp, 'signup');
const formWrapper = document.querySelector('.tabs-body');
formWrapper.append(formSignIn.render('form-signin'), formSignUp.render('form-signup'));
new _Tabs.default('.tabs-head', '.tabs-body', 1, _DataDynamicComponents.tabsData);
const wrapper = document.querySelector('modal');
const modal = new _Modal.default(wrapper);
modal.render(btnAuth);
window.addEventListener('DOMContentLoaded', () => {
  const userData = JSON.parse(sessionStorage.getItem('userData'));
  if (userData) {
    btnAuth.textContent = `${userData.fullName}`;
    btnAuth.classList.add('deactiveted-profile');
  }
});
const categoriesMenu = document.querySelector('.hero__footer-select');
if (categoriesMenu) {
  categoriesMenu.addEventListener('click', ev => {
    sessionStorage.setItem('category', ev.target.parentElement.dataset.tab);
  });
}
new _Tabs.default('.categories', '.wrapper-cards', 4, null, '.qty-mentors span', '.wrapper-cards__message');

},{"./components/Form/FormLogin.js":3,"./components/Form/FormRegistr.js":4,"./components/Modal.js":6,"./components/Tabs.js":8,"./utils/DataDynamicComponents.js":12,"./utils/renderCards.js":13,"./utils/searching.js":14}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Api {
  constructor(url) {
    this.ROOT_URL = url;
  }
  async getRequest(routing) {
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'GET'
    });
    return await response.json();
  }
  async postRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
        // Autorization: `Bearer ${sessionStorage.getItem('tkn')}`
      }
    });

    return await response.json();
  }
  async putRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'PUT',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
  async deleteRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'DELETE',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
}
exports.default = Api;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class CreateElement {
  constructor(tagName, params) {
    this.tagName = tagName;
    this.params = params;
  }
  render() {
    const element = document.createElement(this.tagName);
    for (let key in this.params) {
      switch (key) {
        case 'dataset':
          for (let dataKey in this.params[key]) {
            element.dataset[dataKey] = this.params[key][dataKey];
          }
          break;
        default:
          element[key] = this.params[key];
      }
    }
    return element;
  }
}
exports.default = CreateElement;

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tabsData = exports.fieldsDataSignUp = exports.fieldsData = void 0;
const fieldsData = exports.fieldsData = [{
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail',
  value: 'aaaa123@gmail.com'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password',
  value: 'forest5481'
}, {
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign in'
}];
const fieldsDataSignUp = exports.fieldsDataSignUp = [{
  type: 'text',
  className: 'field-auth',
  name: 'fullName',
  placeholder: 'Your name'
}, {
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password'
},
// {type: 'password', className: 'field-auth', name: 'repeat-password', placeholder: 'Repeat your password'},
{
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign up'
}];
const tabsData = exports.tabsData = [{
  className: 'btn-signin',
  textContent: 'Sign In',
  dataset: {
    tab: 'signin'
  }
}, {
  className: 'btn-signup',
  textContent: 'Sign Up',
  dataset: {
    tab: 'signup'
  }
}];

},{}],13:[function(require,module,exports){
"use strict";

var _Api = _interopRequireDefault(require("./Api"));
var _Card = _interopRequireDefault(require("../components/Card"));
var _Slider = _interopRequireDefault(require("../components/Slider"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const mentorsList = document.querySelector('.wrapper-cards');
const qtyActiveSlides = document.querySelector('.qty-mentors span');
// const activeCategory = document.querySelector('.categories-item.active')

if (mentorsList) {
  const request = new _Api.default('http://localhost:8080/api');
  const mentors = request.getRequest('/statements');
  mentors.then(data => {
    let numberCard = 0;
    data.forEach(elem => {
      const mentor = new _Card.default(elem);
      mentor.render(mentorsList);
    });
    const categoryFromStorage = sessionStorage.getItem('category');
    if (categoryFromStorage) {
      const selectedCategoryMentors = document.querySelectorAll(`[data-bodyelem="${categoryFromStorage}"]`);
      selectedCategoryMentors.forEach(element => {
        element.classList.add('active');
        numberCard++;
        qtyActiveSlides.textContent = `${numberCard}`;
        if (numberCard <= 4) {
          element.classList.add('show');
        }
      });
    } else {
      let allCards = document.querySelectorAll('.item');
      allCards.forEach(elem => {
        elem.classList.add('active');
        numberCard++;
        qtyActiveSlides.textContent = `${numberCard}`;
        if (numberCard <= 4) {
          elem.classList.add('show');
        }
      });
    }
    sessionStorage.removeItem('category');
    new _Slider.default('.arrow-right', '.arrow-left', '.item.active', 0, 4, '.qty-mentors span');
  });
}

},{"../components/Card":1,"../components/Slider":7,"./Api":10}],14:[function(require,module,exports){
"use strict";

var _searchForm = _interopRequireDefault(require("../components/Form/searchForm.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
window.addEventListener('DOMContentLoaded', () => {
  if (window.location.pathname === '/searching.html') {
    const selectedCategory = sessionStorage.getItem('category') || 'all';
    const selectedItemHead = document.querySelectorAll('.categories-item');
    if (selectedCategory) {
      selectedItemHead.forEach(elem => {
        elem.classList.remove('active');
        if (elem.dataset.tab == selectedCategory) {
          elem.classList.add('active');
        }
      });
    }
    const searchForm = new _searchForm.default('.search__form', '.wrapper-cards', '.qty-mentors span', '.wrapper-cards__message');
    searchForm.searchInput();
    searchForm.handleSearch();
    // searchForm.onSave()
  }
});

},{"../components/Form/searchForm.js":5}]},{},[9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybS5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybS9Gb3JtTG9naW4uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vc2VhcmNoRm9ybS5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvTW9kYWwuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL1NsaWRlci5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvVGFicy5qcyIsInNyYy9zY3JpcHRzL21haW4uanMiLCJzcmMvc2NyaXB0cy91dGlscy9BcGkuanMiLCJzcmMvc2NyaXB0cy91dGlscy9DcmVhdGVFbGVtZW50LmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvRGF0YUR5bmFtaWNDb21wb25lbnRzLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvcmVuZGVyQ2FyZHMuanMiLCJzcmMvc2NyaXB0cy91dGlscy9zZWFyY2hpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxJQUFBLGNBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUE7QUFBc0QsU0FBQSx1QkFBQSxHQUFBLFdBQUEsR0FBQSxJQUFBLEdBQUEsQ0FBQSxVQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxHQUFBO0FBRXZDLE1BQU0sSUFBSTtFQUNyQixXQUFXLENBQUMsS0FBSyxFQUFDO0lBQ2QsTUFBTTtNQUFFLEdBQUc7TUFBRSxRQUFRO01BQUUsTUFBTTtNQUFFLEtBQUs7TUFBRSxXQUFXO01BQUUsTUFBTTtNQUFFLFFBQVE7TUFBRTtJQUFNLENBQUMsR0FBRyxLQUFLO0lBQ3BGLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRztJ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QUFBLENBQUEsT0FBQSxPQUFBLFlBQUEsd0JBQUEsWUFBQSxDQUFBLENBQUEsV0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsS0FBQSxDQUFBO0FBQUEsU0FBQSx3QkFBQSxDQUFBLEVBQUEsQ0FBQSxTQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLFVBQUEsU0FBQSxDQUFBLGVBQUEsQ0FBQSx1QkFBQSxDQUFBLHlCQUFBLENBQUEsV0FBQSxPQUFBLEVBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSx3QkFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLE9BQUEsQ0FBQSxLQUFBLFNBQUEsVUFBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsSUFBQSxNQUFBLENBQUEsd0JBQUEsV0FBQSxDQUFBLElBQUEsQ0FBQSxvQkFBQSxDQUFBLElBQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxjQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLFNBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxNQUFBLENBQUEsd0JBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxVQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsR0FBQSxJQUFBLENBQUEsQ0FBQSxHQUFBLElBQUEsTUFBQSxDQUFBLGNBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBLE9BQUEsR0FBQSxDQUFBLEVBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxDQUFBO0FBRXpDLE1BQU0sV0FBVyxTQUFTLGFBQUksQ0FBQztFQUMxQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRTtJQUMzQixLQUFLLENBQUMsTUFBTSxDQUFDO0lBRWIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMs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TSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLE1BQU07RUFDOUMsSUFBRyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsS0FBSyxpQkFBaUIsRUFBRTtJQUMvQyxNQUFNLGdCQUFnQixHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksS0FBSztJQUNwRSxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQztJQUV0RSxJQUFHLGdCQUFnQixFQUFDO01BQ2hCLGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFJLElBQUs7UUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksZ0JBQWdCLEVBQUM7VUFDckMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ2hDO01BQ0osQ0FBQyxDQUFDO0lBQ047SUFFQSxNQUFNLFVBQVUsR0FBRyxJQUFJLG1CQUFNLENBQUMsZUFBZSxFQUFFLGdCQUFnQixFQUFFLG1CQUFtQixFQUFFLHlCQUF5QixDQUFDO0lBQ2hILFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN4QixVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDekI7RUFDSjtBQUNKLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJke1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xyXG4gICAgICAgIGNvbnN0IHsgX2lkLCBjYXRlZ29yeSwgaW1nVXJsLCB0aXRsZSwgZGVzY3JpcHRpb24sIHJhdGluZywgbG9jYXRpb24sIHByaWNlIH0gPSBwcm9wc1xyXG4gICAgICAgIHRoaXMuaWQgPSBfaWRcclxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnlcclxuICAgICAgICB0aGlzLmltYWdlID0gaW1nVXJsIHx8ICdodHRwczovL2kucHJhdmF0YXIuY2MnXHJcbiAgICAgICAgLy8gJ2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTAnXHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgdGhpcy5yYXRpbmcgPSByYXRpbmdcclxuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb25cclxuICAgICAgICB0aGlzLnByaWNlID0gcHJpY2VcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJJdGVtID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2RpdicsIHtjbGFzc05hbWU6ICdpdGVtJywgZGF0YXNldDp7aWQ6IHRoaXMuaWQsIGJvZHllbGVtOiB0aGlzLmNhdGVnb3J5fX0pLnJlbmRlcigpXHJcblxyXG4gICAgICAgIGNvbnN0IHBpYyA9IG5ldyBDcmVhdGVFbGVtZW50ICgncGljdHVyZScsIHtjbGFzc05hbWU6ICdpdGVtLXBpYyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBDcmVhdGVFbGVtZW50ICgnaW1nJywge3NyYzogdGhpcy5pbWFnZSwgYWx0OiAncGhvdG8nLCBjbGFzc05hbWU6ICdpdGVtLXBpYy1waG90byd9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdoMicsIHt0ZXh0Q29udGVudDogdGhpcy50aXRsZSwgY2xhc3NOYW1lOiAnaXRlbS1tZW50b3ItbmFtZSd9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHdyYXBSYXRpbmcgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHtjbGFzc05hbWU6ICdpdGVtLXJhdGluZyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IHN0YXJzQm94ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7Y2xhc3NOYW1lOiAnaXRlbS1yYXRpbmctYm94J30pLnJlbmRlcigpXHJcbiAgICAgICAgbGV0IHN0YXJzV2lkdGggPSB0aGlzLnJhdGluZyoxMDAvMjUwXHJcbiAgICAgICAgY29uc3Qgc3RhcnMgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHtjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1zdGFycycsIHN0eWxlOiBgd2lkdGg6ICR7c3RhcnNXaWR0aH0lO2B9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IGAoJHt0aGlzLnJhdGluZ30pYCwgY2xhc3NOYW1lOiAnaXRlbS1yYXRpbmctY291bnQnfSkucmVuZGVyKClcclxuICAgICAgICAvLyBjb25zdCByYXRpbmdDb3VudCA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge3RleHRDb250ZW50OiB0aGlzLmNhdGVnb3J5LCBjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1jb3VudCd9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMuZGVzY3JpcHRpb24sIGNsYXNzTmFtZTogJ2l0ZW0tc3RhY2snfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge3RleHRDb250ZW50OiB0aGlzLmxvY2F0aW9uLCBjbGFzc05hbWU6ICdpdGVtLWxhbmd1YWdlLWNvdW50cnknfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBidG4gPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2J1dHRvbicsIHtjbGFzc05hbWU6ICdpdGVtLWJvb2tpbmcnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBidG5MaW5rID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2EnLCB7dGV4dENvbnRlbnQ6ICdCb29rIFRpbWUnLCBjbGFzc05hbWU6ICdpdGVtLWJvb2tpbmctbGluaycsIGhyZWY6ICcjJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgYnRuUHJpY2UgPSBuZXcgQ3JlYXRlRWxlbWVudCgnc3BhbicsIHtjbGFzc05hbWU6IFwiaXRlbS1ib29raW5nLWNvc3RcIiwgdGV4dENvbnRlbnQ6IGAke3RoaXMucHJpY2V9JC8gaG91cnNgfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBwaWMuYXBwZW5kKGltZylcclxuICAgICAgICBzdGFyc0JveC5hcHBlbmQoc3RhcnMpXHJcbiAgICAgICAgd3JhcFJhdGluZy5hcHBlbmQoc3RhcnNCb3gsIHJhdGluZ0NvdW50KVxyXG4gICAgICAgIGJ0bi5hcHBlbmQoYnRuTGluaywgYnRuUHJpY2UpXHJcbiAgICAgICAgd3JhcHBlckl0ZW0uYXBwZW5kKHBpYywgdGl0bGUsIHdyYXBSYXRpbmcsIGRlc2NyaXB0aW9uLCBsb2NhdGlvbiwgYnRuKVxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQod3JhcHBlckl0ZW0pXHJcbiAgICB9XHJcbn0gXHJcbiIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi8uLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uLy4uL3V0aWxzL0FwaS5qc1wiXHJcblxyXG5leHBvcnQgY29uc3QgZm9ybUF1dGhBcGkgPSBuZXcgQXBpKCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2F1dGgvJylcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm0ge1xyXG5jb25zdHJ1Y3RvcihmaWVsZHMsIGZvcm0pIHtcclxuICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm0pIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxyXG4gIHRoaXMuaW5wdXRGaWVsZHMgPSBmaWVsZHMgfHwgW107XHJcbn1cclxuXHJcbnJlbmRlcihuYW1lRm9ybSkge1xyXG4gIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBuYW1lRm9ybVxyXG4gIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLXNpZ25pbicpKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICB9ICBcclxuICBpZih0aGlzLmlucHV0RmllbGRzKXtcclxuICAgIHRoaXMuaW5wdXRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgICAgY29uc3QgaW5wdXQgPSBuZXcgQ3JlYXRlRWxlbWVudCgnaW5wdXQnLCBmaWVsZClcclxuICAgICAgY29uc3QgZmllbGRSZW5kZXIgPSBpbnB1dC5yZW5kZXIoKVxyXG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKGZpZWxkUmVuZGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLm9uU2F2ZS5iaW5kKHRoaXMpKTtcclxuICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG59XHJcblxyXG5oYW5kbGVGb3JtKCl7XHJcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5vblNhdmUuYmluZCh0aGlzKSk7XHJcbiAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxufVxyXG5cclxuc2VyaWFsaXplKCkge1xyXG4gICAgY29uc3QgZmllbGRzRGF0YSA9IHt9O1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy5lbGVtZW50KVxyXG4gICAgXHJcbiAgICBmb3IobGV0IFtuYW1lXSBvZiBmb3JtRGF0YSl7XHJcbiAgICAgIGZpZWxkc0RhdGFbbmFtZV0gPSBmb3JtRGF0YS5nZXQobmFtZSlcclxuICAgIH1cclxuICAgIHJldHVybiBmaWVsZHNEYXRhO1xyXG59XHJcblxyXG5vblNhdmUoZXZlbnQpIHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgY29uc3QgZGF0YUZpZWxkcyA9IHRoaXMuc2VyaWFsaXplKCk7XHJcbiAgZXZlbnQudGFyZ2V0LnJlc2V0KClcclxuICByZXR1cm4gZGF0YUZpZWxkc1xyXG59XHJcblxyXG59XHJcblxyXG4iLCJpbXBvcnQgRm9ybSwge2Zvcm1BdXRoQXBpfSBmcm9tIFwiLi9Gb3JtLmpzXCJcclxuaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uLy4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybUxvZ2luIGV4dGVuZHMgRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGRhdGFzZXQpIHtcclxuICAgICAgc3VwZXIoZmllbGRzKVxyXG4gICAgICB0aGlzLmVsZW1lbnQuZGF0YXNldC5ib2R5ZWxlbSA9IGRhdGFzZXRcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gcmVuZGVyKCkge1xyXG4gICAgLy8gICBzdXBlci5yZW5kZXIoKVxyXG4gICAgLy8gICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWduaW4nKSkge1xyXG4gICAgLy8gICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgXHJcbiAgICBhc3luYyBvblNhdmUoZXZlbnQpe1xyXG4gICAgICBjb25zdCByZXF1ZXN0UmVzdWx0ID0gc3VwZXIub25TYXZlKGV2ZW50KVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXF1ZXN0UmVzdWx0KTtcclxuICBcclxuICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbmluJykgJiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJMb2cgPSBhd2FpdCBmb3JtQXV0aEFwaS5wb3N0UmVxdWVzdCgnc2lnbmluJywgcmVxdWVzdFJlc3VsdCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcG9zdFJlcXVlc3QudGhlbigodXNlckxvZykgPT4ge1xyXG4gICAgICAgICAgaWYodXNlckxvZy5tZXNzYWdlKXtcclxuICAgICAgICAgICAgY29uc3Qgc3VibWl0U2lnbmluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbmluIC5idG4tYXV0aCcpXHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdlcnJvci1tZXNzYWdlJywgdGV4dENvbnRlbnQ6IHVzZXJMb2cubWVzc2FnZX0pLnJlbmRlcigpXHJcbiAgICAgICAgICAgIHN1Ym1pdFNpZ25pbi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgZXJyb3JNZXNzYWdlKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7aWQ6IHVzZXJMb2cuZGF0YS5faWQsIGZ1bGxOYW1lOiB1c2VyTG9nLmRhdGEuZnVsbE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuICAgICAgICAgICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkJylcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25pbkxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19pdGVtLWF1dGgnKVxyXG4gICAgICAgICAgICAgICAgICBzaWduaW5MaW5rLnRleHRDb250ZW50ID0gYCR7dXNlckxvZy5kYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgICAgICAgICAgICAgc2lnbmluTGluay5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZC1wcm9maWxlJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICB9IFxyXG4gICAgICBcclxuICAgIH1cclxuICB9IiwiaW1wb3J0IEZvcm0sIHtmb3JtQXV0aEFwaX0gZnJvbSBcIi4vRm9ybS5qc1wiXHJcbmltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi8uLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1SZWdpc3RyIGV4dGVuZHMgRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGRhdGFzZXQpIHtcclxuICAgICAgc3VwZXIoZmllbGRzKVxyXG4gICAgICBcclxuICAgICAgdGhpcy5lbGVtZW50LmRhdGFzZXQuYm9keWVsZW0gPSBkYXRhc2V0XHJcbiAgICB9XHJcbiAgXHJcbiAgICBhc3luYyBvblNhdmUoZXZlbnQpe1xyXG4gICAgICBjb25zdCByZXF1ZXN0UmVzdWx0ID0gc3VwZXIub25TYXZlKGV2ZW50KVxyXG4gIFxyXG4gICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWdudXAnKSAmIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIGNvbnN0IHVzZXJSZWcgPSBhd2FpdCBmb3JtQXV0aEFwaS5wb3N0UmVxdWVzdCgnc2lnbnVwJywgcmVxdWVzdFJlc3VsdClcclxuICAgIFxyXG4gICAgLy8gKHVzZXJSZWcpID0+IHtcclxuICAgICAgaWYodXNlclJlZy5zdGF0dXNUZXh0ID09PSBcItCi0LDQutC40LkgZW1haWwg0LLQttC1INGW0YHQvdGD0ZRcIil7XHJcbiAgICAgICAgY29uc3Qgc3VibWl0U2lnbnVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbnVwIC5idG4tYXV0aCcpXHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlU2lnbnVwID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge2NsYXNzTmFtZTogJ2Vycm9yLW1lc3NhZ2UnLCB0ZXh0Q29udGVudDogdXNlclJlZy5zdGF0dXNUZXh0fSkucmVuZGVyKClcclxuICAgICAgICBzdWJtaXRTaWdudXAuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGVycm9yTWVzc2FnZVNpZ251cClcclxuICAgICAgfSBlbHNlIFxyXG4gICAgICAgIGlmICh1c2VyUmVnLnN0YXR1c1RleHQgPT09IFwiVGhhbmtzIGZvciByZWdpc3RlcmluZy5cIikge1xyXG4gICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7ZW1haWw6IHVzZXJSZWcuZW1haWwsIGZ1bGxOYW1lOiB1c2VyUmVnLmZ1bGxOYW1lfVxyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlckRhdGEnLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJylcclxuICAgICAgICAgIGNvbnN0IHBvcHVwVGV4dCA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdwb3B1cC10ZXh0JywgdGV4dENvbnRlbnQ6IHVzZXJSZWcuc3RhdHVzVGV4dH0pLnJlbmRlcigpXHJcbiAgICAgICAgICBwb3B1cC5hcHBlbmQocG9wdXBUZXh0KVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3Qgc2lnbmluTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2l0ZW0tYXV0aCcpXHJcbiAgICAgICAgICBzaWduaW5MaW5rLnRleHRDb250ZW50ID0gYCR7dXNlclJlZy5mdWxsTmFtZX1gXHJcbiAgICAgICAgICBzaWduaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgICB9XHJcbiAgICB9IFxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi9Gb3JtLmpzXCJcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vLi4vdXRpbHMvQXBpLmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaCBleHRlbmRzIEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoZm9ybSwgY2FyZHNMaXN0LCBxdHlBY3RpdmVTbGlkZXMsIG1lc3NhZ2VOb0NhcmQpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm0pXHJcbiAgICAgICAgdGhpcy5jYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRzTGlzdCk7XHJcbiAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF0eUFjdGl2ZVNsaWRlcylcclxuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKVxyXG4gICAgICAgIHRoaXMubWVzc2FnZU5vQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWVzc2FnZU5vQ2FyZClcclxuICAgICAgICAvLyB0aGlzLnJlc3VsdHMgPSBzZWFyY2hSZXN1bHRzXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5yZXN1bHRzKTtcclxuICAgICAgICAgICAgLy/RgdC10YDQtdC0INGP0LrQuNGFINC10LvQtdC80LXQvdGC0ZbQsiDQsdGD0LTQtSDQudGC0Lgg0L/QvtGI0YPQujogXHJcbiAgICAgICAgICAgIC8vIC0gc2VhcmNoIC0g0L/QvtGI0YPQuiDQv9C+INC60LvRjtGH0L7QstC40Lwg0YTRgNCw0LfQsNC8INCyIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIC8vIC0gY2F0ZWdvcnkgLSDQv9C+0YjRg9C6INC/0L4g0YDQvtC30YjQuNGA0LXQvdC+0LzRgyDRgdC/0LjRgdC60YMg0LrQsNGC0LXQs9C+0YDRltC5IGl0ZW1pemVkQ2F0ZWdvcnkg0Lcg0LLQuNC/0LDQtNCw0Y7Rh9C+0LPQviDRgdC/0LjRgdC60YNcclxuICAgIH1cclxuICAgIGhhbmRsZVNlYXJjaCgpe1xyXG4gICAgICAgIHN1cGVyLmhhbmRsZUZvcm0oKVxyXG4gICAgfVxyXG4gICAgc2VhcmNoSW5wdXQoKXtcclxuICAgICAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXMtaXRlbS5hY3RpdmUnKVxyXG4gICAgICAgICAgICBpZihhY3RpdmVDYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2F0ZWdvcnkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwiYWxsXCJdJykuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZU5vQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJylcclxuICAgICAgICAgICAgLy8gY29uc3QgYWN0aXZlU2xpZGVzID0gdGhpcy5jYXJkc0xpc3QucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC5kYXRhKVxyXG4gICAgICAgICAgICBjb25zdCBzZWFyY2hWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgICAgICAgICAvLyByZXR1cm4gc2VhcmNoVmFsdWVcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGknKVxyXG4gICAgICAgICAgICBjb25zdCBtZW50b3JzID0gcmVxdWVzdC5nZXRSZXF1ZXN0KCcvc3RhdGVtZW50cycpO1xyXG4gICAgICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBbLi4udGhpcy5jYXJkc0xpc3QuY2hpbGRyZW5dLmZvckVhY2goc2luZ2xlQ2FyZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICBtZW50b3JzLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKChtZW50b3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRXb3JkcyA9IFsuLi5zZWFyY2hWYWx1ZS5zcGxpdCgnICcpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkV29yZHMubGVuZ3RoOyBpKyspIHsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtRmluZCA9IG1lbnRvci5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlbGVjdGVkV29yZHNbaV0udG9Mb3dlckNhc2UoKSkgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2luZ2xlQ2FyZC5kYXRhc2V0LmlkLCBtZW50b3IuX2lkICkgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtRmluZCAmJiBzaW5nbGVDYXJkLmRhdGFzZXQuaWQgPT09IG1lbnRvci5faWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlckNhcmQrK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7bnVtYmVyQ2FyZH1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vKiAq0LLQuNCx0ZbRgCDQv9C+INC+0LTQvdC+0LzRgyDRgdC70L7QstGDINCw0LHQviDQstC40YDQsNC30YM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVmFsdWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYoZWxlbUZpbmQgJiBzaW5nbGVDYXJkLmRhdGFzZXQuaWQgPT09IG1lbnRvci5faWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JykgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBvbmVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLml0ZW0uYWN0aXZlLnNob3cnKVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cob25lQ2FyZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoIW9uZUNhcmQpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IG1lbnRvcnNDYXJkc1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlci1jYXJkcycpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc3Qgbm9NZW50b3JNZXNzYWdlID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge3RleHRDb250ZW50OiAnVGhlcmUgYXJlIG5vIG1lbnRvcnMgYnkgdGhpcyBzdGF0ZW1lbnRzJywgY2xhc3NOYW1lOiAnd3JhcHBlci1jYXJkc19fbWVzc2FnZSd9KS5yZW5kZXIoKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIG1lbnRvcnNDYXJkc1dyYXBwZXIuYXBwZW5kKG5vTWVudG9yTWVzc2FnZSlcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSkgXHJcbiAgICB9XHJcbiAgICBhc3luYyBvblNhdmUoZXZlbnQpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWFyY2hJbnB1dCgpKTsgLy8g0L3QtSDQt9C90LDRhdC+0LTQuNGC0YxcclxuICAgICAgICAvLyBjb25zdCByZXF1ZXN0UmVzID0gdGhpcy5zZWFyY2hJbnB1dCgpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RSZXMgPSBzdXBlci5vblNhdmUoZXZlbnQpIC8vINC00LvRjyDQttC40LLQvtCz0L4g0L/QvtGI0YPQutGDINGG0LXQuSDRgNGP0LTQvtC6INC60L7QvNC10L3RgtGD0ZTRgtGM0YHRj1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkRGVzY3JpcCA9IHJlcXVlc3RSZXMuc2VhcmNoIC8vINGG0LUg0LHRg9C00LUg0LHRgNCw0YLQuNGB0Y8g0Lcg0L7QutGA0LXQvNC+0LPQviDQvNC10YLQvtC00YMgc2VhcmNoSW5wdXRcclxuICAgICAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5ID0gcmVxdWVzdFJlcy5jYXRlZ29yeSAvLyBpINGG0LUg0LHRgNCw0YLQuNGB0Y8g0Lcg0L7QutGA0LXQvNC+0LPQviDQvNC10YLQvtC00YMgc2VhcmNoQ2F0ZWdvcnlcclxuXHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGknKVxyXG4gICAgICAgIGNvbnN0IG1lbnRvcnMgPSBhd2FpdCByZXF1ZXN0LmdldFJlcXVlc3QoJy9zdGF0ZW1lbnRzJyk7XHJcbiAgICAgICAgbGV0IG51bWJlckNhcmQgPSAwO1xyXG4gICAgICAgIFsuLi50aGlzLmNhcmRzTGlzdC5jaGlsZHJlbl0uZm9yRWFjaChzaW5nbGVDYXJkID0+IHtcclxuICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG5cclxuICAgICAgICAgICAgbWVudG9ycy5mb3JFYWNoKG1lbnRvciA9PiB7IFxyXG4gICAgICAgICAgICAgICAgaWYoc2VsZWN0ZWRDYXRlZ29yeS5pbmNsdWRlcyhtZW50b3IuaXRlbWl6ZWRDYXRlZ29yeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmRzID0gWy4uLnNlbGVjdGVkRGVzY3JpcC5zcGxpdCgnICcpXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkV29yZHMubGVuZ3RoOyBpKyspIHsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VsZWN0ZWRXb3Jkc1tpXS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1GaW5kICYgc2luZ2xlQ2FyZC5kYXRhc2V0LmlkID09PSBtZW50b3IuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihudW1iZXJDYXJkIDw9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkgIFxyXG4gICAgICAgIH0pIFxyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNsaWRlcyA9IHRoaXMuY2FyZHNMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKVxyXG4gICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7YWN0aXZlU2xpZGVzLmxlbmd0aH1gXHJcblxyXG4gICAgICAgIGNvbnN0IG9uZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaXRlbS5hY3RpdmUuc2hvdycpXHJcbiAgICAgICAgaWYgKCFvbmVDYXJkKXtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTm9DYXJkLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKVxyXG5cclxuICAgICAgICAgICAgLy8gY29uc3QgbWVudG9yc0NhcmRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuICAgICAgICAgICAgLy8gY29uc3Qgbm9NZW50b3JNZXNzYWdlID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge3RleHRDb250ZW50OiAnVGhlcmUgYXJlIG5vIG1lbnRvcnMgYnkgdGhpcyBzdGF0ZW1lbnRzJywgY2xhc3NOYW1lOiAnd3JhcHBlci1jYXJkc19fbWVzc2FnZSd9KS5yZW5kZXIoKVxyXG4gICAgICAgICAgICAvLyBtZW50b3JzQ2FyZHNXcmFwcGVyLmFwcGVuZChub01lbnRvck1lc3NhZ2UpXHJcbiAgICAgICAgfVxyXG4gICAgfSAgICAgXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xyXG4gICAgY29uc3RydWN0b3IgKGh0bWwpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBodG1sXHJcbiAgICB9XHJcbiAgICByZW5kZXIoYnRuKSB7XHJcbiAgICAgICAgY29uc3QgbW9kYWxXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKVxyXG5cclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0aXZldGVkJylcclxuXHJcbiAgICAgICAgICAgIG1vZGFsV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4geyAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgPT09IGV2ZW50LnRhcmdldCB8fCBldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSAnbW9kYWwtY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkJylcclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIH0pICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXIge1xyXG4gICAgY29uc3RydWN0b3IoYnRuUmlnaHQsIGJ0bkxlZnQsIHNsaWRlSXRlbSwgaW5kZXhGaXJzdEVsZW0sIHNldCwgcXR5QWN0aXZlU2xpZGVzKSB7XHJcbiAgICAgICAgdGhpcy5idG5SaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuUmlnaHQpXHJcbiAgICAgICAgdGhpcy5idG5MZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5MZWZ0KVxyXG4gICAgICAgIHRoaXMuc2xpZGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNsaWRlSXRlbSkpO1xyXG4gICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IGluZGV4Rmlyc3RFbGVtIHx8IDA7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQgfHwgNDtcclxuICAgICAgICB0aGlzLnF0eUFjdGl2ZVNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocXR5QWN0aXZlU2xpZGVzKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGhhbmRsZVNsaWRlcigpIHtcclxuICAgICAgICB0aGlzLmJ0bkxlZnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhY3RpdmVTbGlkZXMgPSB0aGlzLnNsaWRlcy5maWx0ZXIoKHNsaWRlKSA9PiBzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHthY3RpdmVTbGlkZXMubGVuZ3RofWBcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xlYXJTbGlkZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xlYXJTbGlkZXInKVxyXG4gICAgICAgICAgICBpZihpc0NsZWFyU2xpZGVyID09PSAndHJ1ZScpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gMFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2xlYXJTbGlkZXInLCBmYWxzZSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnRuUmlnaHQuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3QnKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodGhpcy5maXJzdEluZGV4ID09PSAwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5MZWZ0LmNsYXNzTGlzdC5hZGQoJ2RlYWN0JylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v0LPQvtGA0YLQsNC90L3RjyDQvdCwINC+0LTQuNC9INGB0LvQsNC50LQg0LLQu9GW0LLQviAo0L3QsNC30LDQtCDQtNC+INC/0L7Rh9Cw0YLQutGDKVxyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0IC0gMSBcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1tsYXN0SW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggLSAxIFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVzW3RoaXMuZmlyc3RJbmRleF0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYnRuUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhY3RpdmVTbGlkZXMgPSB0aGlzLnNsaWRlcy5maWx0ZXIoKHNsaWRlKSA9PiBzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHthY3RpdmVTbGlkZXMubGVuZ3RofWBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBzbGlkZUNvdW50ID0gYWN0aXZlU2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ2xlYXJTbGlkZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xlYXJTbGlkZXInKVxyXG4gICAgICAgICAgICBpZihpc0NsZWFyU2xpZGVyID09PSAndHJ1ZScpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gMFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2xlYXJTbGlkZXInLCBmYWxzZSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGVmdC5jbGFzc0xpc3QucmVtb3ZlKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoc2xpZGVDb3VudCA8PSAodGhpcy5maXJzdEluZGV4ICsgdGhpcy5zZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0blJpZ2h0LmNsYXNzTGlzdC5hZGQoJ2RlYWN0JylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v0LPQvtGA0YLQsNC90L3RjyDQvdCwINC+0LTQuNC9INGB0LvQsNC50LQg0LLQv9GA0LDQstC+ICjQstC/0LXRgNC10LQg0LTQviDQutGW0L3RhtGPKVxyXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVzW3RoaXMuZmlyc3RJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gdGhpcy5maXJzdEluZGV4ICsgMSBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0IC0gMVxyXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVzW2xhc3RJbmRleF0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKXtcclxuICAgICAgICBpZighIXRoaXMuc2xpZGVzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2xpZGVyKClcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYnMge1xyXG4gICAgY29uc3RydWN0b3IgKHNlbGVjdG9ySGVhZCwgc2VsZWN0b3JCb2R5LCBzZXQsIHRhYnMsIHF0eUFjdGl2ZVNsaWRlcywgbWVzc2FnZU5vQ2FyZCkge1xyXG4gICAgICAgIHRoaXMudGFicyA9IHRhYnMgfHwgW11cclxuICAgICAgICB0aGlzLmhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ySGVhZCkgfHwgJycgXHJcbiAgICAgICAgdGhpcy5ib2R5dGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckJvZHkpIHx8ICcnIFxyXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0IHx8IDFcclxuICAgICAgICB0aGlzLnF0eUFjdGl2ZVNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocXR5QWN0aXZlU2xpZGVzKSB8fCAnJ1xyXG4gICAgICAgIHRoaXMubWVzc2FnZU5vQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWVzc2FnZU5vQ2FyZCkgfHwgJydcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgIH1cclxuICAgIFxyXG4gICAgaGFuZGxlVGFicygpIHtcclxuICAgICAgICAvLyBjb25zdCBtZXNzYWdlTm9DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXItY2FyZHNfX21lc3NhZ2UnKVxyXG4gICAgICAgIGlmKHRoaXMuaGVhZCl7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZC5hZGRFdmVudExpc3RlbmVyICgnY2xpY2snLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgWy4uLnRoaXMuaGVhZC5jaGlsZHJlbl0uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsZWFyU2xpZGVyJywgdHJ1ZSlcclxuXHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZXYudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYm9keXRhYikge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tZXNzYWdlTm9DYXJkKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VOb0NhcmQuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBudW1iZXJDYXJkID0gMDtcclxuICAgICAgICAgICAgICAgIFsuLi50aGlzLmJvZHl0YWIuY2hpbGRyZW5dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhc2V0LmJvZHllbGVtID09PSBldi50YXJnZXQuZGF0YXNldC50YWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5xdHlBY3RpdmVTbGlkZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHtudW1iZXJDYXJkfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihcImFsbFwiID09PSBldi50YXJnZXQuZGF0YXNldC50YWIgJiYgZWxlbSAhPT0gdGhpcy5tZXNzYWdlTm9DYXJkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5xdHlBY3RpdmVTbGlkZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHtudW1iZXJDYXJkfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBhY3RpdmVTbGlkZXMgPSB0aGlzLmJvZHl0YWIucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnF0eUFjdGl2ZVNsaWRlcy50ZXh0Q29udGVudCA9IGAke2FjdGl2ZVNsaWRlcy5sZW5ndGh9YFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VOb0NhcmQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5yZW5kZXIoKSB7XHJcbiAgICB0aGlzLnRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlVGFiID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHRhYikucmVuZGVyKCkgIFxyXG4gICAgICAgIGlmIChzaW5nbGVUYWIuY2xhc3NOYW1lID09PSAnYnRuLXNpZ25pbicpIHtcclxuICAgICAgICAgICAgc2luZ2xlVGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBcclxuICAgICAgICB0aGlzLmhlYWQuYXBwZW5kKHNpbmdsZVRhYik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuaW5pdCgpIHtcclxuICAgIGlmKCEhdGhpcy50YWJzLmxlbmd0aCl7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVUYWJzKCkgICBcclxufVxyXG59XHJcbiIsImltcG9ydCBUYWJzIGZyb20gXCIuL2NvbXBvbmVudHMvVGFicy5qc1wiXHJcbmltcG9ydCBGb3JtTG9naW4gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtL0Zvcm1Mb2dpbi5qc1wiXHJcbmltcG9ydCBGb3JtUmVnaXN0ciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanNcIlxyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4vY29tcG9uZW50cy9Nb2RhbC5qc1wiXHJcbmltcG9ydCB7IGZpZWxkc0RhdGEsIGZpZWxkc0RhdGFTaWduVXAsIHRhYnNEYXRhIH0gZnJvbSBcIi4vdXRpbHMvRGF0YUR5bmFtaWNDb21wb25lbnRzLmpzXCJcclxuaW1wb3J0IFwiLi91dGlscy9zZWFyY2hpbmcuanNcIlxyXG5pbXBvcnQgXCIuL3V0aWxzL3JlbmRlckNhcmRzLmpzXCJcclxuXHJcbmNvbnN0IHN3aXRjaE1vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuJylcclxuXHJcbnN3aXRjaE1vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2xpZ2h0JykgXHJcbn0pXHJcblxyXG5jb25zdCBidG5BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9faXRlbS1hdXRoJylcclxuXHJcbmNvbnN0IGZvcm1TaWduSW4gPSBuZXcgRm9ybUxvZ2luKGZpZWxkc0RhdGEsICdzaWduaW4nKVxyXG5jb25zdCBmb3JtU2lnblVwID0gbmV3IEZvcm1SZWdpc3RyKGZpZWxkc0RhdGFTaWduVXAsICdzaWdudXAnKVxyXG5jb25zdCBmb3JtV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzLWJvZHknKVxyXG5mb3JtV3JhcHBlci5hcHBlbmQoZm9ybVNpZ25Jbi5yZW5kZXIoJ2Zvcm0tc2lnbmluJyksZm9ybVNpZ25VcC5yZW5kZXIoJ2Zvcm0tc2lnbnVwJykpXHJcblxyXG5uZXcgVGFicygnLnRhYnMtaGVhZCcsICcudGFicy1ib2R5JywgMSwgdGFic0RhdGEpXHJcblxyXG5jb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbW9kYWwnKVxyXG5jb25zdCBtb2RhbCA9IG5ldyBNb2RhbCh3cmFwcGVyKVxyXG5tb2RhbC5yZW5kZXIoYnRuQXV0aClcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpIFxyXG4gICAgaWYodXNlckRhdGEpIHtcclxuICAgICAgICBidG5BdXRoLnRleHRDb250ZW50ID0gYCR7dXNlckRhdGEuZnVsbE5hbWV9YFxyXG4gICAgICAgIGJ0bkF1dGguY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQtcHJvZmlsZScpXHJcbiAgICB9XHJcbn0pXHJcblxyXG5jb25zdCBjYXRlZ29yaWVzTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19mb290ZXItc2VsZWN0JylcclxuaWYoY2F0ZWdvcmllc01lbnUpe1xyXG4gICAgY2F0ZWdvcmllc01lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeScsIGV2LnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFiKVxyXG4gICAgfSlcclxufVxyXG5cclxubmV3IFRhYnMoJy5jYXRlZ29yaWVzJywgJy53cmFwcGVyLWNhcmRzJywgNCwgbnVsbCwgJy5xdHktbWVudG9ycyBzcGFuJywgJy53cmFwcGVyLWNhcmRzX19tZXNzYWdlJylcclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHVybCkge1xyXG4gICAgdGhpcy5ST09UX1VSTCA9IHVybFxyXG4gIH1cclxuICBhc3luYyBnZXRSZXF1ZXN0KHJvdXRpbmcpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5ST09UX1VSTCArIHJvdXRpbmcsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIH1cclxuICBhc3luYyBwb3N0UmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIC8vIEF1dG9yaXphdGlvbjogYEJlYXJlciAke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RrbicpfWBcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICB9XHJcbiAgYXN5bmMgcHV0UmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfVxyXG4gIGFzeW5jIGRlbGV0ZVJlcXVlc3Qocm91dGluZywgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCh0aGlzLlJPT1RfVVJMICsgcm91dGluZyksIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH0gICBcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENyZWF0ZUVsZW1lbnQge1xyXG4gICAgY29uc3RydWN0b3IodGFnTmFtZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy50YWdOYW1lID0gdGFnTmFtZVxyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zXHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy50YWdOYW1lKVxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnBhcmFtcykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0YXNldCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZGF0YUtleSBpbiB0aGlzLnBhcmFtc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YXNldFtkYXRhS2V5XSA9IHRoaXMucGFyYW1zW2tleV1bZGF0YUtleV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gdGhpcy5wYXJhbXNba2V5XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbGVtZW50XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgZmllbGRzRGF0YSA9IFtcclxuICAgIHt0eXBlOiAnZW1haWwnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICdZb3VyIGUtbWFpbCcsIHZhbHVlOiAnYWFhYTEyM0BnbWFpbC5jb20nfSxcclxuICAgIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCcsIHZhbHVlOiAnZm9yZXN0NTQ4MSd9LFxyXG4gICAge3R5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdidG4tYXV0aCcsIHZhbHVlOiAnU2lnbiBpbid9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBmaWVsZHNEYXRhU2lnblVwID0gW1xyXG4gICAge3R5cGU6ICd0ZXh0JywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdmdWxsTmFtZScsIHBsYWNlaG9sZGVyOiAnWW91ciBuYW1lJ30sXHJcbiAgICB7dHlwZTogJ2VtYWlsJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAnWW91ciBlLW1haWwnfSxcclxuICAgIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCd9LFxyXG4gICAgLy8ge3R5cGU6ICdwYXNzd29yZCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAncmVwZWF0LXBhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdSZXBlYXQgeW91ciBwYXNzd29yZCd9LFxyXG4gICAge3R5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdidG4tYXV0aCcsIHZhbHVlOiAnU2lnbiB1cCd9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCB0YWJzRGF0YSA9IFtcclxuICAgIHtjbGFzc05hbWU6ICdidG4tc2lnbmluJywgdGV4dENvbnRlbnQ6ICdTaWduIEluJywgZGF0YXNldDoge3RhYjonc2lnbmluJ319LFxyXG4gICAge2NsYXNzTmFtZTogJ2J0bi1zaWdudXAnLCB0ZXh0Q29udGVudDogJ1NpZ24gVXAnLCBkYXRhc2V0OiB7dGFiOidzaWdudXAnfX1cclxuXVxyXG4iLCJpbXBvcnQgQXBpIGZyb20gXCIuL0FwaVwiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2xpZGVyXCI7XHJcblxyXG5jb25zdCBtZW50b3JzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuY29uc3QgcXR5QWN0aXZlU2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF0eS1tZW50b3JzIHNwYW4nKVxyXG4vLyBjb25zdCBhY3RpdmVDYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzLWl0ZW0uYWN0aXZlJylcclxuXHJcbmlmKG1lbnRvcnNMaXN0KSB7XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICBjb25zdCBtZW50b3JzID0gcmVxdWVzdC5nZXRSZXF1ZXN0KCcvc3RhdGVtZW50cycpO1xyXG4gICAgbWVudG9ycy50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIGxldCBudW1iZXJDYXJkID0gMFxyXG5cclxuICAgICAgICBkYXRhLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWVudG9yID0gbmV3IENhcmQoZWxlbSk7XHJcbiAgICAgICAgICAgIG1lbnRvci5yZW5kZXIobWVudG9yc0xpc3QpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlGcm9tU3RvcmFnZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NhdGVnb3J5JylcclxuICAgICAgICBpZihjYXRlZ29yeUZyb21TdG9yYWdlKXtcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yeU1lbnRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1ib2R5ZWxlbT1cIiR7Y2F0ZWdvcnlGcm9tU3RvcmFnZX1cIl1gKVxyXG4gICAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5TWVudG9ycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICBxdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHtudW1iZXJDYXJkfWBcclxuICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGFsbENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLml0ZW0nKVxyXG4gICAgICAgICAgICBhbGxDYXJkcy5mb3JFYWNoKGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICBxdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHtudW1iZXJDYXJkfWBcclxuICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhdGVnb3J5JylcclxuICAgICAgICBuZXcgU2xpZGVyKCcuYXJyb3ctcmlnaHQnLCAnLmFycm93LWxlZnQnLCAnLml0ZW0uYWN0aXZlJywgMCwgNCwgJy5xdHktbWVudG9ycyBzcGFuJykgXHJcbiAgICB9KVxyXG59XHJcbiIsImltcG9ydCBTZWFyY2ggZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybS9zZWFyY2hGb3JtLmpzXCJcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgaWYod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaGluZy5odG1sJykge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeScpIHx8ICdhbGwnXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtSGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yaWVzLWl0ZW0nKVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgIGlmKHNlbGVjdGVkQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1IZWFkLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtLmRhdGFzZXQudGFiID09IHNlbGVjdGVkQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc2VhcmNoRm9ybSA9IG5ldyBTZWFyY2goJy5zZWFyY2hfX2Zvcm0nLCAnLndyYXBwZXItY2FyZHMnLCAnLnF0eS1tZW50b3JzIHNwYW4nLCAnLndyYXBwZXItY2FyZHNfX21lc3NhZ2UnKSBcclxuICAgICAgICBzZWFyY2hGb3JtLnNlYXJjaElucHV0KClcclxuICAgICAgICBzZWFyY2hGb3JtLmhhbmRsZVNlYXJjaCgpXHJcbiAgICAgICAgLy8gc2VhcmNoRm9ybS5vblNhdmUoKVxyXG4gICAgfVxyXG59KSJdfQ==
