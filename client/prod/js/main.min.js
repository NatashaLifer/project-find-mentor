(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Card {
  constructor(props) {
    const {
      _id,
      category,
      imgUrl,
      title,
      description,
      rating,
      location,
      price
    } = props;
    this.id = _id;
    this.category = category;
    this.image = 'https://i.pravatar.cc';
    // this.image = imgUrl || 'https://i.pravatar.cc'
    // 'https://via.placeholder.com/150'
    this.title = title;
    this.description = description;
    this.rating = rating;
    this.location = location;
    this.price = price;
  }
  render(container) {
    const wrapperItem = new _CreateElement.default('div', {
      className: 'item',
      dataset: {
        id: this.id,
        bodyelem: this.category
      }
    }).render();
    const pic = new _CreateElement.default('picture', {
      className: 'item-pic'
    }).render();
    const img = new _CreateElement.default('img', {
      src: this.image,
      alt: 'photo',
      className: 'item-pic-photo'
    }).render();
    const title = new _CreateElement.default('h2', {
      textContent: this.title,
      className: 'item-mentor-name'
    }).render();
    const wrapRating = new _CreateElement.default('div', {
      className: 'item-rating'
    }).render();
    const stars = new _CreateElement.default('div', {
      className: 'item-rating-stars'
    }).render();
    // const ratingCount = new CreateElement ('div', {textContent: this.rating, className: 'item-rating-count'}).render()
    const ratingCount = new _CreateElement.default('div', {
      textContent: this.category,
      className: 'item-rating-count'
    }).render();
    const description = new _CreateElement.default('div', {
      textContent: this.description,
      className: 'item-stack'
    }).render();
    const location = new _CreateElement.default('div', {
      textContent: this.location,
      className: 'item-language-country'
    }).render();
    const btn = new _CreateElement.default('button', {
      className: 'item-booking'
    }).render();
    const btnLink = new _CreateElement.default('a', {
      textContent: 'Book Time',
      className: 'item-booking-link',
      href: '#'
    }).render();
    const btnPrice = new _CreateElement.default('span', {
      className: "item-booking-cost",
      textContent: `${this.price}$/ hours`
    }).render();
    pic.append(img);
    wrapRating.append(stars, ratingCount);
    btn.append(btnLink, btnPrice);
    wrapperItem.append(pic, title, wrapRating, description, location, btn);
    container.append(wrapperItem);
  }
}
exports.default = Card;

},{"../utils/CreateElement.js":11}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formAuthApi = exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
var _Api = _interopRequireDefault(require("../../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const formAuthApi = exports.formAuthApi = new _Api.default('http://localhost:8080/api/auth/');
class Form {
  constructor(fields, form) {
    this.element = document.querySelector(form) || document.createElement('form');
    this.inputFields = fields || [];
  }
  render(nameForm) {
    this.element.className = nameForm;
    if (this.element.classList.contains('form-signin')) {
      this.element.classList.add('active');
    }
    if (this.inputFields) {
      this.inputFields.forEach(field => {
        const input = new _CreateElement.default('input', field);
        const fieldRender = input.render();
        this.element.append(fieldRender);
      });
    }
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  handleForm() {
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  serialize() {
    const fieldsData = {};
    const formData = new FormData(this.element);
    // console.log(formData);
    for (let [name] of formData) {
      fieldsData[name] = formData.get(name);
    }
    return fieldsData;
  }
  onSave(event) {
    event.preventDefault();
    const dataFields = this.serialize();
    console.log(dataFields);
    return dataFields;
  }
}
exports.default = Form;

},{"../../utils/Api.js":10,"../../utils/CreateElement.js":11}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormLogin extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }

  // render() {
  //   super.render()
  //   if (this.element.classList.contains('form-signin')) {
  //     this.element.classList.add('active')
  //   }
  // }

  async onSave(event) {
    const requestResult = super.onSave(event);
    console.log(requestResult);
    if (this.element.classList.contains('form-signin') & this.element.classList.contains('active')) {
      const userLog = await _Form.formAuthApi.postRequest('signin', requestResult);

      // postRequest.then((userLog) => {
      if (userLog.message) {
        const submitSignin = document.querySelector('.form-signin .btn-auth');
        const errorMessage = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userLog.message
        }).render();
        submitSignin.insertAdjacentElement('beforebegin', errorMessage);
      } else {
        const userData = {
          id: userLog.data._id,
          fullName: userLog.data.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const signinLink = document.querySelector('.nav__title-auth');
        signinLink.textContent = `${userLog.data.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
      // })
    }
  }
}
exports.default = FormLogin;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormRegistr extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }
  async onSave(event) {
    const requestResult = super.onSave(event);
    if (this.element.classList.contains('form-signup') & this.element.classList.contains('active')) {
      const userReg = await _Form.formAuthApi.postRequest('signup', requestResult);

      // (userReg) => {
      if (userReg.statusText === "Такий email вже існує") {
        const submitSignup = document.querySelector('.form-signup .btn-auth');
        const errorMessageSignup = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userReg.statusText
        }).render();
        submitSignup.insertAdjacentElement('beforebegin', errorMessageSignup);
      } else if (userReg.statusText === "Thanks for registering.") {
        const userData = {
          email: userReg.email,
          fullName: userReg.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const popup = document.querySelector('.popup');
        const popupText = new _CreateElement.default('p', {
          className: 'popup-text',
          textContent: userReg.statusText
        }).render();
        popup.append(popupText);
        const signinLink = document.querySelector('.nav__title-auth');
        signinLink.textContent = `${userReg.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
    }
  }
}
exports.default = FormRegistr;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Modal {
  constructor(html) {
    this.content = html;
  }
  render(btn) {
    const modalWrap = document.querySelector('.modal-wrapper');
    btn.addEventListener("click", () => {
      modalWrap.classList.remove('deactiveted');
      modalWrap.addEventListener('click', event => {
        if (event.currentTarget === event.target || event.target.className === 'modal-close') {
          modalWrap.classList.add('deactiveted');
        }
      });
    });
  }
}
exports.default = Modal;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Slider {
  constructor(btnRight, btnLeft, slideItem, indexFirstElem, set) {
    this.btnRight = document.querySelector(btnRight);
    this.btnLeft = document.querySelector(btnLeft);
    this.slides = Array.from(document.querySelectorAll(slideItem));
    this.firstIndex = indexFirstElem || 0;
    this.set = set || 4;
    this.init();
  }
  handleSlider() {
    const slideCount = this.slides.length;
    this.btnLeft.addEventListener('click', () => {
      this.btnRight.classList.remove('deact');
      if (this.firstIndex === 0) {
        this.btnLeft.classList.add('deact');
      } else {
        //гортання на один слайд вліво (назад до початку)
        let lastIndex = this.firstIndex + this.set - 1;
        this.slides[lastIndex].classList.remove('show');
        this.firstIndex = this.firstIndex - 1;
        this.slides[this.firstIndex].classList.add('show');
      }
    });
    this.btnRight.addEventListener('click', () => {
      this.btnLeft.classList.remove('deact');
      if (slideCount <= this.firstIndex + this.set) {
        this.btnRight.classList.add('deact');
      } else {
        //гортання на один слайд вправо (вперед до кінця)
        this.slides[this.firstIndex].classList.remove('show');
        this.firstIndex = this.firstIndex + 1;
        let lastIndex = this.firstIndex + this.set - 1;
        this.slides[lastIndex].classList.add('show');
      }
    });
  }
  init() {
    if (!!this.slides.length) {
      this.handleSlider();
    }
  }
}
exports.default = Slider;

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
var _Slider = _interopRequireDefault(require("./Slider.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Tabs {
  constructor(selectorHead, selectorBody, set, tabs) {
    this.tabs = tabs || [];
    this.head = document.querySelector(selectorHead) || '';
    this.bodytab = document.querySelector(selectorBody) || '';
    this.set = set || 1;
    this.init();
  }
  handleTabs() {
    if (this.head) {
      this.head.addEventListener('click', ev => {
        [...this.head.children].forEach(item => {
          item.classList.remove('active');
        });
        ev.target.classList.add('active');
        ev.target.parentElement.classList.add('active');
        if (this.bodytab) {
          let numberCard = 0;
          [...this.bodytab.children].forEach(elem => {
            elem.classList.remove('active');
            elem.classList.remove('show');
            if (elem.dataset.bodyelem === ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
            } else if ("all" === ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
            }
          });
          new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
        }
      });
    }
  }
  render() {
    this.tabs.forEach(tab => {
      const singleTab = new _CreateElement.default('button', tab).render();
      if (singleTab.className === 'btn-signin') {
        singleTab.classList.add('active');
      }
      this.head.append(singleTab);
    });
  }
  init() {
    if (!!this.tabs.length) {
      this.render();
    }
    this.handleTabs();
  }
}
exports.default = Tabs;

},{"../utils/CreateElement.js":11,"./Slider.js":6}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireDefault(require("./Form/Form.js"));
var _Api = _interopRequireDefault(require("../utils/Api.js"));
var _Slider = _interopRequireDefault(require("./Slider.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Search extends _Form.default {
  constructor(form, cardsList) {
    super();
    this.element = document.querySelector(form);
    this.cardsList = document.querySelector(cardsList);
    this.input = this.element.querySelector("input");

    // this.results = searchResults
    // console.log(this.results);
    //серед яких елементів буде йти пошук:
    // - search - пошук по ключовим фразам в description
    // - category - пошук по розширеному списку категорій itemizedCategory з випадаючого списку (додати ці категорії в базу даних)
  }

  handleSearch() {
    super.handleForm();
  }
  searchInput() {
    this.input.addEventListener('input', event => {
      const activeCategory = document.querySelector('.categories-item.active');
      if (activeCategory) {
        activeCategory.classList.remove('active');
        //document.querySelector('[data-tab="all"]').add('active')
      }

      console.log(event.data);
      const searchValue = event.target.value;
      // return searchValue
      const request = new _Api.default('http://localhost:8080/api');
      const mentors = request.getRequest('/statements');
      [...this.cardsList.children].forEach(singleCard => {
        singleCard.classList.remove('active');
        singleCard.classList.remove('show');
        mentors.then(data => {
          data.forEach(mentor => {
            const selectedWords = [...searchValue.split(' ')];
            for (let i = 0; i < selectedWords.length; i++) {
              const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
              if (elemFind & singleCard.dataset.id === mentor._id) {
                singleCard.classList.add('active');
                singleCard.classList.add('show');
              }
            }

            //* *вибір по одному слову або виразу:
            // const elemFind = mentor.description.toLowerCase().includes(searchValue.toLowerCase())
            // if(elemFind & singleCard.dataset.id === mentor._id) {
            //     singleCard.classList.add('active')
            //     singleCard.classList.add('show')                     
            // }
          });

          new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
        });
      });
    });
  }
  async onSave(event) {
    // console.log(this.element);
    // console.log(this.searchInput()); // не знаходить
    // const requestRes = this.searchInput();
    const requestRes = super.onSave(event); // для живого пошуку цей рядок коментується
    const selectedDescrip = requestRes.search; // це буде братися з окремого методу searchInput
    const selectedCategory = requestRes.category; // i це братися з окремого методу searchCategory

    const request = new _Api.default('http://localhost:8080/api');
    const mentors = await request.getRequest('/statements');
    [...this.cardsList.children].forEach(singleCard => {
      singleCard.classList.remove('active');
      singleCard.classList.remove('show');
      mentors.forEach(mentor => {
        if (selectedCategory.includes(mentor.itemizedCategory)) {
          console.log(mentor.itemizedCategory);
          const selectedWords = [...selectedDescrip.split(' ')];
          for (let i = 0; i < selectedWords.length; i++) {
            const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
            if (elemFind & singleCard.dataset.id === mentor._id) {
              singleCard.classList.add('active');
              singleCard.classList.add('show');
            }
          }
        }
      });
    });
  }
}
exports.default = Search;

},{"../utils/Api.js":10,"./Form/Form.js":2,"./Slider.js":6}],9:[function(require,module,exports){
"use strict";

var _Tabs = _interopRequireDefault(require("./components/Tabs.js"));
var _Form = _interopRequireDefault(require("./components/Form/Form.js"));
var _FormLogin = _interopRequireDefault(require("./components/Form/FormLogin.js"));
var _FormRegistr = _interopRequireDefault(require("./components/Form/FormRegistr.js"));
var _Modal = _interopRequireDefault(require("./components/Modal.js"));
var _DataDynamicComponents = require("./utils/DataDynamicComponents.js");
require("./utils/searching.js");
require("./utils/renderCards.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
// import {FormLogin, Form} from "./components/Form/Form.js"

const switchMode = document.getElementById('btn');
switchMode.addEventListener('click', () => {
  document.body.classList.toggle('light');
});
const btnAuth = document.querySelector('.nav__title-auth');
const formSignIn = new _FormLogin.default(_DataDynamicComponents.fieldsData, 'signin');
const formSignUp = new _FormRegistr.default(_DataDynamicComponents.fieldsDataSignUp, 'signup');
const formWrapper = document.querySelector('.tabs-body');
formWrapper.append(formSignIn.render('form-signin'), formSignUp.render('form-signup'));
new _Tabs.default('.tabs-head', '.tabs-body', 1, _DataDynamicComponents.tabsData);
const wrapper = document.querySelector('modal');
const modal = new _Modal.default(wrapper);
modal.render(btnAuth);
window.addEventListener('DOMContentLoaded', () => {
  const userData = JSON.parse(sessionStorage.getItem('userData'));
  if (userData) {
    btnAuth.textContent = `${userData.fullName}`;
    btnAuth.classList.add('deactiveted-profile');
  }
});
const categoriesMenu = document.querySelector('.hero__footer-select');
if (categoriesMenu) {
  categoriesMenu.addEventListener('click', ev => {
    sessionStorage.setItem('category', ev.target.parentElement.dataset.tab);
  });
}
new _Tabs.default('.categories', '.wrapper-cards', 4);

},{"./components/Form/Form.js":2,"./components/Form/FormLogin.js":3,"./components/Form/FormRegistr.js":4,"./components/Modal.js":5,"./components/Tabs.js":7,"./utils/DataDynamicComponents.js":12,"./utils/renderCards.js":13,"./utils/searching.js":14}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Api {
  constructor(url) {
    this.ROOT_URL = url;
  }
  async getRequest(routing) {
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'GET'
      // headers: {
      // }
    });

    return await response.json();
  }
  async postRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
        // Autorization: `Bearer ${sessionStorage.getItem('tkn')}`
      }
    });

    return await response.json();
  }
  async putRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'PUT',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
  async deleteRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'DELETE',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
}
exports.default = Api;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class CreateElement {
  constructor(tagName, params) {
    this.tagName = tagName;
    this.params = params;
  }
  render() {
    const element = document.createElement(this.tagName);
    for (let key in this.params) {
      switch (key) {
        case 'dataset':
          for (let dataKey in this.params[key]) {
            element.dataset[dataKey] = this.params[key][dataKey];
          }
          break;
        default:
          element[key] = this.params[key];
      }
    }
    return element;
  }
}

// export default function CreateElement(tagName, params) {
//     this.tagName = tagName // 'div'
//     this.params = params // {class:'wrapper', dataset:{id:1}}
// }

// CreateElement.prototype.render = function () {
//     const element = document.createElement(this.tagName)
//     for (let key in this.params) {
//         switch (key) {
//             case 'dataset':
//                 for (let dataKey in this.params[key]) {
//                     element.dataset[dataKey] = this.params[key][dataKey]
//                 }
//                 break
//             default:
//                 element[key] = this.params[key]
//         }
//     }
//     return element
// }
exports.default = CreateElement;

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tabsData = exports.fieldsDataSignUp = exports.fieldsData = void 0;
const fieldsData = exports.fieldsData = [{
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail',
  value: 'aaaa123@gmail.com'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password',
  value: 'forest5481'
}, {
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign in'
}];
const fieldsDataSignUp = exports.fieldsDataSignUp = [{
  type: 'text',
  className: 'field-auth',
  name: 'fullName',
  placeholder: 'Your name'
}, {
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password'
},
// {type: 'password', className: 'field-auth', name: 'repeat-password', placeholder: 'Repeat your password'},
{
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign up'
}];
const tabsData = exports.tabsData = [{
  className: 'btn-signin',
  textContent: 'Sign In',
  dataset: {
    tab: 'signin'
  }
}, {
  className: 'btn-signup',
  textContent: 'Sign Up',
  dataset: {
    tab: 'signup'
  }
}];

},{}],13:[function(require,module,exports){
"use strict";

var _Api = _interopRequireDefault(require("./Api"));
var _Card = _interopRequireDefault(require("../components/Card"));
var _Slider = _interopRequireDefault(require("../components/Slider"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const mentorsList = document.querySelector('.wrapper-cards');
// const activeCategory = document.querySelector('.categories-item.active')

if (mentorsList) {
  const request = new _Api.default('http://localhost:8080/api');
  const mentors = request.getRequest('/statements');
  mentors.then(data => {
    let numberCard = 0;
    data.forEach(elem => {
      const mentor = new _Card.default(elem);
      mentor.render(mentorsList);
    });

    // let selectedCategory = '' 
    const categoryFromStorage = sessionStorage.getItem('category');
    if (categoryFromStorage) {
      //    selectedCategory = categoryFromStorage

      const selectedCategoryMentors = document.querySelectorAll(`[data-bodyelem="${categoryFromStorage}"]`);
      selectedCategoryMentors.forEach(element => {
        element.classList.add('active');
        numberCard++;
        if (numberCard <= 4) {
          element.classList.add('show');
        }
      });
    } else {
      let allCards = document.querySelectorAll('.item');
      allCards.forEach(elem => {
        elem.classList.add('active');
        numberCard++;
        if (numberCard <= 4) {
          elem.classList.add('show');
        }
      });
    }
    new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
  });
}

},{"../components/Card":1,"../components/Slider":6,"./Api":10}],14:[function(require,module,exports){
"use strict";

var _searchForm = _interopRequireDefault(require("../components/searchForm.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
window.addEventListener('DOMContentLoaded', () => {
  if (window.location.pathname === '/searching.html') {
    const selectedCategory = sessionStorage.getItem('category') || 'all';
    const selectedItemHead = document.querySelectorAll('.categories-item');
    if (selectedCategory) {
      selectedItemHead.forEach(elem => {
        elem.classList.remove('active');
        if (elem.dataset.tab == selectedCategory) {
          elem.classList.add('active');
        }
      });
    }
    const searchForm = new _searchForm.default(".form-searching", '.wrapper-cards');
    searchForm.searchInput();
    searchForm.handleSearch();
    // searchForm.onSave()
  }
});

},{"../components/searchForm.js":8}]},{},[9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybS5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybS9Gb3JtTG9naW4uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL01vZGFsLmpzIiwic3JjL3NjcmlwdHMvY29tcG9uZW50cy9TbGlkZXIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL1RhYnMuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaEZvcm0uanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQXBpLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQ3JlYXRlRWxlbWVudC5qcyIsInNyYy9zY3JpcHRzL3V0aWxzL0RhdGFEeW5hbWljQ29tcG9uZW50cy5qcyIsInNyYy9zY3JpcHRzL3V0aWxzL3JlbmRlckNhcmRzLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvc2VhcmNoaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsSUFBQSxjQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQXNELFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUV2QyxNQUFNLElBQUk7RUFDckIsV0FBVyxDQUFDLEtBQUssRUFBQztJQUNkLE1BQU07TUFBRSxHQUFHO01BQUUsUUFBUTtNQUFFLE1BQU07TUFBRSxLQUFLO01BQUUsV0FBVztNQUFFLE1BQU07TUFBRSxRQUFRO01BQUU7SUFBTSxDQUFDLEdBQUcsS0FBSztJQUNwRixJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUc7SUFDYixJ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QztJQUV0RSxJQUFHLGdCQUFnQixFQUFDO01BQ2hCLGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFJLElBQUs7UUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksZ0JBQWdCLEVBQUM7VUFDckMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ2hDO01BQ0osQ0FBQyxDQUFDO0lBQ047SUFFQSxNQUFNLFVBQVUsR0FBRyxJQUFJLG1CQUFNLENBQUMsaUJBQWlCLEVBQUUsZ0JBQWdCLENBQUM7SUFDbEUsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3hCLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6QjtFQUNKO0FBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmR7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgY29uc3QgeyBfaWQsIGNhdGVnb3J5LCBpbWdVcmwsIHRpdGxlLCBkZXNjcmlwdGlvbiwgcmF0aW5nLCBsb2NhdGlvbiwgcHJpY2UgfSA9IHByb3BzXHJcbiAgICAgICAgdGhpcy5pZCA9IF9pZFxyXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeVxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSAnaHR0cHM6Ly9pLnByYXZhdGFyLmNjJ1xyXG4gICAgICAgIC8vIHRoaXMuaW1hZ2UgPSBpbWdVcmwgfHwgJ2h0dHBzOi8vaS5wcmF2YXRhci5jYydcclxuICAgICAgICAvLyAnaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MCdcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGVcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cclxuICAgICAgICB0aGlzLnJhdGluZyA9IHJhdGluZ1xyXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvblxyXG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlckl0ZW0gPSBuZXcgQ3JlYXRlRWxlbWVudCgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0nLCBkYXRhc2V0OntpZDogdGhpcy5pZCwgYm9keWVsZW06IHRoaXMuY2F0ZWdvcnl9fSkucmVuZGVyKClcclxuXHJcbiAgICAgICAgY29uc3QgcGljID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwaWN0dXJlJywge2NsYXNzTmFtZTogJ2l0ZW0tcGljJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdpbWcnLCB7c3JjOiB0aGlzLmltYWdlLCBhbHQ6ICdwaG90bycsIGNsYXNzTmFtZTogJ2l0ZW0tcGljLXBob3RvJ30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2gyJywge3RleHRDb250ZW50OiB0aGlzLnRpdGxlLCBjbGFzc05hbWU6ICdpdGVtLW1lbnRvci1uYW1lJ30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgd3JhcFJhdGluZyA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3Qgc3RhcnMgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHtjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1zdGFycyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIC8vIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMucmF0aW5nLCBjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1jb3VudCd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMuY2F0ZWdvcnksIGNsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLWNvdW50J30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5kZXNjcmlwdGlvbiwgY2xhc3NOYW1lOiAnaXRlbS1zdGFjayd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMubG9jYXRpb24sIGNsYXNzTmFtZTogJ2l0ZW0tbGFuZ3VhZ2UtY291bnRyeSd9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJ0biA9IG5ldyBDcmVhdGVFbGVtZW50ICgnYnV0dG9uJywge2NsYXNzTmFtZTogJ2l0ZW0tYm9va2luZyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGJ0bkxpbmsgPSBuZXcgQ3JlYXRlRWxlbWVudCgnYScsIHt0ZXh0Q29udGVudDogJ0Jvb2sgVGltZScsIGNsYXNzTmFtZTogJ2l0ZW0tYm9va2luZy1saW5rJywgaHJlZjogJyMnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBidG5QcmljZSA9IG5ldyBDcmVhdGVFbGVtZW50KCdzcGFuJywge2NsYXNzTmFtZTogXCJpdGVtLWJvb2tpbmctY29zdFwiLCB0ZXh0Q29udGVudDogYCR7dGhpcy5wcmljZX0kLyBob3Vyc2B9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBpYy5hcHBlbmQoaW1nKVxyXG4gICAgICAgIHdyYXBSYXRpbmcuYXBwZW5kKHN0YXJzLCByYXRpbmdDb3VudClcclxuICAgICAgICBidG4uYXBwZW5kKGJ0bkxpbmssIGJ0blByaWNlKVxyXG4gICAgICAgIHdyYXBwZXJJdGVtLmFwcGVuZChwaWMsIHRpdGxlLCB3cmFwUmF0aW5nLGRlc2NyaXB0aW9uLCBsb2NhdGlvbiwgYnRuKVxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQod3JhcHBlckl0ZW0pXHJcbiAgICB9XHJcbn0gXHJcbiIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi8uLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uLy4uL3V0aWxzL0FwaS5qc1wiXHJcblxyXG5leHBvcnQgY29uc3QgZm9ybUF1dGhBcGkgPSBuZXcgQXBpKCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2F1dGgvJylcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm0ge1xyXG5jb25zdHJ1Y3RvcihmaWVsZHMsIGZvcm0pIHtcclxuICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm0pIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxyXG4gIHRoaXMuaW5wdXRGaWVsZHMgPSBmaWVsZHMgfHwgW107XHJcbn1cclxuXHJcbnJlbmRlcihuYW1lRm9ybSkge1xyXG4gIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBuYW1lRm9ybVxyXG4gIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLXNpZ25pbicpKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICB9ICBcclxuICBpZih0aGlzLmlucHV0RmllbGRzKXtcclxuICAgIHRoaXMuaW5wdXRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgICAgY29uc3QgaW5wdXQgPSBuZXcgQ3JlYXRlRWxlbWVudCgnaW5wdXQnLCBmaWVsZClcclxuICAgICAgY29uc3QgZmllbGRSZW5kZXIgPSBpbnB1dC5yZW5kZXIoKVxyXG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKGZpZWxkUmVuZGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLm9uU2F2ZS5iaW5kKHRoaXMpKTtcclxuICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG59XHJcblxyXG5oYW5kbGVGb3JtKCl7XHJcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5vblNhdmUuYmluZCh0aGlzKSk7XHJcbiAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxufVxyXG5cclxuc2VyaWFsaXplKCkge1xyXG4gICAgY29uc3QgZmllbGRzRGF0YSA9IHt9O1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy5lbGVtZW50KVxyXG4gICAgLy8gY29uc29sZS5sb2coZm9ybURhdGEpO1xyXG4gICAgZm9yKGxldCBbbmFtZV0gb2YgZm9ybURhdGEpe1xyXG4gICAgICBmaWVsZHNEYXRhW25hbWVdID0gZm9ybURhdGEuZ2V0KG5hbWUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmllbGRzRGF0YTtcclxufVxyXG5cclxub25TYXZlKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGNvbnN0IGRhdGFGaWVsZHMgPSB0aGlzLnNlcmlhbGl6ZSgpO1xyXG4gIGNvbnNvbGUubG9nKGRhdGFGaWVsZHMpO1xyXG4gIHJldHVybiBkYXRhRmllbGRzXHJcbn1cclxuXHJcbn1cclxuXHJcbiIsImltcG9ydCBGb3JtLCB7Zm9ybUF1dGhBcGl9IGZyb20gXCIuL0Zvcm0uanNcIlxyXG5pbXBvcnQgQ3JlYXRlRWxlbWVudCBmcm9tIFwiLi4vLi4vdXRpbHMvQ3JlYXRlRWxlbWVudC5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtTG9naW4gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgZGF0YXNldCkge1xyXG4gICAgICBzdXBlcihmaWVsZHMpXHJcbiAgICAgIHRoaXMuZWxlbWVudC5kYXRhc2V0LmJvZHllbGVtID0gZGF0YXNldFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyByZW5kZXIoKSB7XHJcbiAgICAvLyAgIHN1cGVyLnJlbmRlcigpXHJcbiAgICAvLyAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLXNpZ25pbicpKSB7XHJcbiAgICAvLyAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICBcclxuICAgIGFzeW5jIG9uU2F2ZShldmVudCl7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3RSZXN1bHQgPSBzdXBlci5vblNhdmUoZXZlbnQpXHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3RSZXN1bHQpO1xyXG4gIFxyXG4gICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWduaW4nKSAmIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckxvZyA9IGF3YWl0IGZvcm1BdXRoQXBpLnBvc3RSZXF1ZXN0KCdzaWduaW4nLCByZXF1ZXN0UmVzdWx0KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwb3N0UmVxdWVzdC50aGVuKCh1c2VyTG9nKSA9PiB7XHJcbiAgICAgICAgICBpZih1c2VyTG9nLm1lc3NhZ2Upe1xyXG4gICAgICAgICAgICBjb25zdCBzdWJtaXRTaWduaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1zaWduaW4gLmJ0bi1hdXRoJylcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge2NsYXNzTmFtZTogJ2Vycm9yLW1lc3NhZ2UnLCB0ZXh0Q29udGVudDogdXNlckxvZy5tZXNzYWdlfSkucmVuZGVyKClcclxuICAgICAgICAgICAgc3VibWl0U2lnbmluLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBlcnJvck1lc3NhZ2UpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHtpZDogdXNlckxvZy5kYXRhLl9pZCwgZnVsbE5hbWU6IHVzZXJMb2cuZGF0YS5mdWxsTmFtZX1cclxuICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlckRhdGEnLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkpXHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgY29uc3QgbW9kYWxXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKVxyXG4gICAgICAgICAgICAgICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQnKVxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmluTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX3RpdGxlLWF1dGgnKVxyXG4gICAgICAgICAgICAgICAgICBzaWduaW5MaW5rLnRleHRDb250ZW50ID0gYCR7dXNlckxvZy5kYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgICAgICAgICAgICAgc2lnbmluTGluay5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZC1wcm9maWxlJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICB9IFxyXG4gICAgICBcclxuICAgIH1cclxuICB9IiwiaW1wb3J0IEZvcm0sIHtmb3JtQXV0aEFwaX0gZnJvbSBcIi4vRm9ybS5qc1wiXHJcbmltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi8uLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1SZWdpc3RyIGV4dGVuZHMgRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGRhdGFzZXQpIHtcclxuICAgICAgc3VwZXIoZmllbGRzKVxyXG4gICAgICBcclxuICAgICAgdGhpcy5lbGVtZW50LmRhdGFzZXQuYm9keWVsZW0gPSBkYXRhc2V0XHJcbiAgICB9XHJcbiAgXHJcbiAgICBhc3luYyBvblNhdmUoZXZlbnQpe1xyXG4gICAgICBjb25zdCByZXF1ZXN0UmVzdWx0ID0gc3VwZXIub25TYXZlKGV2ZW50KVxyXG4gIFxyXG4gICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWdudXAnKSAmIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIGNvbnN0IHVzZXJSZWcgPSBhd2FpdCBmb3JtQXV0aEFwaS5wb3N0UmVxdWVzdCgnc2lnbnVwJywgcmVxdWVzdFJlc3VsdClcclxuICAgIFxyXG4gICAgLy8gKHVzZXJSZWcpID0+IHtcclxuICAgICAgaWYodXNlclJlZy5zdGF0dXNUZXh0ID09PSBcItCi0LDQutC40LkgZW1haWwg0LLQttC1INGW0YHQvdGD0ZRcIil7XHJcbiAgICAgICAgY29uc3Qgc3VibWl0U2lnbnVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbnVwIC5idG4tYXV0aCcpXHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlU2lnbnVwID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge2NsYXNzTmFtZTogJ2Vycm9yLW1lc3NhZ2UnLCB0ZXh0Q29udGVudDogdXNlclJlZy5zdGF0dXNUZXh0fSkucmVuZGVyKClcclxuICAgICAgICBzdWJtaXRTaWdudXAuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGVycm9yTWVzc2FnZVNpZ251cClcclxuICAgICAgfSBlbHNlIFxyXG4gICAgICAgIGlmICh1c2VyUmVnLnN0YXR1c1RleHQgPT09IFwiVGhhbmtzIGZvciByZWdpc3RlcmluZy5cIikge1xyXG4gICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7ZW1haWw6IHVzZXJSZWcuZW1haWwsIGZ1bGxOYW1lOiB1c2VyUmVnLmZ1bGxOYW1lfVxyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlckRhdGEnLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJylcclxuICAgICAgICAgIGNvbnN0IHBvcHVwVGV4dCA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdwb3B1cC10ZXh0JywgdGV4dENvbnRlbnQ6IHVzZXJSZWcuc3RhdHVzVGV4dH0pLnJlbmRlcigpXHJcbiAgICAgICAgICBwb3B1cC5hcHBlbmQocG9wdXBUZXh0KVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3Qgc2lnbmluTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX3RpdGxlLWF1dGgnKVxyXG4gICAgICAgICAgc2lnbmluTGluay50ZXh0Q29udGVudCA9IGAke3VzZXJSZWcuZnVsbE5hbWV9YFxyXG4gICAgICAgICAgc2lnbmluTGluay5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZC1wcm9maWxlJylcclxuICAgICAgfVxyXG4gICAgfSBcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xyXG4gICAgY29uc3RydWN0b3IgKGh0bWwpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBodG1sXHJcbiAgICB9XHJcbiAgICByZW5kZXIoYnRuKSB7XHJcbiAgICAgICAgY29uc3QgbW9kYWxXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKVxyXG5cclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0aXZldGVkJylcclxuXHJcbiAgICAgICAgICAgIG1vZGFsV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4geyAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgPT09IGV2ZW50LnRhcmdldCB8fCBldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSAnbW9kYWwtY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkJylcclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIH0pICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXIge1xyXG4gICAgY29uc3RydWN0b3IoYnRuUmlnaHQsIGJ0bkxlZnQsIHNsaWRlSXRlbSwgaW5kZXhGaXJzdEVsZW0sIHNldCkge1xyXG4gICAgICAgIHRoaXMuYnRuUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0blJpZ2h0KVxyXG4gICAgICAgIHRoaXMuYnRuTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuTGVmdClcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzbGlkZUl0ZW0pKTtcclxuICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSBpbmRleEZpcnN0RWxlbSB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0IHx8IDQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgIH1cclxuICAgIFxyXG4gICAgaGFuZGxlU2xpZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHNsaWRlQ291bnQgPSB0aGlzLnNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuTGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5idG5SaWdodC5jbGFzc0xpc3QucmVtb3ZlKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIGlmKHRoaXMuZmlyc3RJbmRleCA9PT0gMCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuTGVmdC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0LvRltCy0L4gKNC90LDQt9Cw0LQg0LTQviDQv9C+0YfQsNGC0LrRgylcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCAtIDEgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1tsYXN0SW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggLSAxIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5maXJzdEluZGV4XS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5idG5SaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5idG5MZWZ0LmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0JylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChzbGlkZUNvdW50IDw9ICh0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuUmlnaHQuY2xhc3NMaXN0LmFkZCgnZGVhY3QnKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy/Qs9C+0YDRgtCw0L3QvdGPINC90LAg0L7QtNC40L0g0YHQu9Cw0LnQtCDQstC/0YDQsNCy0L4gKNCy0L/QtdGA0LXQtCDQtNC+INC60ZbQvdGG0Y8pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKSBcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIDEgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCAtIDFcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW2xhc3RJbmRleF0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIGlmKCEhdGhpcy5zbGlkZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTbGlkZXIoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyLmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYnMge1xyXG4gICAgY29uc3RydWN0b3IgKHNlbGVjdG9ySGVhZCwgc2VsZWN0b3JCb2R5LCBzZXQsIHRhYnMpIHtcclxuICAgICAgICB0aGlzLnRhYnMgPSB0YWJzIHx8IFtdXHJcbiAgICAgICAgdGhpcy5oZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckhlYWQpIHx8ICcnIFxyXG4gICAgICAgIHRoaXMuYm9keXRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JCb2R5KSB8fCAnJyBcclxuICAgICAgICB0aGlzLnNldCA9IHNldCB8fCAxXHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgIH1cclxuICAgIFxyXG4gICAgaGFuZGxlVGFicygpIHtcclxuICAgIGlmKHRoaXMuaGVhZCl7XHJcbiAgICAgICAgdGhpcy5oZWFkLmFkZEV2ZW50TGlzdGVuZXIgKCdjbGljaycsIChldikgPT4ge1xyXG4gICAgICAgICAgICBbLi4udGhpcy5oZWFkLmNoaWxkcmVuXS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBldi50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmJvZHl0YWIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBudW1iZXJDYXJkID0gMDtcclxuICAgICAgICAgICAgICAgIFsuLi50aGlzLmJvZHl0YWIuY2hpbGRyZW5dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhc2V0LmJvZHllbGVtID09PSBldi50YXJnZXQuZGF0YXNldC50YWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoXCJhbGxcIiA9PT0gZXYudGFyZ2V0LmRhdGFzZXQudGFiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgbmV3IFNsaWRlcignLmFycm93LXJpZ2h0JywgJy5hcnJvdy1sZWZ0JywgJy5pdGVtLmFjdGl2ZScpIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxucmVuZGVyKCkge1xyXG4gICAgdGhpcy50YWJzLmZvckVhY2goKHRhYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNpbmdsZVRhYiA9IG5ldyBDcmVhdGVFbGVtZW50KCdidXR0b24nLCB0YWIpLnJlbmRlcigpICBcclxuICAgICAgICBpZiAoc2luZ2xlVGFiLmNsYXNzTmFtZSA9PT0gJ2J0bi1zaWduaW4nKSB7XHJcbiAgICAgICAgICAgIHNpbmdsZVRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgdGhpcy5oZWFkLmFwcGVuZChzaW5nbGVUYWIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmluaXQoKSB7XHJcbiAgICBpZighIXRoaXMudGFicy5sZW5ndGgpe1xyXG4gICAgICAgIHRoaXMucmVuZGVyKClcclxuICAgIH1cclxuICAgIHRoaXMuaGFuZGxlVGFicygpICAgXHJcbn1cclxufVxyXG4iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi9Gb3JtL0Zvcm0uanNcIlxyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIlxyXG5pbXBvcnQgU2xpZGVyIGZyb20gXCIuL1NsaWRlci5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2ggZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKGZvcm0sIGNhcmRzTGlzdCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSlcclxuICAgICAgICB0aGlzLmNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZHNMaXN0KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIilcclxuXHJcbiAgICAgICAgLy8gdGhpcy5yZXN1bHRzID0gc2VhcmNoUmVzdWx0c1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVzdWx0cyk7XHJcbiAgICAgICAgICAgIC8v0YHQtdGA0LXQtCDRj9C60LjRhSDQtdC70LXQvNC10L3RgtGW0LIg0LHRg9C00LUg0LnRgtC4INC/0L7RiNGD0Lo6XHJcbiAgICAgICAgICAgIC8vIC0gc2VhcmNoIC0g0L/QvtGI0YPQuiDQv9C+INC60LvRjtGH0L7QstC40Lwg0YTRgNCw0LfQsNC8INCyIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIC8vIC0gY2F0ZWdvcnkgLSDQv9C+0YjRg9C6INC/0L4g0YDQvtC30YjQuNGA0LXQvdC+0LzRgyDRgdC/0LjRgdC60YMg0LrQsNGC0LXQs9C+0YDRltC5IGl0ZW1pemVkQ2F0ZWdvcnkg0Lcg0LLQuNC/0LDQtNCw0Y7Rh9C+0LPQviDRgdC/0LjRgdC60YMgKNC00L7QtNCw0YLQuCDRhtGWINC60LDRgtC10LPQvtGA0ZbRlyDQsiDQsdCw0LfRgyDQtNCw0L3QuNGFKVxyXG4gICAgfVxyXG4gICAgaGFuZGxlU2VhcmNoKCl7XHJcbiAgICAgICAgc3VwZXIuaGFuZGxlRm9ybSgpXHJcbiAgICB9XHJcbiAgICBzZWFyY2hJbnB1dCgpe1xyXG4gICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2F0ZWdvcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllcy1pdGVtLmFjdGl2ZScpXHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZUNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWI9XCJhbGxcIl0nKS5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGEpXHJcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgICAgIC8vIHJldHVybiBzZWFyY2hWYWx1ZVxyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnRvcnMgPSByZXF1ZXN0LmdldFJlcXVlc3QoJy9zdGF0ZW1lbnRzJyk7XHJcbiAgICAgICAgICAgIFsuLi50aGlzLmNhcmRzTGlzdC5jaGlsZHJlbl0uZm9yRWFjaChzaW5nbGVDYXJkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgIG1lbnRvcnMudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goKG1lbnRvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmRzID0gWy4uLnNlYXJjaFZhbHVlLnNwbGl0KCcgJyldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRXb3Jkcy5sZW5ndGg7IGkrKykgeyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VsZWN0ZWRXb3Jkc1tpXS50b0xvd2VyQ2FzZSgpKSAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1GaW5kICYgc2luZ2xlQ2FyZC5kYXRhc2V0LmlkID09PSBtZW50b3IuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKSAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8qICrQstC40LHRltGAINC/0L4g0L7QtNC90L7QvNGDINGB0LvQvtCy0YMg0LDQsdC+INCy0LjRgNCw0LfRgzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZWxlbUZpbmQgPSBtZW50b3IuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hWYWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihlbGVtRmluZCAmIHNpbmdsZUNhcmQuZGF0YXNldC5pZCA9PT0gbWVudG9yLl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JykgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWRlcignLmFycm93LXJpZ2h0JywgJy5hcnJvdy1sZWZ0JywgJy5pdGVtLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KSBcclxuICAgIH1cclxuICAgIGFzeW5jIG9uU2F2ZShldmVudCl7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5lbGVtZW50KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaElucHV0KCkpOyAvLyDQvdC1INC30L3QsNGF0L7QtNC40YLRjFxyXG4gICAgICAgIC8vIGNvbnN0IHJlcXVlc3RSZXMgPSB0aGlzLnNlYXJjaElucHV0KCk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFJlcyA9IHN1cGVyLm9uU2F2ZShldmVudCkgLy8g0LTQu9GPINC20LjQstC+0LPQviDQv9C+0YjRg9C60YMg0YbQtdC5INGA0Y/QtNC+0Log0LrQvtC80LXQvdGC0YPRlNGC0YzRgdGPXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWREZXNjcmlwID0gcmVxdWVzdFJlcy5zZWFyY2ggLy8g0YbQtSDQsdGD0LTQtSDQsdGA0LDRgtC40YHRjyDQtyDQvtC60YDQtdC80L7Qs9C+INC80LXRgtC+0LTRgyBzZWFyY2hJbnB1dFxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSByZXF1ZXN0UmVzLmNhdGVnb3J5IC8vIGkg0YbQtSDQsdGA0LDRgtC40YHRjyDQtyDQvtC60YDQtdC80L7Qs9C+INC80LXRgtC+0LTRgyBzZWFyY2hDYXRlZ29yeVxyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICAgICAgY29uc3QgbWVudG9ycyA9IGF3YWl0IHJlcXVlc3QuZ2V0UmVxdWVzdCgnL3N0YXRlbWVudHMnKTtcclxuXHJcbiAgICAgICAgWy4uLnRoaXMuY2FyZHNMaXN0LmNoaWxkcmVuXS5mb3JFYWNoKHNpbmdsZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcblxyXG4gICAgICAgICAgICBtZW50b3JzLmZvckVhY2gobWVudG9yID0+IHsgXHJcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZENhdGVnb3J5LmluY2x1ZGVzKG1lbnRvci5pdGVtaXplZENhdGVnb3J5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lbnRvci5pdGVtaXplZENhdGVnb3J5KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmRzID0gWy4uLnNlbGVjdGVkRGVzY3JpcC5zcGxpdCgnICcpXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkV29yZHMubGVuZ3RoOyBpKyspIHsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VsZWN0ZWRXb3Jkc1tpXS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1GaW5kICYgc2luZ2xlQ2FyZC5kYXRhc2V0LmlkID09PSBtZW50b3IuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKSAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSAgXHJcbiAgICAgICAgfSkgXHJcbiAgICB9ICAgICBcclxufVxyXG4iLCJpbXBvcnQgVGFicyBmcm9tIFwiLi9jb21wb25lbnRzL1RhYnMuanNcIlxyXG4vLyBpbXBvcnQge0Zvcm1Mb2dpbiwgRm9ybX0gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtL0Zvcm0uanNcIlxyXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybS5qc1wiXHJcbmltcG9ydCBGb3JtTG9naW4gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtL0Zvcm1Mb2dpbi5qc1wiXHJcbmltcG9ydCBGb3JtUmVnaXN0ciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanNcIlxyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4vY29tcG9uZW50cy9Nb2RhbC5qc1wiXHJcbmltcG9ydCB7IGZpZWxkc0RhdGEsIGZpZWxkc0RhdGFTaWduVXAsIHRhYnNEYXRhIH0gZnJvbSBcIi4vdXRpbHMvRGF0YUR5bmFtaWNDb21wb25lbnRzLmpzXCJcclxuaW1wb3J0IFwiLi91dGlscy9zZWFyY2hpbmcuanNcIlxyXG5pbXBvcnQgXCIuL3V0aWxzL3JlbmRlckNhcmRzLmpzXCJcclxuXHJcbmNvbnN0IHN3aXRjaE1vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuJylcclxuXHJcbnN3aXRjaE1vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2xpZ2h0JykgXHJcbn0pXHJcblxyXG5jb25zdCBidG5BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdGl0bGUtYXV0aCcpXHJcblxyXG5jb25zdCBmb3JtU2lnbkluID0gbmV3IEZvcm1Mb2dpbihmaWVsZHNEYXRhLCAnc2lnbmluJylcclxuY29uc3QgZm9ybVNpZ25VcCA9IG5ldyBGb3JtUmVnaXN0cihmaWVsZHNEYXRhU2lnblVwLCAnc2lnbnVwJylcclxuY29uc3QgZm9ybVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFicy1ib2R5JylcclxuZm9ybVdyYXBwZXIuYXBwZW5kKGZvcm1TaWduSW4ucmVuZGVyKCdmb3JtLXNpZ25pbicpLGZvcm1TaWduVXAucmVuZGVyKCdmb3JtLXNpZ251cCcpKVxyXG5cclxubmV3IFRhYnMoJy50YWJzLWhlYWQnLCAnLnRhYnMtYm9keScsIDEsIHRhYnNEYXRhKVxyXG5cclxuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vZGFsJylcclxuY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwod3JhcHBlcilcclxubW9kYWwucmVuZGVyKGJ0bkF1dGgpXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKSBcclxuICAgIGlmKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgYnRuQXV0aC50ZXh0Q29udGVudCA9IGAke3VzZXJEYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgICBidG5BdXRoLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgfVxyXG59KVxyXG5cclxuY29uc3QgY2F0ZWdvcmllc01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fZm9vdGVyLXNlbGVjdCcpXHJcbmlmKGNhdGVnb3JpZXNNZW51KXtcclxuICAgIGNhdGVnb3JpZXNNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnknLCBldi50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYilcclxuICAgIH0pXHJcbn1cclxuXHJcbm5ldyBUYWJzKCcuY2F0ZWdvcmllcycsICcud3JhcHBlci1jYXJkcycsIDQpXHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IodXJsKSB7XHJcbiAgICB0aGlzLlJPT1RfVVJMID0gdXJsXHJcbiAgfVxyXG4gIGFzeW5jIGdldFJlcXVlc3Qocm91dGluZykge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLlJPT1RfVVJMICsgcm91dGluZywge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAvLyBoZWFkZXJzOiB7XHJcbiAgICAgIC8vIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIH1cclxuICBhc3luYyBwb3N0UmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIC8vIEF1dG9yaXphdGlvbjogYEJlYXJlciAke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3RrbicpfWBcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICB9XHJcbiAgYXN5bmMgcHV0UmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfVxyXG4gIGFzeW5jIGRlbGV0ZVJlcXVlc3Qocm91dGluZywgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCh0aGlzLlJPT1RfVVJMICsgcm91dGluZyksIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH0gICBcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENyZWF0ZUVsZW1lbnQge1xyXG4gICAgY29uc3RydWN0b3IodGFnTmFtZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy50YWdOYW1lID0gdGFnTmFtZVxyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zXHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy50YWdOYW1lKVxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnBhcmFtcykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0YXNldCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZGF0YUtleSBpbiB0aGlzLnBhcmFtc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YXNldFtkYXRhS2V5XSA9IHRoaXMucGFyYW1zW2tleV1bZGF0YUtleV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gdGhpcy5wYXJhbXNba2V5XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbGVtZW50XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZUVsZW1lbnQodGFnTmFtZSwgcGFyYW1zKSB7XHJcbi8vICAgICB0aGlzLnRhZ05hbWUgPSB0YWdOYW1lIC8vICdkaXYnXHJcbi8vICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcyAvLyB7Y2xhc3M6J3dyYXBwZXInLCBkYXRhc2V0OntpZDoxfX1cclxuLy8gfVxyXG5cclxuLy8gQ3JlYXRlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy50YWdOYW1lKVxyXG4vLyAgICAgZm9yIChsZXQga2V5IGluIHRoaXMucGFyYW1zKSB7XHJcbi8vICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuLy8gICAgICAgICAgICAgY2FzZSAnZGF0YXNldCc6XHJcbi8vICAgICAgICAgICAgICAgICBmb3IgKGxldCBkYXRhS2V5IGluIHRoaXMucGFyYW1zW2tleV0pIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmRhdGFzZXRbZGF0YUtleV0gPSB0aGlzLnBhcmFtc1trZXldW2RhdGFLZXldXHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBicmVha1xyXG4vLyAgICAgICAgICAgICBkZWZhdWx0OlxyXG4vLyAgICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gdGhpcy5wYXJhbXNba2V5XVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gICAgIHJldHVybiBlbGVtZW50XHJcbi8vIH0iLCJleHBvcnQgY29uc3QgZmllbGRzRGF0YSA9IFtcclxuICAgIHt0eXBlOiAnZW1haWwnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICdZb3VyIGUtbWFpbCcsIHZhbHVlOiAnYWFhYTEyM0BnbWFpbC5jb20nfSxcclxuICAgIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCcsIHZhbHVlOiAnZm9yZXN0NTQ4MSd9LFxyXG4gICAge3R5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdidG4tYXV0aCcsIHZhbHVlOiAnU2lnbiBpbid9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBmaWVsZHNEYXRhU2lnblVwID0gW1xyXG4gICAge3R5cGU6ICd0ZXh0JywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdmdWxsTmFtZScsIHBsYWNlaG9sZGVyOiAnWW91ciBuYW1lJ30sXHJcbiAgICB7dHlwZTogJ2VtYWlsJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAnWW91ciBlLW1haWwnfSxcclxuICAgIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCd9LFxyXG4gICAgLy8ge3R5cGU6ICdwYXNzd29yZCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAncmVwZWF0LXBhc3N3b3JkJywgcGxhY2Vob2xkZXI6ICdSZXBlYXQgeW91ciBwYXNzd29yZCd9LFxyXG4gICAge3R5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdidG4tYXV0aCcsIHZhbHVlOiAnU2lnbiB1cCd9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCB0YWJzRGF0YSA9IFtcclxuICAgIHtjbGFzc05hbWU6ICdidG4tc2lnbmluJywgdGV4dENvbnRlbnQ6ICdTaWduIEluJywgZGF0YXNldDoge3RhYjonc2lnbmluJ319LFxyXG4gICAge2NsYXNzTmFtZTogJ2J0bi1zaWdudXAnLCB0ZXh0Q29udGVudDogJ1NpZ24gVXAnLCBkYXRhc2V0OiB7dGFiOidzaWdudXAnfX1cclxuXVxyXG4iLCJpbXBvcnQgQXBpIGZyb20gXCIuL0FwaVwiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2xpZGVyXCI7XHJcblxyXG5jb25zdCBtZW50b3JzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuLy8gY29uc3QgYWN0aXZlQ2F0ZWdvcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllcy1pdGVtLmFjdGl2ZScpXHJcblxyXG5pZihtZW50b3JzTGlzdCkge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGknKVxyXG4gICAgY29uc3QgbWVudG9ycyA9IHJlcXVlc3QuZ2V0UmVxdWVzdCgnL3N0YXRlbWVudHMnKTtcclxuICAgIG1lbnRvcnMudGhlbihkYXRhID0+IHtcclxuICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDBcclxuXHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnRvciA9IG5ldyBDYXJkKGVsZW0pO1xyXG4gICAgICAgICAgICBtZW50b3IucmVuZGVyKG1lbnRvcnNMaXN0KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGxldCBzZWxlY3RlZENhdGVnb3J5ID0gJycgXHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlGcm9tU3RvcmFnZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NhdGVnb3J5JylcclxuICAgICAgICBpZihjYXRlZ29yeUZyb21TdG9yYWdlKXtcclxuICAgICAgICAvLyAgICBzZWxlY3RlZENhdGVnb3J5ID0gY2F0ZWdvcnlGcm9tU3RvcmFnZVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5TWVudG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWJvZHllbGVtPVwiJHtjYXRlZ29yeUZyb21TdG9yYWdlfVwiXWApXHJcbiAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlNZW50b3JzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBhbGxDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJylcclxuICAgICAgICAgICAgYWxsQ2FyZHMuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIG51bWJlckNhcmQrK1xyXG4gICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3IFNsaWRlcignLmFycm93LXJpZ2h0JywgJy5hcnJvdy1sZWZ0JywgJy5pdGVtLmFjdGl2ZScpIFxyXG4gICAgfSlcclxufSIsImltcG9ydCBTZWFyY2ggZnJvbSBcIi4uL2NvbXBvbmVudHMvc2VhcmNoRm9ybS5qc1wiXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2hpbmcuaHRtbCcpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY2F0ZWdvcnknKSB8fCAnYWxsJ1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbUhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0ZWdvcmllcy1pdGVtJylcclxuICAgICAgICAgICAgICBcclxuICAgICAgICBpZihzZWxlY3RlZENhdGVnb3J5KXtcclxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSGVhZC5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhc2V0LnRhYiA9PSBzZWxlY3RlZENhdGVnb3J5KXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgY29uc3Qgc2VhcmNoRm9ybSA9IG5ldyBTZWFyY2goXCIuZm9ybS1zZWFyY2hpbmdcIiwgJy53cmFwcGVyLWNhcmRzJykgXHJcbiAgICAgICAgc2VhcmNoRm9ybS5zZWFyY2hJbnB1dCgpXHJcbiAgICAgICAgc2VhcmNoRm9ybS5oYW5kbGVTZWFyY2goKVxyXG4gICAgICAgIC8vIHNlYXJjaEZvcm0ub25TYXZlKClcclxuICAgIH1cclxufSkiXX0=
