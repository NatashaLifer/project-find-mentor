(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Card {
  constructor(props) {
    const {
      _id,
      category,
      imgUrl,
      title,
      description,
      rating,
      location,
      price
    } = props;
    this.id = _id;
    this.category = category;
    this.image = imgUrl?.url || 'https://i.pravatar.cc';
    // 'https://via.placeholder.com/150'
    this.title = title;
    this.description = description;
    this.rating = rating;
    this.location = location;
    this.price = price;
  }
  render(container) {
    const wrapperItem = new _CreateElement.default('div', {
      className: 'item',
      dataset: {
        id: this.id,
        bodyelem: this.category
      }
    }).render();
    const pic = new _CreateElement.default('picture', {
      className: 'item-pic'
    }).render();
    const img = new _CreateElement.default('img', {
      src: this.image,
      alt: 'photo',
      className: 'item-pic-photo'
    }).render();
    const title = new _CreateElement.default('h2', {
      textContent: this.title,
      className: 'item-mentor-name'
    }).render();
    const wrapRating = new _CreateElement.default('div', {
      className: 'item-rating'
    }).render();
    const stars = new _CreateElement.default('div', {
      className: 'item-rating-stars'
    }).render();
    // const ratingCount = new CreateElement ('div', {textContent: this.rating, className: 'item-rating-count'}).render()
    const ratingCount = new _CreateElement.default('div', {
      textContent: this.category,
      className: 'item-rating-count'
    }).render();
    const description = new _CreateElement.default('div', {
      textContent: this.description,
      className: 'item-stack'
    }).render();
    const location = new _CreateElement.default('div', {
      textContent: this.location,
      className: 'item-language-country'
    }).render();
    const btn = new _CreateElement.default('button', {
      className: 'item-booking'
    }).render();
    const btnLink = new _CreateElement.default('a', {
      textContent: 'Book Time',
      className: 'item-booking-link',
      href: '#'
    }).render();
    const btnPrice = new _CreateElement.default('span', {
      className: "item-booking-cost",
      textContent: `${this.price}$/ hours`
    }).render();
    pic.append(img);
    wrapRating.append(stars, ratingCount);
    btn.append(btnLink, btnPrice);
    wrapperItem.append(pic, title, wrapRating, description, location, btn);
    container.append(wrapperItem);
  }
}
exports.default = Card;

},{"../utils/CreateElement.js":8}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = Form;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
var _Api = _interopRequireDefault(require("../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function Form(fields, dataset) {
  this.element = document.createElement('form');
  this.element.dataset.bodyelem = dataset;
  this.inputFields = fields;
}
Form.prototype.render = function (nameForm) {
  this.element.className = nameForm;
  if (this.element.className === 'form-signin') {
    this.element.classList.add('active');
  }
  this.inputFields.forEach(field => {
    const input = new _CreateElement.default('input', field);
    const fieldRender = input.render();
    this.element.append(fieldRender);
  });
  this.element.addEventListener("submit", this.onSave.bind(this));
  return this.element;
};
Form.prototype.onSave = async function (event) {
  event.preventDefault();
  const dataFields = this.serialize();
  console.log(dataFields);
  const apiLogin = new _Api.default('http://localhost:8080/api/auth/');
  // console.log(apiLogin);
  if (this.element.className === 'form-signin active') {
    const postReq = await apiLogin.postRequest('signin', dataFields);
    // console.log(postReq);

    if (postReq.message) {
      const submitSignin = document.querySelector('.form-signin .btn-auth');
      const errorMessage = new _CreateElement.default('p', {
        className: 'error-message',
        textContent: postReq.message
      }).render();
      submitSignin.insertAdjacentElement('beforebegin', errorMessage);
    } else {
      const userData = {
        id: postReq.data._id,
        fullName: postReq.data.fullName
      };
      sessionStorage.setItem('userData', JSON.stringify(userData));
      // console.log(postReq.data._id);
      const modalWrap = document.querySelector('.modal-wrapper');
      modalWrap.classList.add('deactiveted');
      const signinLink = document.querySelector('.nav__title-auth');
      signinLink.textContent = `${postReq.data.fullName}`;
      signinLink.classList.add('deactiveted-profile');
    }
  } else {
    const postReqRegistr = await apiLogin.postRequest('signup', dataFields);
    console.log(postReqRegistr);
    if (postReqRegistr.statusText === "Такой email уже существует") {
      const submitSignup = document.querySelector('.form-signup .btn-auth');
      const errorMessageSignup = new _CreateElement.default('p', {
        className: 'error-message',
        textContent: postReqRegistr.statusText
      }).render();
      submitSignup.insertAdjacentElement('beforebegin', errorMessageSignup);
    } else if (postReqRegistr.statusText === "Thanks for registering.") {
      const userData = {
        email: postReqRegistr.email,
        fullName: postReqRegistr.fullName
      };
      sessionStorage.setItem('userData', JSON.stringify(userData));
      const modalWrap = document.querySelector('.modal-wrapper');
      modalWrap.classList.add('deactiveted');
      const popup = document.querySelector('.popup');
      const popupText = new _CreateElement.default('p', {
        className: 'popup-text',
        textContent: postReqRegistr.statusText
      }).render();
      popup.append(popupText);
      const signinLink = document.querySelector('.nav__title-auth');
      signinLink.textContent = `${postReqRegistr.fullName}`;
      signinLink.classList.add('deactiveted-profile');
    }
  }
};
Form.prototype.serialize = function () {
  const fieldsData = {};
  const formData = new FormData(this.element);
  for (let [name] of formData) {
    fieldsData[name] = formData.get(name);
  }
  return fieldsData;
};

},{"../utils/Api.js":7,"../utils/CreateElement.js":8}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Modal {
  constructor(html) {
    this.content = html;
  }
  render(btn) {
    const modalWrap = document.querySelector('.modal-wrapper');
    btn.addEventListener("click", () => {
      modalWrap.classList.remove('deactiveted');
      modalWrap.addEventListener('click', event => {
        if (event.currentTarget === event.target || event.target.className === 'modal-close') {
          modalWrap.classList.add('deactiveted');
        }
      });
    });
  }
}
exports.default = Modal;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Slider {
  constructor(btnRight, btnLeft, slideItem, indexFirstElem, set) {
    this.btnRight = document.querySelector(btnRight);
    this.btnLeft = document.querySelector(btnLeft);
    this.slides = Array.from(document.querySelectorAll(slideItem));
    this.firstIndex = indexFirstElem || 0;
    this.set = set || 4;
    this.init();
  }
  handleSlider() {
    const slideCount = this.slides.length;
    this.btnLeft.addEventListener('click', () => {
      this.btnRight.classList.remove('deact');
      if (this.firstIndex === 0) {
        this.btnLeft.classList.add('deact');
      } else {
        //гортання на один слайд вліво (назад до початку)
        let lastIndex = this.firstIndex + this.set - 1;
        this.slides[lastIndex].classList.remove('show');
        this.firstIndex = this.firstIndex - 1;
        this.slides[this.firstIndex].classList.add('show');
      }
    });
    this.btnRight.addEventListener('click', () => {
      this.btnLeft.classList.remove('deact');
      if (slideCount <= this.firstIndex + this.set) {
        this.btnRight.classList.add('deact');
      } else {
        //гортання на один слайд вправо (вперед до кінця)
        this.slides[this.firstIndex].classList.remove('show');
        this.firstIndex = this.firstIndex + 1;
        let lastIndex = this.firstIndex + this.set - 1;
        this.slides[lastIndex].classList.add('show');
      }
    });
  }
  init() {
    if (!!this.slides.length) {
      this.handleSlider();
    }
  }
}
exports.default = Slider;

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
var _Slider = _interopRequireDefault(require("./Slider.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Tabs {
  constructor(selectorHead, selectorBody, set, tabs) {
    this.tabs = tabs || [];
    this.head = document.querySelector(selectorHead) || '';
    this.bodytab = document.querySelector(selectorBody) || '';
    this.set = set || 1;
    this.init();
  }
  handleTabs() {
    if (this.head) {
      this.head.addEventListener('click', ev => {
        [...this.head.children].forEach(item => {
          item.classList.remove('active');
        });
        ev.target.classList.add('active');
        ev.target.parentElement.classList.add('active');
        if (this.bodytab) {
          // console.log(this.bodytab);
          let numberCard = 0;
          [...this.bodytab.children].forEach(elem => {
            // console.log(elem);
            elem.classList.remove('active');
            elem.classList.remove('show');
            if (elem.dataset.bodyelem == ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
            }
          });
          const slider = new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
        }
      });
    }
  }
  render() {
    this.tabs.forEach(tab => {
      const singleTab = new _CreateElement.default('button', tab).render();
      if (singleTab.className === 'btn-signin') {
        singleTab.classList.add('active');
      }
      this.head.append(singleTab);
    });
  }
  init() {
    if (!!this.tabs.length) {
      this.render();
    }
    this.handleTabs();
  }
}
exports.default = Tabs;

},{"../utils/CreateElement.js":8,"./Slider.js":4}],6:[function(require,module,exports){
"use strict";

var _Api = _interopRequireDefault(require("./utils/Api.js"));
var _Tabs = _interopRequireDefault(require("./components/Tabs.js"));
var _Form = _interopRequireDefault(require("./components/Form.js"));
var _Modal = _interopRequireDefault(require("./components/Modal.js"));
var _Card = _interopRequireDefault(require("./components/Card.js"));
var _Slider = _interopRequireDefault(require("./components/Slider.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const switchMode = document.getElementById('btn');
switchMode.addEventListener('click', () => {
  document.body.classList.toggle('light');
});
const btnAuth = document.querySelector('.nav__title-auth');
const fieldsData = [{
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail',
  value: 'aaaa123@gmail.com'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password',
  value: 'forest5481'
}, {
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign in'
}];
const fieldsDataSignUp = [{
  type: 'text',
  className: 'field-auth',
  name: 'fullName',
  placeholder: 'Your name'
}, {
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password'
},
// {type: 'password', className: 'field-auth', name: 'repeat-password', placeholder: 'Repeat your password'},
{
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign up'
}];
const tabsData = [{
  className: 'btn-signin',
  textContent: 'Sign In',
  dataset: {
    tab: 'signin'
  }
}, {
  className: 'btn-signup',
  textContent: 'Sign Up',
  dataset: {
    tab: 'signup'
  }
}];
const formSignIn = new _Form.default(fieldsData, 'signin');
const formSignUp = new _Form.default(fieldsDataSignUp, 'signup');
const formWrapper = document.querySelector('.tabs-body');
formWrapper.append(formSignIn.render('form-signin'), formSignUp.render('form-signup'));
const tabs = new _Tabs.default('.tabs-head', '.tabs-body', 1, tabsData);
const wrapper = document.querySelector('modal');
const modal = new _Modal.default(wrapper);
modal.render(btnAuth);
window.addEventListener('DOMContentLoaded', () => {
  const userData = JSON.parse(sessionStorage.getItem('userData'));
  if (userData) {
    btnAuth.textContent = `${userData.fullName}`;
    btnAuth.classList.add('deactiveted-profile');
  }
  const selectedCategory = sessionStorage.getItem('category');
  if (selectedCategory) {
    const selectedItemHead = document.querySelectorAll('.categories-item');
    const wrapperBody = document.querySelector('.wrapper-cards');
    console.log(wrapperBody.childNodes);
    // console.log([...wrapperBody.children]);

    const selectedItemBody = Array.from(wrapperBody.childNodes);
    console.log(selectedItemBody);
    let numberCard = 0;
    if (selectedItemHead) {
      selectedItemHead.forEach(elem => {
        elem.classList.remove('active');
        if (elem.dataset.tab == selectedCategory) {
          elem.classList.add('active');
        }
      });
      selectedItemBody.forEach(el => {
        console.log(el);
        el.classList.remove('active');
        el.classList.remove('show');
        if (el.dataset.bodyelem == selectedCategory) {
          el.classList.add('active');
          numberCard++;
          if (numberCard <= 4) {
            el.classList.add('show');
          }
        }
      });
    }
  }
});
const categoriesMenu = document.querySelector('.hero__footer-select');
if (categoriesMenu) {
  categoriesMenu.addEventListener('click', ev => {
    sessionStorage.setItem('category', ev.target.parentElement.dataset.tab);
  });
}
const mentorsList = document.querySelector('.wrapper-cards');
const activeCategory = document.querySelector('.categories-item.active');
if (mentorsList) {
  const request = new _Api.default('http://localhost:8080/api');
  const mentors = request.getRequest('/statements');
  mentors.then(data => {
    let numberCard = 0;
    data.forEach(elem => {
      const mentor = new _Card.default(elem);
      mentor.render(mentorsList);
    });
    const selectedCategoryMentors = document.querySelectorAll(`[data-bodyelem="${activeCategory.dataset.tab}"]`);
    // console.log(selectedCategoryMentors);
    selectedCategoryMentors.forEach(element => {
      element.classList.add('active');
      numberCard++;
      if (numberCard <= 4) {
        element.classList.add('show');
      }
    });
    const sliderCard = new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
  });
}

// const showPage = new Pagination(mentorsList.length, 1, 4)
// showPage.render()
// const mentors = await showPage.renderContent() 

const categoryTabs = new _Tabs.default('.categories', '.wrapper-cards', 4);

},{"./components/Card.js":1,"./components/Form.js":2,"./components/Modal.js":3,"./components/Slider.js":4,"./components/Tabs.js":5,"./utils/Api.js":7}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Api {
  constructor(url) {
    this.ROOT_URL = url;
  }
  async getRequest(routing) {
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'GET'
      // headers: {
      // }
    });

    return await response.json();
  }
  async postRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
        // Autorization: `Bearer ${sessionStorage.getItem('tkn')}`
      }
    });

    return await response.json();
  }
  async putRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'PUT',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
  async deleteRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'DELETE',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
}
exports.default = Api;

},{}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class CreateElement {
  constructor(tagName, params) {
    this.tagName = tagName;
    this.params = params;
  }
  render() {
    const element = document.createElement(this.tagName);
    for (let key in this.params) {
      switch (key) {
        case 'dataset':
          for (let dataKey in this.params[key]) {
            element.dataset[dataKey] = this.params[key][dataKey];
          }
          break;
        default:
          element[key] = this.params[key];
      }
    }
    return element;
  }
}

// export default function CreateElement(tagName, params) {
//     this.tagName = tagName // 'div'
//     this.params = params // {class:'wrapper', dataset:{id:1}}
// }

// CreateElement.prototype.render = function () {
//     const element = document.createElement(this.tagName)
//     for (let key in this.params) {
//         switch (key) {
//             case 'dataset':
//                 for (let dataKey in this.params[key]) {
//                     element.dataset[dataKey] = this.params[key][dataKey]
//                 }
//                 break
//             default:
//                 element[key] = this.params[key]
//         }
//     }
//     return element
// }
exports.default = CreateElement;

},{}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL01vZGFsLmpzIiwic3JjL3NjcmlwdHMvY29tcG9uZW50cy9TbGlkZXIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL1RhYnMuanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQXBpLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQ3JlYXRlRWxlbWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQ0FBLElBQUEsY0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUFzRCxTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFFdkMsTUFBTSxJQUFJO0VBQ3JCLFdBQVcsQ0FBQyxLQUFLLEVBQUM7SUFDZCxNQUFNO01BQUUsR0FBRztNQUFFLFFBQVE7TUFBRSxNQUFNO01BQUUsS0FBSztNQUFFLFdBQVc7TUFBRSxNQUFNO01BQUUsUUFBUTtNQUFFO0lBQU0sQ0FBQyxHQUFHLEtBQUs7SUFDcEYsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHO0lBQ2IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRO0lBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxFQUFFLEdBQUcsSUFBSSx1QkFBdUI7SUFDbkQ7SUFDQSxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7SUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXO0lBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtJQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVE7SUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLO0VBQ3RCO0VB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SSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFDdkM7SUFDSjtJQUNBLE9BQU8sT0FBTztFQUNsQjtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBLE9BQUEsQ0FBQSxPQUFBLEdBQUEsYUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJke1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xyXG4gICAgICAgIGNvbnN0IHsgX2lkLCBjYXRlZ29yeSwgaW1nVXJsLCB0aXRsZSwgZGVzY3JpcHRpb24sIHJhdGluZywgbG9jYXRpb24sIHByaWNlIH0gPSBwcm9wc1xyXG4gICAgICAgIHRoaXMuaWQgPSBfaWRcclxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnlcclxuICAgICAgICB0aGlzLmltYWdlID0gaW1nVXJsPy51cmwgfHwgJ2h0dHBzOi8vaS5wcmF2YXRhci5jYydcclxuICAgICAgICAvLyAnaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MCdcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGVcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cclxuICAgICAgICB0aGlzLnJhdGluZyA9IHJhdGluZ1xyXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvblxyXG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlckl0ZW0gPSBuZXcgQ3JlYXRlRWxlbWVudCgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0nLCBkYXRhc2V0OntpZDogdGhpcy5pZCwgYm9keWVsZW06IHRoaXMuY2F0ZWdvcnl9fSkucmVuZGVyKClcclxuXHJcbiAgICAgICAgY29uc3QgcGljID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwaWN0dXJlJywge2NsYXNzTmFtZTogJ2l0ZW0tcGljJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdpbWcnLCB7c3JjOiB0aGlzLmltYWdlLCBhbHQ6ICdwaG90bycsIGNsYXNzTmFtZTogJ2l0ZW0tcGljLXBob3RvJ30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2gyJywge3RleHRDb250ZW50OiB0aGlzLnRpdGxlLCBjbGFzc05hbWU6ICdpdGVtLW1lbnRvci1uYW1lJ30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgd3JhcFJhdGluZyA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3Qgc3RhcnMgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHtjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1zdGFycyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIC8vIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMucmF0aW5nLCBjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1jb3VudCd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMuY2F0ZWdvcnksIGNsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLWNvdW50J30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5kZXNjcmlwdGlvbiwgY2xhc3NOYW1lOiAnaXRlbS1zdGFjayd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMubG9jYXRpb24sIGNsYXNzTmFtZTogJ2l0ZW0tbGFuZ3VhZ2UtY291bnRyeSd9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJ0biA9IG5ldyBDcmVhdGVFbGVtZW50ICgnYnV0dG9uJywge2NsYXNzTmFtZTogJ2l0ZW0tYm9va2luZyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGJ0bkxpbmsgPSBuZXcgQ3JlYXRlRWxlbWVudCgnYScsIHt0ZXh0Q29udGVudDogJ0Jvb2sgVGltZScsIGNsYXNzTmFtZTogJ2l0ZW0tYm9va2luZy1saW5rJywgaHJlZjogJyMnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBidG5QcmljZSA9IG5ldyBDcmVhdGVFbGVtZW50KCdzcGFuJywge2NsYXNzTmFtZTogXCJpdGVtLWJvb2tpbmctY29zdFwiLCB0ZXh0Q29udGVudDogYCR7dGhpcy5wcmljZX0kLyBob3Vyc2B9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBpYy5hcHBlbmQoaW1nKVxyXG4gICAgICAgIHdyYXBSYXRpbmcuYXBwZW5kKHN0YXJzLCByYXRpbmdDb3VudClcclxuICAgICAgICBidG4uYXBwZW5kKGJ0bkxpbmssIGJ0blByaWNlKVxyXG4gICAgICAgIHdyYXBwZXJJdGVtLmFwcGVuZChwaWMsIHRpdGxlLCB3cmFwUmF0aW5nLGRlc2NyaXB0aW9uLCBsb2NhdGlvbiwgYnRuKVxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQod3JhcHBlckl0ZW0pXHJcbiAgICB9XHJcbn0gXHJcbiIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGb3JtKGZpZWxkcywgZGF0YXNldCkge1xyXG4gIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxyXG4gIHRoaXMuZWxlbWVudC5kYXRhc2V0LmJvZHllbGVtID0gZGF0YXNldFxyXG4gIHRoaXMuaW5wdXRGaWVsZHMgPSBmaWVsZHM7XHJcbn1cclxuXHJcbkZvcm0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChuYW1lRm9ybSkge1xyXG4gIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBuYW1lRm9ybVxyXG4gIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID09PSAnZm9ybS1zaWduaW4nKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICB9XHJcblxyXG4gIHRoaXMuaW5wdXRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgIGNvbnN0IGlucHV0ID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2lucHV0JywgZmllbGQpXHJcbiAgICBjb25zdCBmaWVsZFJlbmRlciA9IGlucHV0LnJlbmRlcigpXHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKGZpZWxkUmVuZGVyKTtcclxuICB9KTtcclxuXHJcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5vblNhdmUuYmluZCh0aGlzKSk7XHJcbiAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxufTtcclxuICAgIFxyXG5Gb3JtLnByb3RvdHlwZS5vblNhdmUgPSBhc3luYyBmdW5jdGlvbiAoZXZlbnQpIHtcclxuZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5jb25zdCBkYXRhRmllbGRzID0gdGhpcy5zZXJpYWxpemUoKTtcclxuY29uc29sZS5sb2coZGF0YUZpZWxkcyk7XHJcblxyXG5jb25zdCBhcGlMb2dpbiA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvYXV0aC8nKVxyXG4vLyBjb25zb2xlLmxvZyhhcGlMb2dpbik7XHJcbiAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPT09ICdmb3JtLXNpZ25pbiBhY3RpdmUnKSB7XHJcbiAgICBjb25zdCBwb3N0UmVxID0gYXdhaXQgYXBpTG9naW4ucG9zdFJlcXVlc3QoJ3NpZ25pbicsIGRhdGFGaWVsZHMpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhwb3N0UmVxKTtcclxuICAgIFxyXG4gICAgaWYocG9zdFJlcS5tZXNzYWdlKXtcclxuICAgICAgY29uc3Qgc3VibWl0U2lnbmluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbmluIC5idG4tYXV0aCcpXHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdlcnJvci1tZXNzYWdlJywgdGV4dENvbnRlbnQ6IHBvc3RSZXEubWVzc2FnZX0pLnJlbmRlcigpXHJcbiAgICAgIHN1Ym1pdFNpZ25pbi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgZXJyb3JNZXNzYWdlKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdXNlckRhdGEgPSB7aWQ6IHBvc3RSZXEuZGF0YS5faWQsIGZ1bGxOYW1lOiBwb3N0UmVxLmRhdGEuZnVsbE5hbWV9XHJcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhwb3N0UmVxLmRhdGEuX2lkKTtcclxuICAgICAgY29uc3QgbW9kYWxXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKVxyXG4gICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQnKVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2lnbmluTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX3RpdGxlLWF1dGgnKVxyXG4gICAgICBzaWduaW5MaW5rLnRleHRDb250ZW50ID0gYCR7cG9zdFJlcS5kYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgc2lnbmluTGluay5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZC1wcm9maWxlJylcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgcG9zdFJlcVJlZ2lzdHIgPSBhd2FpdCBhcGlMb2dpbi5wb3N0UmVxdWVzdCgnc2lnbnVwJywgZGF0YUZpZWxkcylcclxuICAgIGNvbnNvbGUubG9nKHBvc3RSZXFSZWdpc3RyKTtcclxuICAgIGlmKHBvc3RSZXFSZWdpc3RyLnN0YXR1c1RleHQgPT09IFwi0KLQsNC60L7QuSBlbWFpbCDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9C10YJcIil7XHJcbiAgICAgIGNvbnN0IHN1Ym1pdFNpZ251cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXNpZ251cCAuYnRuLWF1dGgnKVxyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VTaWdudXAgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7Y2xhc3NOYW1lOiAnZXJyb3ItbWVzc2FnZScsIHRleHRDb250ZW50OiBwb3N0UmVxUmVnaXN0ci5zdGF0dXNUZXh0fSkucmVuZGVyKClcclxuICAgICAgc3VibWl0U2lnbnVwLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBlcnJvck1lc3NhZ2VTaWdudXApXHJcbiAgICB9IGVsc2UgXHJcbiAgICAgIGlmIChwb3N0UmVxUmVnaXN0ci5zdGF0dXNUZXh0ID09PSBcIlRoYW5rcyBmb3IgcmVnaXN0ZXJpbmcuXCIpIHtcclxuICAgICAgY29uc3QgdXNlckRhdGEgPSB7ZW1haWw6IHBvc3RSZXFSZWdpc3RyLmVtYWlsLCBmdWxsTmFtZTogcG9zdFJlcVJlZ2lzdHIuZnVsbE5hbWV9XHJcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKVxyXG4gICAgICAgIFxyXG4gICAgICBjb25zdCBtb2RhbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpXHJcbiAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgXHJcbiAgICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJylcclxuICAgICAgY29uc3QgcG9wdXBUZXh0ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge2NsYXNzTmFtZTogJ3BvcHVwLXRleHQnLCB0ZXh0Q29udGVudDogcG9zdFJlcVJlZ2lzdHIuc3RhdHVzVGV4dH0pLnJlbmRlcigpXHJcbiAgICAgIHBvcHVwLmFwcGVuZChwb3B1cFRleHQpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzaWduaW5MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdGl0bGUtYXV0aCcpXHJcbiAgICAgIHNpZ25pbkxpbmsudGV4dENvbnRlbnQgPSBgJHtwb3N0UmVxUmVnaXN0ci5mdWxsTmFtZX1gXHJcbiAgICAgIHNpZ25pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQtcHJvZmlsZScpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5cclxuRm9ybS5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGZpZWxkc0RhdGEgPSB7fTtcclxuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLmVsZW1lbnQpXHJcbiAgXHJcbiAgZm9yKGxldCBbbmFtZV0gb2YgZm9ybURhdGEpe1xyXG4gICAgZmllbGRzRGF0YVtuYW1lXSA9IGZvcm1EYXRhLmdldChuYW1lKVxyXG4gIH1cclxuICByZXR1cm4gZmllbGRzRGF0YTtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoaHRtbCkge1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGh0bWxcclxuICAgIH1cclxuICAgIHJlbmRlcihidG4pIHtcclxuICAgICAgICBjb25zdCBtb2RhbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpXHJcblxyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3RpdmV0ZWQnKVxyXG5cclxuICAgICAgICAgICAgbW9kYWxXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7ICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT09ICdtb2RhbC1jbG9zZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQnKVxyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfSkgICAgXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihidG5SaWdodCwgYnRuTGVmdCwgc2xpZGVJdGVtLCBpbmRleEZpcnN0RWxlbSwgc2V0KSB7XHJcbiAgICAgICAgdGhpcy5idG5SaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuUmlnaHQpXHJcbiAgICAgICAgdGhpcy5idG5MZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5MZWZ0KVxyXG4gICAgICAgIHRoaXMuc2xpZGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNsaWRlSXRlbSkpO1xyXG4gICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IGluZGV4Rmlyc3RFbGVtIHx8IDA7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQgfHwgNDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVTbGlkZXIoKSB7XHJcbiAgICAgICAgY29uc3Qgc2xpZGVDb3VudCA9IHRoaXMuc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5idG5MZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blJpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0JylcclxuICAgICAgICAgICAgaWYodGhpcy5maXJzdEluZGV4ID09PSAwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5MZWZ0LmNsYXNzTGlzdC5hZGQoJ2RlYWN0JylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v0LPQvtGA0YLQsNC90L3RjyDQvdCwINC+0LTQuNC9INGB0LvQsNC50LQg0LLQu9GW0LLQviAo0L3QsNC30LDQtCDQtNC+INC/0L7Rh9Cw0YLQutGDKVxyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0IC0gMSBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW2xhc3RJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCAtIDEgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0blJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxlZnQuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3QnKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHNsaWRlQ291bnQgPD0gKHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5SaWdodC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0L/RgNCw0LLQviAo0LLQv9C10YDQtdC0INC00L4g0LrRltC90YbRjylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuZmlyc3RJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gdGhpcy5maXJzdEluZGV4ICsgMSBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0IC0gMVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXNbbGFzdEluZGV4XS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgaWYoISF0aGlzLnNsaWRlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlcigpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIjtcclxuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi9TbGlkZXIuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFicyB7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2VsZWN0b3JIZWFkLCBzZWxlY3RvckJvZHksIHNldCwgdGFicykge1xyXG4gICAgICAgIHRoaXMudGFicyA9IHRhYnMgfHwgW11cclxuICAgICAgICB0aGlzLmhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ySGVhZCkgfHwgJycgXHJcbiAgICAgICAgdGhpcy5ib2R5dGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckJvZHkpIHx8ICcnIFxyXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0IHx8IDFcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVUYWJzKCkge1xyXG4gICAgaWYodGhpcy5oZWFkKXtcclxuICAgICAgICB0aGlzLmhlYWQuYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIFsuLi50aGlzLmhlYWQuY2hpbGRyZW5dLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZXYudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYm9keXRhYikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5ib2R5dGFiKTtcclxuICAgICAgICAgICAgICAgIGxldCBudW1iZXJDYXJkID0gMDtcclxuICAgICAgICAgICAgICAgIFsuLi50aGlzLmJvZHl0YWIuY2hpbGRyZW5dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhc2V0LmJvZHllbGVtID09IGV2LnRhcmdldC5kYXRhc2V0LnRhYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSB0aGlzLnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgU2xpZGVyKCcuYXJyb3ctcmlnaHQnLCAnLmFycm93LWxlZnQnLCAnLml0ZW0uYWN0aXZlJykgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5yZW5kZXIoKSB7XHJcbiAgICB0aGlzLnRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlVGFiID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHRhYikucmVuZGVyKCkgIFxyXG4gICAgICAgIGlmIChzaW5nbGVUYWIuY2xhc3NOYW1lID09PSAnYnRuLXNpZ25pbicpIHtcclxuICAgICAgICAgICAgc2luZ2xlVGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBcclxuICAgICAgICB0aGlzLmhlYWQuYXBwZW5kKHNpbmdsZVRhYik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuaW5pdCgpIHtcclxuICAgIGlmKCEhdGhpcy50YWJzLmxlbmd0aCl7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVUYWJzKCkgICBcclxufVxyXG59XHJcbiIsImltcG9ydCBBcGkgZnJvbSBcIi4vdXRpbHMvQXBpLmpzXCJcclxuaW1wb3J0IFRhYnMgZnJvbSBcIi4vY29tcG9uZW50cy9UYWJzLmpzXCJcclxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtLmpzXCJcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL2NvbXBvbmVudHMvTW9kYWwuanNcIlxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jb21wb25lbnRzL0NhcmQuanNcIlxyXG5pbXBvcnQgU2xpZGVyIGZyb20gXCIuL2NvbXBvbmVudHMvU2xpZGVyLmpzXCJcclxuXHJcbmNvbnN0IHN3aXRjaE1vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuJylcclxuXHJcbnN3aXRjaE1vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2xpZ2h0JykgXHJcbn0pXHJcblxyXG5jb25zdCBidG5BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdGl0bGUtYXV0aCcpXHJcblxyXG5jb25zdCBmaWVsZHNEYXRhID0gW1xyXG4gICAge3R5cGU6ICdlbWFpbCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAnZW1haWwnLCBwbGFjZWhvbGRlcjogJ1lvdXIgZS1tYWlsJywgdmFsdWU6ICdhYWFhMTIzQGdtYWlsLmNvbSd9LFxyXG4gICAge3R5cGU6ICdwYXNzd29yZCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAncGFzc3dvcmQnLCBwbGFjZWhvbGRlcjogJ1Bhc3N3b3JkJywgdmFsdWU6ICdmb3Jlc3Q1NDgxJ30sXHJcbiAgICB7dHlwZTogJ3N1Ym1pdCcsIGNsYXNzTmFtZTogJ2J0bi1hdXRoJywgdmFsdWU6ICdTaWduIGluJ31cclxuXVxyXG5cclxuY29uc3QgZmllbGRzRGF0YVNpZ25VcCA9IFtcclxuICAgIHt0eXBlOiAndGV4dCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAnZnVsbE5hbWUnLCBwbGFjZWhvbGRlcjogJ1lvdXIgbmFtZSd9LFxyXG4gICAge3R5cGU6ICdlbWFpbCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAnZW1haWwnLCBwbGFjZWhvbGRlcjogJ1lvdXIgZS1tYWlsJ30sXHJcbiAgICB7dHlwZTogJ3Bhc3N3b3JkJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdwYXNzd29yZCcsIHBsYWNlaG9sZGVyOiAnUGFzc3dvcmQnfSxcclxuICAgIC8vIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3JlcGVhdC1wYXNzd29yZCcsIHBsYWNlaG9sZGVyOiAnUmVwZWF0IHlvdXIgcGFzc3dvcmQnfSxcclxuICAgIHt0eXBlOiAnc3VibWl0JywgY2xhc3NOYW1lOiAnYnRuLWF1dGgnLCB2YWx1ZTogJ1NpZ24gdXAnfVxyXG5dXHJcblxyXG5jb25zdCB0YWJzRGF0YSA9IFtcclxuICAgIHtjbGFzc05hbWU6ICdidG4tc2lnbmluJywgdGV4dENvbnRlbnQ6ICdTaWduIEluJywgZGF0YXNldDoge3RhYjonc2lnbmluJ319LFxyXG4gICAge2NsYXNzTmFtZTogJ2J0bi1zaWdudXAnLCB0ZXh0Q29udGVudDogJ1NpZ24gVXAnLCBkYXRhc2V0OiB7dGFiOidzaWdudXAnfX1cclxuXVxyXG5cclxuXHJcbmNvbnN0IGZvcm1TaWduSW4gPSBuZXcgRm9ybShmaWVsZHNEYXRhLCAnc2lnbmluJylcclxuY29uc3QgZm9ybVNpZ25VcCA9IG5ldyBGb3JtKGZpZWxkc0RhdGFTaWduVXAsICdzaWdudXAnKVxyXG5jb25zdCBmb3JtV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzLWJvZHknKVxyXG5mb3JtV3JhcHBlci5hcHBlbmQoZm9ybVNpZ25Jbi5yZW5kZXIoJ2Zvcm0tc2lnbmluJyksZm9ybVNpZ25VcC5yZW5kZXIoJ2Zvcm0tc2lnbnVwJykpXHJcblxyXG5jb25zdCB0YWJzID0gbmV3IFRhYnMoJy50YWJzLWhlYWQnLCAnLnRhYnMtYm9keScsIDEsIHRhYnNEYXRhKVxyXG5cclxuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vZGFsJylcclxuY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwod3JhcHBlcilcclxubW9kYWwucmVuZGVyKGJ0bkF1dGgpXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKSBcclxuICAgIGlmKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgYnRuQXV0aC50ZXh0Q29udGVudCA9IGAke3VzZXJEYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgICBidG5BdXRoLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeScpXHJcbiAgICBpZihzZWxlY3RlZENhdGVnb3J5KSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtSGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yaWVzLWl0ZW0nKVxyXG5cclxuICAgICAgICBjb25zdCB3cmFwcGVyQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuICAgICAgICBjb25zb2xlLmxvZyh3cmFwcGVyQm9keS5jaGlsZE5vZGVzKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhbLi4ud3JhcHBlckJvZHkuY2hpbGRyZW5dKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtQm9keSA9IEFycmF5LmZyb20od3JhcHBlckJvZHkuY2hpbGROb2RlcylcclxuICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZEl0ZW1Cb2R5KTtcclxuICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDBcclxuICAgICAgICBpZihzZWxlY3RlZEl0ZW1IZWFkKXtcclxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSGVhZC5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhc2V0LnRhYiA9PSBzZWxlY3RlZENhdGVnb3J5KXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1Cb2R5LmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlbCk7XHJcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICBpZihlbC5kYXRhc2V0LmJvZHllbGVtID09IHNlbGVjdGVkQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG5jb25zdCBjYXRlZ29yaWVzTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19mb290ZXItc2VsZWN0JylcclxuaWYoY2F0ZWdvcmllc01lbnUpe1xyXG4gICAgY2F0ZWdvcmllc01lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeScsIGV2LnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFiKVxyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgbWVudG9yc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlci1jYXJkcycpXHJcbmNvbnN0IGFjdGl2ZUNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXMtaXRlbS5hY3RpdmUnKVxyXG5cclxuaWYobWVudG9yc0xpc3QpIHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgQXBpKCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpJylcclxuICAgIGNvbnN0IG1lbnRvcnMgPSByZXF1ZXN0LmdldFJlcXVlc3QoJy9zdGF0ZW1lbnRzJyk7XHJcbiAgICBtZW50b3JzLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgbGV0IG51bWJlckNhcmQgPSAwXHJcblxyXG4gICAgICAgIGRhdGEuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZW50b3IgPSBuZXcgQ2FyZChlbGVtKTtcclxuICAgICAgICAgICAgbWVudG9yLnJlbmRlcihtZW50b3JzTGlzdCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5TWVudG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWJvZHllbGVtPVwiJHthY3RpdmVDYXRlZ29yeS5kYXRhc2V0LnRhYn1cIl1gKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGVjdGVkQ2F0ZWdvcnlNZW50b3JzKTtcclxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5TWVudG9ycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIG51bWJlckNhcmQrK1xyXG4gICAgICAgICAgICBpZihudW1iZXJDYXJkIDw9IDQpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHNsaWRlckNhcmQgPSBuZXcgU2xpZGVyKCcuYXJyb3ctcmlnaHQnLCAnLmFycm93LWxlZnQnLCAnLml0ZW0uYWN0aXZlJykgXHJcbiAgICB9KVxyXG59XHJcblxyXG4vLyBjb25zdCBzaG93UGFnZSA9IG5ldyBQYWdpbmF0aW9uKG1lbnRvcnNMaXN0Lmxlbmd0aCwgMSwgNClcclxuLy8gc2hvd1BhZ2UucmVuZGVyKClcclxuLy8gY29uc3QgbWVudG9ycyA9IGF3YWl0IHNob3dQYWdlLnJlbmRlckNvbnRlbnQoKSBcclxuXHJcbmNvbnN0IGNhdGVnb3J5VGFicyA9IG5ldyBUYWJzKCcuY2F0ZWdvcmllcycsICcud3JhcHBlci1jYXJkcycsIDQpXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih1cmwpIHtcclxuICAgIHRoaXMuUk9PVF9VUkwgPSB1cmxcclxuICB9XHJcbiAgYXN5bmMgZ2V0UmVxdWVzdChyb3V0aW5nKSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIC8vIGhlYWRlcnM6IHtcclxuICAgICAgLy8gfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfVxyXG4gIGFzeW5jIHBvc3RSZXF1ZXN0KHJvdXRpbmcsIGRhdGEgPSB7fSkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgodGhpcy5ST09UX1VSTCArIHJvdXRpbmcpLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgLy8gQXV0b3JpemF0aW9uOiBgQmVhcmVyICR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGtuJyl9YFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH1cclxuICBhc3luYyBwdXRSZXF1ZXN0KHJvdXRpbmcsIGRhdGEgPSB7fSkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgodGhpcy5ST09UX1VSTCArIHJvdXRpbmcpLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICB9XHJcbiAgYXN5bmMgZGVsZXRlUmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfSAgIFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3JlYXRlRWxlbWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0YWdOYW1lLCBwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLnRhZ05hbWUgPSB0YWdOYW1lXHJcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXNcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnRhZ05hbWUpXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMucGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRhc2V0JzpcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBkYXRhS2V5IGluIHRoaXMucGFyYW1zW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0W2RhdGFLZXldID0gdGhpcy5wYXJhbXNba2V5XVtkYXRhS2V5XVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50W2tleV0gPSB0aGlzLnBhcmFtc1trZXldXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcclxuICAgIH1cclxufVxyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlRWxlbWVudCh0YWdOYW1lLCBwYXJhbXMpIHtcclxuLy8gICAgIHRoaXMudGFnTmFtZSA9IHRhZ05hbWUgLy8gJ2RpdidcclxuLy8gICAgIHRoaXMucGFyYW1zID0gcGFyYW1zIC8vIHtjbGFzczond3JhcHBlcicsIGRhdGFzZXQ6e2lkOjF9fVxyXG4vLyB9XHJcblxyXG4vLyBDcmVhdGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnRhZ05hbWUpXHJcbi8vICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5wYXJhbXMpIHtcclxuLy8gICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4vLyAgICAgICAgICAgICBjYXNlICdkYXRhc2V0JzpcclxuLy8gICAgICAgICAgICAgICAgIGZvciAobGV0IGRhdGFLZXkgaW4gdGhpcy5wYXJhbXNba2V5XSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YXNldFtkYXRhS2V5XSA9IHRoaXMucGFyYW1zW2tleV1bZGF0YUtleV1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGJyZWFrXHJcbi8vICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbi8vICAgICAgICAgICAgICAgICBlbGVtZW50W2tleV0gPSB0aGlzLnBhcmFtc1trZXldXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyAgICAgcmV0dXJuIGVsZW1lbnRcclxuLy8gfSJdfQ==
