(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Card {
  constructor(props) {
    const {
      _id,
      category,
      imgUrl,
      title,
      description,
      rating,
      location,
      price
    } = props;
    this.id = _id;
    this.category = category;
    this.image = 'https://i.pravatar.cc';
    // this.image = imgUrl || 'https://i.pravatar.cc'
    // 'https://via.placeholder.com/150'
    this.title = title;
    this.description = description;
    this.rating = rating;
    this.location = location;
    this.price = price;
  }
  render(container) {
    const wrapperItem = new _CreateElement.default('div', {
      className: 'item',
      dataset: {
        id: this.id,
        bodyelem: this.category
      }
    }).render();
    const pic = new _CreateElement.default('picture', {
      className: 'item-pic'
    }).render();
    const img = new _CreateElement.default('img', {
      src: this.image,
      alt: 'photo',
      className: 'item-pic-photo'
    }).render();
    const title = new _CreateElement.default('h2', {
      textContent: this.title,
      className: 'item-mentor-name'
    }).render();
    const wrapRating = new _CreateElement.default('div', {
      className: 'item-rating'
    }).render();
    const starsBox = new _CreateElement.default('div', {
      className: 'item-rating-box'
    }).render();
    let starsWidth = this.rating * 100 / 250;
    const stars = new _CreateElement.default('div', {
      className: 'item-rating-stars',
      style: `width: ${starsWidth}%;`
    }).render();
    const ratingCount = new _CreateElement.default('div', {
      textContent: `(${this.rating})`,
      className: 'item-rating-count'
    }).render();
    // const ratingCount = new CreateElement ('div', {textContent: this.category, className: 'item-rating-count'}).render()

    const description = new _CreateElement.default('div', {
      textContent: this.description,
      className: 'item-stack'
    }).render();
    const location = new _CreateElement.default('div', {
      textContent: this.location,
      className: 'item-language-country'
    }).render();
    const btn = new _CreateElement.default('button', {
      className: 'item-booking'
    }).render();
    const btnLink = new _CreateElement.default('a', {
      textContent: 'Book Time',
      className: 'item-booking-link',
      href: '#'
    }).render();
    const btnPrice = new _CreateElement.default('span', {
      className: "item-booking-cost",
      textContent: `${this.price}$/ hours`
    }).render();
    pic.append(img);
    starsBox.append(stars);
    wrapRating.append(starsBox, ratingCount);
    btn.append(btnLink, btnPrice);
    wrapperItem.append(pic, title, wrapRating, description, location, btn);
    container.append(wrapperItem);
  }
}
exports.default = Card;

},{"../utils/CreateElement.js":11}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formAuthApi = exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
var _Api = _interopRequireDefault(require("../../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const formAuthApi = exports.formAuthApi = new _Api.default('http://localhost:8080/api/auth/');
class Form {
  constructor(fields, form) {
    this.element = document.querySelector(form) || document.createElement('form');
    this.inputFields = fields || [];
  }
  render(nameForm) {
    this.element.className = nameForm;
    if (this.element.classList.contains('form-signin')) {
      this.element.classList.add('active');
    }
    if (this.inputFields) {
      this.inputFields.forEach(field => {
        const input = new _CreateElement.default('input', field);
        const fieldRender = input.render();
        this.element.append(fieldRender);
      });
    }
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  handleForm() {
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  serialize() {
    const fieldsData = {};
    const formData = new FormData(this.element);
    for (let [name] of formData) {
      fieldsData[name] = formData.get(name);
    }
    return fieldsData;
  }
  onSave(event) {
    event.preventDefault();
    const dataFields = this.serialize();
    console.log(dataFields);
    event.target.reset();
    return dataFields;
  }
}
exports.default = Form;

},{"../../utils/Api.js":10,"../../utils/CreateElement.js":11}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormLogin extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }

  // render() {
  //   super.render()
  //   if (this.element.classList.contains('form-signin')) {
  //     this.element.classList.add('active')
  //   }
  // }

  async onSave(event) {
    const requestResult = super.onSave(event);
    console.log(requestResult);
    if (this.element.classList.contains('form-signin') & this.element.classList.contains('active')) {
      const userLog = await _Form.formAuthApi.postRequest('signin', requestResult);

      // postRequest.then((userLog) => {
      if (userLog.message) {
        const submitSignin = document.querySelector('.form-signin .btn-auth');
        const errorMessage = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userLog.message
        }).render();
        submitSignin.insertAdjacentElement('beforebegin', errorMessage);
      } else {
        const userData = {
          id: userLog.data._id,
          fullName: userLog.data.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const signinLink = document.querySelector('.nav__title-auth');
        signinLink.textContent = `${userLog.data.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
      // })
    }
  }
}
exports.default = FormLogin;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireWildcard(require("./Form.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
class FormRegistr extends _Form.default {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }
  async onSave(event) {
    const requestResult = super.onSave(event);
    if (this.element.classList.contains('form-signup') & this.element.classList.contains('active')) {
      const userReg = await _Form.formAuthApi.postRequest('signup', requestResult);

      // (userReg) => {
      if (userReg.statusText === "Такий email вже існує") {
        const submitSignup = document.querySelector('.form-signup .btn-auth');
        const errorMessageSignup = new _CreateElement.default('p', {
          className: 'error-message',
          textContent: userReg.statusText
        }).render();
        submitSignup.insertAdjacentElement('beforebegin', errorMessageSignup);
      } else if (userReg.statusText === "Thanks for registering.") {
        const userData = {
          email: userReg.email,
          fullName: userReg.fullName
        };
        sessionStorage.setItem('userData', JSON.stringify(userData));
        const modalWrap = document.querySelector('.modal-wrapper');
        modalWrap.classList.add('deactiveted');
        const popup = document.querySelector('.popup');
        const popupText = new _CreateElement.default('p', {
          className: 'popup-text',
          textContent: userReg.statusText
        }).render();
        popup.append(popupText);
        const signinLink = document.querySelector('.nav__title-auth');
        signinLink.textContent = `${userReg.fullName}`;
        signinLink.classList.add('deactiveted-profile');
      }
    }
  }
}
exports.default = FormRegistr;

},{"../../utils/CreateElement.js":11,"./Form.js":2}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireDefault(require("./Form.js"));
var _Api = _interopRequireDefault(require("../../utils/Api.js"));
var _CreateElement = _interopRequireDefault(require("../../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Search extends _Form.default {
  constructor(form, cardsList, qtyActiveSlides, messageNoCard) {
    super();
    this.element = document.querySelector(form);
    this.cardsList = document.querySelector(cardsList);
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides);
    this.input = this.element.querySelector("input");
    this.messageNoCard = document.querySelector(messageNoCard);
    // this.results = searchResults
    // console.log(this.results);
    //серед яких елементів буде йти пошук: 
    // - search - пошук по ключовим фразам в description
    // - category - пошук по розширеному списку категорій itemizedCategory з випадаючого списку
  }

  handleSearch() {
    super.handleForm();
  }
  searchInput() {
    this.input.addEventListener('input', event => {
      const activeCategory = document.querySelector('.categories-item.active');
      if (activeCategory) {
        activeCategory.classList.remove('active');
        //document.querySelector('[data-tab="all"]').add('active')
      }

      this.messageNoCard.classList.remove('visible');
      // const activeSlides = this.cardsList.querySelectorAll('.active')

      console.log(event.data);
      const searchValue = event.target.value;
      // return searchValue
      const request = new _Api.default('http://localhost:8080/api');
      const mentors = request.getRequest('/statements');
      let numberCard = 0;
      [...this.cardsList.children].forEach(singleCard => {
        singleCard.classList.remove('active');
        singleCard.classList.remove('show');
        mentors.then(data => {
          data.forEach(mentor => {
            const selectedWords = [...searchValue.split(' ')];
            for (let i = 0; i < selectedWords.length; i++) {
              const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
              // console.log(singleCard.dataset.id, mentor._id )                         
              if (elemFind && singleCard.dataset.id === mentor._id) {
                singleCard.classList.add('active');
                numberCard++;
                this.qtyActiveSlides.textContent = `${numberCard}`;
                if (numberCard <= 4) {
                  singleCard.classList.add('show');
                }
              }
            }

            //* *вибір по одному слову або виразу:
            // const elemFind = mentor.description.toLowerCase().includes(searchValue.toLowerCase())
            // if(elemFind & singleCard.dataset.id === mentor._id) {
            //     singleCard.classList.add('active')
            //     singleCard.classList.add('show')                     
            // }
          });
        });
        // const oneCard = document.querySelector('.item.active.show')
        // console.log(oneCard);

        // if (!oneCard){
        //     const mentorsCardsWrapper = document.querySelector('.wrapper-cards')
        //     const noMentorMessage = new CreateElement ('p', {textContent: 'There are no mentors by this statements', className: 'wrapper-cards__message'}).render()
        //     mentorsCardsWrapper.append(noMentorMessage)
        // }
      });
    });
  }

  async onSave(event) {
    // console.log(this.element);
    // console.log(this.searchInput()); // не знаходить
    // const requestRes = this.searchInput();
    const requestRes = super.onSave(event); // для живого пошуку цей рядок коментується
    const selectedDescrip = requestRes.search; // це буде братися з окремого методу searchInput
    const selectedCategory = requestRes.category; // i це братися з окремого методу searchCategory

    const request = new _Api.default('http://localhost:8080/api');
    const mentors = await request.getRequest('/statements');
    let numberCard = 0;
    [...this.cardsList.children].forEach(singleCard => {
      singleCard.classList.remove('active');
      singleCard.classList.remove('show');
      mentors.forEach(mentor => {
        if (selectedCategory.includes(mentor.itemizedCategory)) {
          console.log(mentor.itemizedCategory);
          const selectedWords = [...selectedDescrip.split(' ')];
          for (let i = 0; i < selectedWords.length; i++) {
            const elemFind = mentor.description.toLowerCase().includes(selectedWords[i].toLowerCase());
            if (elemFind & singleCard.dataset.id === mentor._id) {
              singleCard.classList.add('active');
              numberCard++;
              if (numberCard <= 4) {
                singleCard.classList.add('show');
              }
            }
          }
        }
      });
    });
    const activeSlides = this.cardsList.querySelectorAll('.active');
    this.qtyActiveSlides.textContent = `${activeSlides.length}`;
    const oneCard = document.querySelector('.item.active.show');
    console.log(oneCard);
    if (!oneCard) {
      // const messageNoCard = document.querySelector('.wrapper-cards__message')
      this.messageNoCard.classList.add('visible');
      //     const mentorsCardsWrapper = document.querySelector('.wrapper-cards')
      //     const noMentorMessage = new CreateElement ('p', {textContent: 'There are no mentors by this statements', className: 'wrapper-cards__message'}).render()
      //     mentorsCardsWrapper.append(noMentorMessage)
    }
  }
}
exports.default = Search;

},{"../../utils/Api.js":10,"../../utils/CreateElement.js":11,"./Form.js":2}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Modal {
  constructor(html) {
    this.content = html;
  }
  render(btn) {
    const modalWrap = document.querySelector('.modal-wrapper');
    btn.addEventListener("click", () => {
      modalWrap.classList.remove('deactiveted');
      modalWrap.addEventListener('click', event => {
        if (event.currentTarget === event.target || event.target.className === 'modal-close') {
          modalWrap.classList.add('deactiveted');
        }
      });
    });
  }
}
exports.default = Modal;

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Slider {
  constructor(btnRight, btnLeft, slideItem, indexFirstElem, set, qtyActiveSlides) {
    this.btnRight = document.querySelector(btnRight);
    this.btnLeft = document.querySelector(btnLeft);
    this.slides = Array.from(document.querySelectorAll(slideItem));
    this.firstIndex = indexFirstElem || 0;
    this.set = set || 4;
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides);
    this.init();
  }
  handleSlider() {
    this.btnLeft.addEventListener('click', () => {
      let activeSlides = this.slides.filter(slide => slide.classList.contains('active'));
      this.qtyActiveSlides.textContent = `${activeSlides.length}`;
      const isClearSlider = localStorage.getItem('clearSlider');
      if (isClearSlider === 'true') {
        this.firstIndex = 0;
      }
      localStorage.setItem('clearSlider', false);
      this.btnRight.classList.remove('deact');
      if (this.firstIndex === 0) {
        this.btnLeft.classList.add('deact');
      } else {
        //гортання на один слайд вліво (назад до початку)
        let lastIndex = this.firstIndex + this.set - 1;
        activeSlides[lastIndex].classList.remove('show');
        this.firstIndex = this.firstIndex - 1;
        activeSlides[this.firstIndex].classList.add('show');
      }
    });
    this.btnRight.addEventListener('click', () => {
      let activeSlides = this.slides.filter(slide => slide.classList.contains('active'));
      this.qtyActiveSlides.textContent = `${activeSlides.length}`;
      let slideCount = activeSlides.length;
      const isClearSlider = localStorage.getItem('clearSlider');
      if (isClearSlider === 'true') {
        this.firstIndex = 0;
      }
      localStorage.setItem('clearSlider', false);
      this.btnLeft.classList.remove('deact');
      if (slideCount <= this.firstIndex + this.set) {
        this.btnRight.classList.add('deact');
      } else {
        //гортання на один слайд вправо (вперед до кінця)
        activeSlides[this.firstIndex].classList.remove('show');
        this.firstIndex = this.firstIndex + 1;
        let lastIndex = this.firstIndex + this.set - 1;
        activeSlides[lastIndex].classList.add('show');
      }
    });
  }
  init() {
    if (!!this.slides.length) {
      this.handleSlider();
    }
  }
}
exports.default = Slider;

},{}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Tabs {
  constructor(selectorHead, selectorBody, set, tabs, qtyActiveSlides, messageNoCard) {
    this.tabs = tabs || [];
    this.head = document.querySelector(selectorHead) || '';
    this.bodytab = document.querySelector(selectorBody) || '';
    this.set = set || 1;
    this.qtyActiveSlides = document.querySelector(qtyActiveSlides) || '';
    this.messageNoCard = document.querySelector(messageNoCard) || '';
    this.init();
  }
  handleTabs() {
    // const messageNoCard = document.querySelector('.wrapper-cards__message')
    if (this.head) {
      this.head.addEventListener('click', ev => {
        [...this.head.children].forEach(item => {
          item.classList.remove('active');
        });
        localStorage.setItem('clearSlider', true);
        ev.target.classList.add('active');
        ev.target.parentElement.classList.add('active');
        if (this.bodytab) {
          if (this.messageNoCard) {
            this.messageNoCard.classList.remove('visible');
          }
          let numberCard = 0;
          [...this.bodytab.children].forEach(elem => {
            elem.classList.remove('active');
            elem.classList.remove('show');
            if (elem.dataset.bodyelem === ev.target.dataset.tab) {
              console.log(elem);
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
              if (this.qtyActiveSlides) {
                this.qtyActiveSlides.textContent = `${numberCard}`;
              }
            } else if ("all" === ev.target.dataset.tab && elem !== this.messageNoCard) {
              // && elem !== this.messageNoCard
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
              if (this.qtyActiveSlides) {
                this.qtyActiveSlides.textContent = `${numberCard}`;
              }
            }
          });
          // const activeSlides = this.bodytab.querySelectorAll('.active')
          // this.qtyActiveSlides.textContent = `${activeSlides.length}`
        } else {
          this.messageNoCard.classList.add('visible');
        }
      });
    }
  }
  render() {
    this.tabs.forEach(tab => {
      const singleTab = new _CreateElement.default('button', tab).render();
      if (singleTab.className === 'btn-signin') {
        singleTab.classList.add('active');
      }
      this.head.append(singleTab);
    });
  }
  init() {
    if (!!this.tabs.length) {
      this.render();
    }
    this.handleTabs();
  }
}
exports.default = Tabs;

},{"../utils/CreateElement.js":11}],9:[function(require,module,exports){
"use strict";

var _Tabs = _interopRequireDefault(require("./components/Tabs.js"));
var _Slider = _interopRequireDefault(require("./components/Slider.js"));
var _Form = _interopRequireDefault(require("./components/Form/Form.js"));
var _FormLogin = _interopRequireDefault(require("./components/Form/FormLogin.js"));
var _FormRegistr = _interopRequireDefault(require("./components/Form/FormRegistr.js"));
var _Modal = _interopRequireDefault(require("./components/Modal.js"));
var _DataDynamicComponents = require("./utils/DataDynamicComponents.js");
require("./utils/searching.js");
require("./utils/renderCards.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
// import {FormLogin, Form} from "./components/Form/Form.js"

const switchMode = document.getElementById('btn');
switchMode.addEventListener('click', () => {
  document.body.classList.toggle('light');
});
const btnAuth = document.querySelector('.nav__title-auth');
const formSignIn = new _FormLogin.default(_DataDynamicComponents.fieldsData, 'signin');
const formSignUp = new _FormRegistr.default(_DataDynamicComponents.fieldsDataSignUp, 'signup');
const formWrapper = document.querySelector('.tabs-body');
formWrapper.append(formSignIn.render('form-signin'), formSignUp.render('form-signup'));
new _Tabs.default('.tabs-head', '.tabs-body', 1, _DataDynamicComponents.tabsData);
const wrapper = document.querySelector('modal');
const modal = new _Modal.default(wrapper);
modal.render(btnAuth);
window.addEventListener('DOMContentLoaded', () => {
  const userData = JSON.parse(sessionStorage.getItem('userData'));
  if (userData) {
    btnAuth.textContent = `${userData.fullName}`;
    btnAuth.classList.add('deactiveted-profile');
  }
});
const categoriesMenu = document.querySelector('.hero__footer-select');
if (categoriesMenu) {
  categoriesMenu.addEventListener('click', ev => {
    sessionStorage.setItem('category', ev.target.parentElement.dataset.tab);
  });
}
new _Tabs.default('.categories', '.wrapper-cards', 4, null, '.qty-mentors span', '.wrapper-cards__message');

},{"./components/Form/Form.js":2,"./components/Form/FormLogin.js":3,"./components/Form/FormRegistr.js":4,"./components/Modal.js":6,"./components/Slider.js":7,"./components/Tabs.js":8,"./utils/DataDynamicComponents.js":12,"./utils/renderCards.js":13,"./utils/searching.js":14}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Api {
  constructor(url) {
    this.ROOT_URL = url;
  }
  async getRequest(routing) {
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'GET'
      // headers: {
      // }
    });

    return await response.json();
  }
  async postRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
        // Autorization: `Bearer ${sessionStorage.getItem('tkn')}`
      }
    });

    return await response.json();
  }
  async putRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'PUT',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
  async deleteRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'DELETE',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
}
exports.default = Api;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class CreateElement {
  constructor(tagName, params) {
    this.tagName = tagName;
    this.params = params;
  }
  render() {
    const element = document.createElement(this.tagName);
    for (let key in this.params) {
      switch (key) {
        case 'dataset':
          for (let dataKey in this.params[key]) {
            element.dataset[dataKey] = this.params[key][dataKey];
          }
          break;
        default:
          element[key] = this.params[key];
      }
    }
    return element;
  }
}
exports.default = CreateElement;

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tabsData = exports.fieldsDataSignUp = exports.fieldsData = void 0;
const fieldsData = exports.fieldsData = [{
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail',
  value: 'aaaa123@gmail.com'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password',
  value: 'forest5481'
}, {
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign in'
}];
const fieldsDataSignUp = exports.fieldsDataSignUp = [{
  type: 'text',
  className: 'field-auth',
  name: 'fullName',
  placeholder: 'Your name'
}, {
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password'
},
// {type: 'password', className: 'field-auth', name: 'repeat-password', placeholder: 'Repeat your password'},
{
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign up'
}];
const tabsData = exports.tabsData = [{
  className: 'btn-signin',
  textContent: 'Sign In',
  dataset: {
    tab: 'signin'
  }
}, {
  className: 'btn-signup',
  textContent: 'Sign Up',
  dataset: {
    tab: 'signup'
  }
}];

},{}],13:[function(require,module,exports){
"use strict";

var _Api = _interopRequireDefault(require("./Api"));
var _Card = _interopRequireDefault(require("../components/Card"));
var _Slider = _interopRequireDefault(require("../components/Slider"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const mentorsList = document.querySelector('.wrapper-cards');
const qtyActiveSlides = document.querySelector('.qty-mentors span');
// const activeCategory = document.querySelector('.categories-item.active')

if (mentorsList) {
  const request = new _Api.default('http://localhost:8080/api');
  const mentors = request.getRequest('/statements');
  mentors.then(data => {
    let numberCard = 0;
    data.forEach(elem => {
      const mentor = new _Card.default(elem);
      mentor.render(mentorsList);
    });
    const categoryFromStorage = sessionStorage.getItem('category');
    if (categoryFromStorage) {
      const selectedCategoryMentors = document.querySelectorAll(`[data-bodyelem="${categoryFromStorage}"]`);
      selectedCategoryMentors.forEach(element => {
        element.classList.add('active');
        numberCard++;
        qtyActiveSlides.textContent = `${numberCard}`;
        if (numberCard <= 4) {
          element.classList.add('show');
        }
      });
    } else {
      let allCards = document.querySelectorAll('.item');
      allCards.forEach(elem => {
        elem.classList.add('active');
        numberCard++;
        qtyActiveSlides.textContent = `${numberCard}`;
        if (numberCard <= 4) {
          elem.classList.add('show');
        }
      });
    }
    sessionStorage.removeItem('category');
    new _Slider.default('.arrow-right', '.arrow-left', '.item.active', 0, 4, '.qty-mentors span');
  });
}

},{"../components/Card":1,"../components/Slider":7,"./Api":10}],14:[function(require,module,exports){
"use strict";

var _searchForm = _interopRequireDefault(require("../components/Form/searchForm.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
window.addEventListener('DOMContentLoaded', () => {
  if (window.location.pathname === '/searching.html') {
    const selectedCategory = sessionStorage.getItem('category') || 'all';
    const selectedItemHead = document.querySelectorAll('.categories-item');
    if (selectedCategory) {
      selectedItemHead.forEach(elem => {
        elem.classList.remove('active');
        if (elem.dataset.tab == selectedCategory) {
          elem.classList.add('active');
        }
      });
    }
    const searchForm = new _searchForm.default('.form-searching', '.wrapper-cards', '.qty-mentors span', '.wrapper-cards__message');
    searchForm.searchInput();
    searchForm.handleSearch();
    // searchForm.onSave()
  }
});

},{"../components/Form/searchForm.js":5}]},{},[9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybS5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybS9Gb3JtTG9naW4uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0vc2VhcmNoRm9ybS5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvTW9kYWwuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL1NsaWRlci5qcyIsInNyYy9zY3JpcHRzL2NvbXBvbmVudHMvVGFicy5qcyIsInNyYy9zY3JpcHRzL21haW4uanMiLCJzcmMvc2NyaXB0cy91dGlscy9BcGkuanMiLCJzcmMvc2NyaXB0cy91dGlscy9DcmVhdGVFbGVtZW50LmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvRGF0YUR5bmFtaWNDb21wb25lbnRzLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvcmVuZGVyQ2FyZHMuanMiLCJzcmMvc2NyaXB0cy91dGlscy9zZWFyY2hpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxJQUFBLGNBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUE7QUFBc0QsU0FBQSx1QkFBQSxHQUFBLFdBQUEsR0FBQSxJQUFBLEdBQUEsQ0FBQSxVQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxHQUFBO0FBRXZDLE1BQU0sSUFBSTtFQUNyQixXQUFXLENBQUMsS0FBSyxFQUFDO0lBQ2QsTUFBTTtNQUFFLEdBQUc7TUFBRSxRQUFRO01BQUUsTUFBTTtNQUFFLEtBQUs7TUFBRSxXQUFXO01BQUUsTUFBTTtNQUFFLFFBQVE7TUFBRTtJQUFNLENBQUMsR0FBRyxLQUFLO0lBQ3BGLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRztJ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QSxHQUFBO0FBQUEsU0FBQSx5QkFBQSxDQUFBLDZCQUFBLE9BQUEsbUJBQUEsQ0FBQSxPQUFBLE9BQUEsSUFBQSxDQUFBLE9BQUEsT0FBQSxZQUFBLHdCQUFBLFlBQUEsQ0FBQSxDQUFBLFdBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQTtBQUFBLFNBQUEsd0JBQUEsQ0FBQSxFQUFBLENBQUEsU0FBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxVQUFBLFNBQUEsQ0FBQSxlQUFBLENBQUEsdUJBQUEsQ0FBQSx5QkFBQSxDQUFBLFdBQUEsT0FBQSxFQUFBLENBQUEsUUFBQSxDQUFBLEdBQUEsd0JBQUEsQ0FBQSxDQUFBLE9BQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxVQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxPQUFBLENBQUEsS0FBQSxTQUFBLFVBQUEsQ0FBQSxHQUFBLE1BQUEsQ0FBQSxjQUFBLElBQUEsTUFBQSxDQUFBLHdCQUFBLFdBQUEsQ0FBQSxJQUFBLENBQUEsb0JBQUEsQ0FBQSxJQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsY0FBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxTQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLHdCQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsVUFBQSxDQUFBLEtBQUEsQ0FBQSxDQUFBLEdBQUEsSUFBQSxDQUFBLENBQUEsR0FBQSxJQUFBLE1BQUEsQ0FBQSxjQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxPQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsQ0FBQTtBQUV6QyxNQUFNLFdBQVcsU0FBUyxhQUFJLENBQUM7RUFDMUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUU7SUFDM0IsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUViLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxPQUFPO0VBQ3pDO0VBRUEsTUFBTSxNQUFNLENBQUMsS0FBSyxFQUFDO0lBQ2pCLE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBRXpDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtNQUNoRyxNQUFNLE9BQU8sR0FBRyxNQUFNLGlCQUFXLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxhQUFhLENBQUM7O01BRXhFO01BQ0UsSUFBRyxPQUFPLENBQUMsVUFBVSxLQUFLLHVCQUF1QixFQUFDO1FBQ2hELE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsd0JBQXdCLENBQUM7UUFDckUsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLHNCQUFhLENBQUUsR0FBRyxFQUFFO1VBQUMsU0FBUyxFQUFFLGVBQWU7VUFBRSxXQUFXLEVBQUUsT0FBTyxDQUFDO1FBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUgsWUFBWSxDQUFDLHFCQUFxQixDQUFDLGFBQWEsRUFBRSxrQkFBa0IsQ0FBQztNQUN2RSxDQUFDLE1BQ0MsSUFBSSxPQUFPLENBQUMsVUFBVSxLQUFLLHlCQUF5QixFQUFFO1FBQ3BELE1BQU0sUUFBUSxHQUFHO1VBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO1VBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQztRQUFRLENBQUM7UUFDbkUsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUU1RCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDO1FBQzFELFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztRQUV0QyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztRQUM5QyxNQUFNLFNBQVMsR0FBRyxJQUFJLHNCQUFhLENBQUUsR0FBRyxFQUFFO1VBQUMsU0FBUyxFQUFFLFlBQVk7VUFBRSxXQUFXLEVBQUUsT0FBTyxDQUFDO1FBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFFdkIsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztRQUM3RCxVQUFVLENBQUMsV0FBVyxHQUFJLEdBQUUsT0FBTyxDQUFDLFFBQVMsRUFBQztRQUM5QyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztNQUNuRDtJQUNGO0VBQ0Y7QUFDRjtBQUFDLE9BQUEsQ0FBQSxPQUFBLEdBQUEsV0FBQTs7Ozs7Ozs7O0FDdkNELElBQUEsS0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsSUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsY0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUF3RCxTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFFekMsTUFBTSxNQUFNLFNBQVMsYUFBSSxDQUFDO0VBQ3JDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxhQUFhLEVBQUM7SUFDeEQsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO0lBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUM7SUFDbEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQztJQUM5RCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUNoRCxJQUFJLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDO0lBQzFEO0lBQ0E7SUFDSTtJQUNBO0lBQ0E7RUFDUjs7RUFDQSxZQUFZLENBQUEsRUFBRTtJQUNWLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztFQUN0QjtFQUNBLFdBQVcsQ0FBQSxFQUFFO0lBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUcsS0FBSyxJQUFLO01BQzVDLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUM7TUFDeEUsSUFBRyxjQUFjLEVBQUU7UUFDZixjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDekM7TUFDSjs7TUFDQSxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO01BQzlDOztNQUVBLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztNQUN2QixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUs7TUFDdEM7TUFDQSxNQUFNLE9BQU8sR0FBRyxJQUFJLFlBQUcsQ0FBQywyQkFBMkIsQ0FBQztNQUNwRCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztNQUNqRCxJQUFJLFVBQVUsR0FBRyxDQUFDO01BRWxCLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUk7UUFDM0MsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ3JDLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUN2QyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSTtVQUNqQixJQUFJLENBQUMsT0FBTyxDQUFFLE1BQU0sSUFBSztZQUNyQixNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtjQUMzQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO2NBQzFGO2NBQ0EsSUFBRyxRQUFRLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEtBQUssTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDakQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO2dCQUNsQyxVQUFVLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUksR0FBRSxVQUFXLEVBQUM7Z0JBQ2xELElBQUcsVUFBVSxJQUFJLENBQUMsRUFBRTtrQkFDaEIsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO2dCQUNwQztjQUNKO1lBQ0o7O1lBRUE7WUFDQTtZQUNBO1lBQ0k7WUFDQTtZQUNBO1VBQ0osQ0FBQyxDQUFDO1FBQ1YsQ0FBQyxDQUFDO1FBQ0Y7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO01BQ0osQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDO0VBQ047O0VBQ0EsTUFBTSxNQUFNLENBQUMsS0FBSyxFQUFDO0lBQ2Y7SUFDQTtJQUNBO0lBQ0EsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBQztJQUN2QyxNQUFNLGVBQWUsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFDO0lBQzFDLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLFFBQVEsRUFBQzs7SUFFN0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxZQUFHLENBQUMsMkJBQTJCLENBQUM7SUFDcEQsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztJQUN2RCxJQUFJLFVBQVUsR0FBRyxDQUFDO0lBQ2xCLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUk7TUFDL0MsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO01BQ3JDLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztNQUVuQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSTtRQUN0QixJQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtVQUNuRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztVQUNwQyxNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztVQUVyRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMzQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBRTFGLElBQUcsUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsRUFBRSxLQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Y0FDaEQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO2NBQ2xDLFVBQVUsRUFBRTtjQUNSLElBQUcsVUFBVSxJQUFJLENBQUMsRUFBRTtnQkFDaEIsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO2NBQ3BDO1lBQ1I7VUFDSjtRQUNKO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0lBQ0YsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7SUFDL0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUksR0FBRSxZQUFZLENBQUMsTUFBTyxFQUFDO0lBRTNELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsbUJBQW1CLENBQUM7SUFDM0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7SUFDcEIsSUFBSSxDQUFDLE9BQU8sRUFBQztNQUNMO01BQ0EsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztNQUNuRDtNQUNBO01BQ0E7SUFDQTtFQUNKO0FBQ0o7QUFBQyxPQUFBLENBQUEsT0FBQSxHQUFBLE1BQUE7Ozs7Ozs7OztBQzVIYyxNQUFNLEtBQUssQ0FBQztFQUN2QixXQUFXLENBQUUsSUFBSSxFQUFFO0lBQ2YsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJO0VBQ3ZCO0VBQ0EsTUFBTSxDQUFDLEdBQUcsRUFBRTtJQUNSLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7SUFFMUQsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNO01BQ2hDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztNQUV6QyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFHLEtBQUssSUFBSztRQUMzQyxJQUFJLEtBQUssQ0FBQyxhQUFhLEtBQUssS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsS0FBSyxhQUFhLEVBQUU7VUFDbEYsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzFDO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ047QUFDSjtBQUFDLE9BQUEsQ0FBQSxPQUFBLEdBQUEsS0FBQTs7Ozs7Ozs7O0FDakJjLE1BQU0sTUFBTSxDQUFDO0VBQ3hCLFdBQVcsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsR0FBRyxFQUFFLGVBQWUsRUFBRTtJQUM1RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO0lBQ2hELElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7SUFDOUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5RCxJQUFJLENBQUMsVUFBVSxHQUFHLGNBQWMsSUFBSSxDQUFDO0lBQ3JDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUM7SUFDbkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQztJQUU5RCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDZjtFQUVBLFlBQVksQ0FBQSxFQUFHO0lBQ1gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTTtNQUN6QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBRSxLQUFLLElBQUssS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7TUFFcEYsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUksR0FBRSxZQUFZLENBQUMsTUFBTyxFQUFDO01BRTNELE1BQU0sYUFBYSxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDO01BQ3pELElBQUcsYUFBYSxLQUFLLE1BQU0sRUFBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUM7TUFDdkI7TUFDQSxZQUFZLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7TUFFMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztNQUV2QyxJQUFHLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFHO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7TUFDdkMsQ0FBQyxNQUFNO1FBQ0g7UUFDQSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM5QyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFFaEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUM7UUFDckMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztNQUN2RDtJQUNKLENBQUMsQ0FBQztJQUVGLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU07TUFDMUMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUUsS0FBSyxJQUFLLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO01BRXBGLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxHQUFJLEdBQUUsWUFBWSxDQUFDLE1BQU8sRUFBQztNQUUzRCxJQUFJLFVBQVUsR0FBRyxZQUFZLENBQUMsTUFBTTtNQUVwQyxNQUFNLGFBQWEsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztNQUN6RCxJQUFHLGFBQWEsS0FBSyxNQUFNLEVBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDO01BQ3ZCO01BQ0EsWUFBWSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDO01BRTFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7TUFFdEMsSUFBSSxVQUFVLElBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBSSxFQUFFO1FBQzVDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7TUFDeEMsQ0FBQyxNQUFNO1FBQ0g7UUFDQSxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ3RELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDO1FBRXJDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzlDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztNQUNqRDtJQUNKLENBQUMsQ0FBQztFQUNOO0VBRUEsSUFBSSxDQUFBLEVBQUU7SUFDRixJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBQztNQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDdkI7RUFDSjtBQUNKO0FBQUMsT0FBQSxDQUFBLE9BQUEsR0FBQSxNQUFBOzs7Ozs7Ozs7QUN2RUQsSUFBQSxjQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQXNELFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUV2QyxNQUFNLElBQUksQ0FBQztFQUN0QixXQUFXLENBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxhQUFhLEVBQUU7SUFDaEYsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtJQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRTtJQUN0RCxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRTtJQUN6RCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBQ25CLElBQUksQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFO0lBQ3BFLElBQUksQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFO0lBRWhFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNmO0VBRUEsVUFBVSxDQUFBLEVBQUc7SUFDVDtJQUNBLElBQUcsSUFBSSxDQUFDLElBQUksRUFBQztNQUNULElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUUsT0FBTyxFQUFHLEVBQUUsSUFBSztRQUM3QyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUUsSUFBSSxJQUFLO1VBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNuQyxDQUFDLENBQUM7UUFFRixZQUFZLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUM7UUFFekMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNqQyxFQUFFLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUUvQyxJQUFHLElBQUksQ0FBQyxPQUFPLEVBQUU7VUFDYixJQUFHLElBQUksQ0FBQyxhQUFhLEVBQUM7WUFDbEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztVQUNsRDtVQUVBLElBQUksVUFBVSxHQUFHLENBQUM7VUFDbEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFFLElBQUksSUFBSztZQUN6QyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQzdCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO2NBQ2pELE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO2NBQ2pCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztjQUU1QixVQUFVLEVBQUU7Y0FDWixJQUFHLFVBQVUsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7Y0FDOUI7Y0FDQSxJQUFHLElBQUksQ0FBQyxlQUFlLEVBQUM7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxHQUFJLEdBQUUsVUFBVyxFQUFDO2NBQ3REO1lBQ0osQ0FBQyxNQUFNLElBQUcsS0FBSyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLGFBQWEsRUFBQztjQUNyRTtjQUNBLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztjQUU1QixVQUFVLEVBQUU7Y0FDWixJQUFHLFVBQVUsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7Y0FDOUI7Y0FDQSxJQUFHLElBQUksQ0FBQyxlQUFlLEVBQUM7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxHQUFJLEdBQUUsVUFBVyxFQUFDO2NBQ3REO1lBQ0o7VUFDSixDQUFDLENBQUM7VUFDRjtVQUNBO1FBRUosQ0FBQyxNQUFNO1VBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztRQUMvQztNQUNKLENBQUMsQ0FBQztJQUNOO0VBQ0o7RUFFQSxNQUFNLENBQUEsRUFBRztJQUNMLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFFLEdBQUcsSUFBSztNQUN2QixNQUFNLFNBQVMsR0FBRyxJQUFJLHNCQUFhLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO01BQzNELElBQUksU0FBUyxDQUFDLFNBQVMsS0FBSyxZQUFZLEVBQUU7UUFDdEMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO01BQ3JDO01BQ0EsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQy9CLENBQUMsQ0FBQztFQUNOO0VBRUEsSUFBSSxDQUFBLEVBQUc7SUFDSCxJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQztNQUNsQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakI7SUFDQSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7RUFDckI7QUFDQTtBQUFDLE9BQUEsQ0FBQSxPQUFBLEdBQUEsSUFBQTs7Ozs7QUN0RkQsSUFBQSxLQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxPQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBRUEsSUFBQSxLQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxVQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxZQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxNQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxzQkFBQSxHQUFBLE9BQUE7QUFDQSxPQUFBO0FBQ0EsT0FBQTtBQUErQixTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFQL0I7O0FBU0EsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUM7QUFFakQsVUFBVSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNO0VBQ3ZDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDM0MsQ0FBQyxDQUFDO0FBRUYsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztBQUUxRCxNQUFNLFVBQVUsR0FBRyxJQUFJLGtCQUFTLENBQUMsaUNBQVUsRUFBRSxRQUFRLENBQUM7QUFDdEQsTUFBTSxVQUFVLEdBQUcsSUFBSSxvQkFBVyxDQUFDLHVDQUFnQixFQUFFLFFBQVEsQ0FBQztBQUM5RCxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQztBQUN4RCxXQUFXLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUVyRixJQUFJLGFBQUksQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSwrQkFBUSxDQUFDO0FBRWpELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO0FBQy9DLE1BQU0sS0FBSyxHQUFHLElBQUksY0FBSyxDQUFDLE9BQU8sQ0FBQztBQUNoQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztBQUVyQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUM5QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7RUFDL0QsSUFBRyxRQUFRLEVBQUU7SUFDVCxPQUFPLENBQUMsV0FBVyxHQUFJLEdBQUUsUUFBUSxDQUFDLFFBQVMsRUFBQztJQUM1QyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztFQUNoRDtBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsc0JBQXNCLENBQUM7QUFDckUsSUFBRyxjQUFjLEVBQUM7RUFDZCxjQUFjLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFHLEVBQUUsSUFBSztJQUM3QyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO0VBQzNFLENBQUMsQ0FBQztBQUNOO0FBRUEsSUFBSSxhQUFJLENBQUMsYUFBYSxFQUFFLGdCQUFnQixFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUseUJBQXlCLENBQUM7Ozs7Ozs7OztBQzdDbkYsTUFBTSxHQUFHLENBQUM7RUFDdkIsV0FBVyxDQUFDLEdBQUcsRUFBRTtJQUNmLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRztFQUNyQjtFQUNBLE1BQU0sVUFBVSxDQUFDLE9BQU8sRUFBRTtJQUN4QixNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sRUFBRTtNQUNwRCxNQUFNLEVBQUU7TUFDUjtNQUNBO0lBQ0YsQ0FBQyxDQUFDOztJQUNGLE9BQU8sTUFBTSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDOUI7RUFDQSxNQUFNLFdBQVcsQ0FBQyxPQUFPLEVBQWE7SUFBQSxJQUFYLElBQUksR0FBQSxTQUFBLENBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLEdBQUEsU0FBQSxNQUFHLENBQUMsQ0FBQztJQUNsQyxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sRUFBRztNQUN0RCxNQUFNLEVBQUUsTUFBTTtNQUNkLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztNQUMxQixPQUFPLEVBQUU7UUFDUCxjQUFjLEVBQUU7UUFDaEI7TUFDRjtJQUNGLENBQUMsQ0FBQzs7SUFDRixPQUFPLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0VBQzlCO0VBQ0EsTUFBTSxVQUFVLENBQUMsT0FBTyxFQUFhO0lBQUEsSUFBWCxJQUFJLEdBQUEsU0FBQSxDQUFBLE1BQUEsUUFBQSxTQUFBLFFBQUEsU0FBQSxHQUFBLFNBQUEsTUFBRyxDQUFDLENBQUM7SUFDakMsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLEVBQUc7TUFDdEQsTUFBTSxFQUFFLEtBQUs7TUFDYixJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7TUFDMUIsT0FBTyxFQUFFO1FBQ1AsY0FBYyxFQUFFO01BQ2xCO0lBQ0YsQ0FBQyxDQUFDO0lBQ0YsT0FBTyxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUM5QjtFQUNBLE1BQU0sYUFBYSxDQUFDLE9BQU8sRUFBYTtJQUFBLElBQVgsSUFBSSxHQUFBLFNBQUEsQ0FBQSxNQUFBLFFBQUEsU0FBQSxRQUFBLFNBQUEsR0FBQSxTQUFBLE1BQUcsQ0FBQyxDQUFDO0lBQ3BDLE1BQU0sUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxFQUFHO01BQ3RELE1BQU0sRUFBRSxRQUFRO01BQ2hCLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztNQUMxQixPQUFPLEVBQUU7UUFDUCxjQUFjLEVBQUU7TUFDbEI7SUFDRixDQUFDLENBQUM7SUFDRixPQUFPLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0VBQzlCO0FBQ0Y7QUFBQyxPQUFBLENBQUEsT0FBQSxHQUFBLEdBQUE7Ozs7Ozs7OztBQzNDYyxNQUFNLGFBQWEsQ0FBQztFQUMvQixXQUFXLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRTtJQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87SUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO0VBQ3hCO0VBQ0EsTUFBTSxDQUFBLEVBQUc7SUFDTCxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDcEQsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO01BQ3pCLFFBQVEsR0FBRztRQUNQLEtBQUssU0FBUztVQUNWLEtBQUssSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNsQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO1VBQ3hEO1VBQ0E7UUFDSjtVQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUN2QztJQUNKO0lBQ0EsT0FBTyxPQUFPO0VBQ2xCO0FBQ0o7QUFBQyxPQUFBLENBQUEsT0FBQSxHQUFBLGFBQUE7Ozs7Ozs7OztBQ3BCTSxNQUFNLFVBQVUsR0FBQSxPQUFBLENBQUEsVUFBQSxHQUFHLENBQ3RCO0VBQUMsSUFBSSxFQUFFLE9BQU87RUFBRSxTQUFTLEVBQUUsWUFBWTtFQUFFLElBQUksRUFBRSxPQUFPO0VBQUUsV0FBVyxFQUFFLGFBQWE7RUFBRSxLQUFLLEVBQUU7QUFBbUIsQ0FBQyxFQUMvRztFQUFDLElBQUksRUFBRSxVQUFVO0VBQUUsU0FBUyxFQUFFLFlBQVk7RUFBRSxJQUFJLEVBQUUsVUFBVTtFQUFFLFdBQVcsRUFBRSxVQUFVO0VBQUUsS0FBSyxFQUFFO0FBQVksQ0FBQyxFQUMzRztFQUFDLElBQUksRUFBRSxRQUFRO0VBQUUsU0FBUyxFQUFFLFVBQVU7RUFBRSxLQUFLLEVBQUU7QUFBUyxDQUFDLENBQzVEO0FBRU0sTUFBTSxnQkFBZ0IsR0FBQSxPQUFBLENBQUEsZ0JBQUEsR0FBRyxDQUM1QjtFQUFDLElBQUksRUFBRSxNQUFNO0VBQUUsU0FBUyxFQUFFLFlBQVk7RUFBRSxJQUFJLEVBQUUsVUFBVTtFQUFFLFdBQVcsRUFBRTtBQUFXLENBQUMsRUFDbkY7RUFBQyxJQUFJLEVBQUUsT0FBTztFQUFFLFNBQVMsRUFBRSxZQUFZO0VBQUUsSUFBSSxFQUFFLE9BQU87RUFBRSxXQUFXLEVBQUU7QUFBYSxDQUFDLEVBQ25GO0VBQUMsSUFBSSxFQUFFLFVBQVU7RUFBRSxTQUFTLEVBQUUsWUFBWTtFQUFFLElBQUksRUFBRSxVQUFVO0VBQUUsV0FBVyxFQUFFO0FBQVUsQ0FBQztBQUN0RjtBQUNBO0VBQUMsSUFBSSxFQUFFLFFBQVE7RUFBRSxTQUFTLEVBQUUsVUFBVTtFQUFFLEtBQUssRUFBRTtBQUFTLENBQUMsQ0FDNUQ7QUFFTSxNQUFNLFFBQVEsR0FBQSxPQUFBLENBQUEsUUFBQSxHQUFHLENBQ3BCO0VBQUMsU0FBUyxFQUFFLFlBQVk7RUFBRSxXQUFXLEVBQUUsU0FBUztFQUFFLE9BQU8sRUFBRTtJQUFDLEdBQUcsRUFBQztFQUFRO0FBQUMsQ0FBQyxFQUMxRTtFQUFDLFNBQVMsRUFBRSxZQUFZO0VBQUUsV0FBVyxFQUFFLFNBQVM7RUFBRSxPQUFPLEVBQUU7SUFBQyxHQUFHLEVBQUM7RUFBUTtBQUFDLENBQUMsQ0FDN0U7Ozs7O0FDakJELElBQUEsSUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsS0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsT0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUEwQyxTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFFMUMsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQztBQUM1RCxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDO0FBQ25FOztBQUVBLElBQUcsV0FBVyxFQUFFO0VBQ1osTUFBTSxPQUFPLEdBQUcsSUFBSSxZQUFHLENBQUMsMkJBQTJCLENBQUM7RUFDcEQsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7RUFDakQsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUk7SUFDakIsSUFBSSxVQUFVLEdBQUcsQ0FBQztJQUVsQixJQUFJLENBQUMsT0FBTyxDQUFFLElBQUksSUFBSztNQUNuQixNQUFNLE1BQU0sR0FBRyxJQUFJLGFBQUksQ0FBQyxJQUFJLENBQUM7TUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFDOUIsQ0FBQyxDQUFDO0lBRUYsTUFBTSxtQkFBbUIsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUM5RCxJQUFHLG1CQUFtQixFQUFDO01BRW5CLE1BQU0sdUJBQXVCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFFLG1CQUFrQixtQkFBb0IsSUFBRyxDQUFDO01BQ3JHLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxPQUFPLElBQUk7UUFDdkMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQy9CLFVBQVUsRUFBRTtRQUNaLGVBQWUsQ0FBQyxXQUFXLEdBQUksR0FBRSxVQUFXLEVBQUM7UUFDN0MsSUFBRyxVQUFVLElBQUksQ0FBQyxFQUFFO1VBQ2hCLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUNqQztNQUNKLENBQUMsQ0FBQztJQUNOLENBQUMsTUFBTTtNQUNILElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUM7TUFDakQsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUk7UUFDckIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQzVCLFVBQVUsRUFBRTtRQUNaLGVBQWUsQ0FBQyxXQUFXLEdBQUksR0FBRSxVQUFXLEVBQUM7UUFDN0MsSUFBRyxVQUFVLElBQUksQ0FBQyxFQUFFO1VBQ2hCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUM5QjtNQUNKLENBQUMsQ0FBQztJQUNOO0lBQ0EsY0FBYyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUM7SUFDckMsSUFBSSxlQUFNLENBQUMsY0FBYyxFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxtQkFBbUIsQ0FBQztFQUN4RixDQUFDLENBQUM7QUFDTjs7Ozs7QUM3Q0EsSUFBQSxXQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQXFELFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUVyRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUM5QyxJQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxLQUFLLGlCQUFpQixFQUFFO0lBQy9DLE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxLQUFLO0lBQ3BFLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDO0lBRXRFLElBQUcsZ0JBQWdCLEVBQUM7TUFDaEIsZ0JBQWdCLENBQUMsT0FBTyxDQUFFLElBQUksSUFBSztRQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxnQkFBZ0IsRUFBQztVQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDaEM7TUFDSixDQUFDLENBQUM7SUFDTjtJQUVBLE1BQU0sVUFBVSxHQUFHLElBQUksbUJBQU0sQ0FBQyxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSxtQkFBbUIsRUFBRSx5QkFBeUIsQ0FBQztJQUNsSCxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDeEIsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3pCO0VBQ0o7QUFDSixDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgQ3JlYXRlRWxlbWVudCBmcm9tIFwiLi4vdXRpbHMvQ3JlYXRlRWxlbWVudC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcclxuICAgICAgICBjb25zdCB7IF9pZCwgY2F0ZWdvcnksIGltZ1VybCwgdGl0bGUsIGRlc2NyaXB0aW9uLCByYXRpbmcsIGxvY2F0aW9uLCBwcmljZSB9ID0gcHJvcHNcclxuICAgICAgICB0aGlzLmlkID0gX2lkXHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9ICdodHRwczovL2kucHJhdmF0YXIuY2MnXHJcbiAgICAgICAgLy8gdGhpcy5pbWFnZSA9IGltZ1VybCB8fCAnaHR0cHM6Ly9pLnByYXZhdGFyLmNjJ1xyXG4gICAgICAgIC8vICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwJ1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxyXG4gICAgICAgIHRoaXMucmF0aW5nID0gcmF0aW5nXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy5wcmljZSA9IHByaWNlXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyIChjb250YWluZXIpIHtcclxuICAgICAgICBjb25zdCB3cmFwcGVySXRlbSA9IG5ldyBDcmVhdGVFbGVtZW50KCdkaXYnLCB7Y2xhc3NOYW1lOiAnaXRlbScsIGRhdGFzZXQ6e2lkOiB0aGlzLmlkLCBib2R5ZWxlbTogdGhpcy5jYXRlZ29yeX19KS5yZW5kZXIoKVxyXG5cclxuICAgICAgICBjb25zdCBwaWMgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3BpY3R1cmUnLCB7Y2xhc3NOYW1lOiAnaXRlbS1waWMnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBpbWcgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2ltZycsIHtzcmM6IHRoaXMuaW1hZ2UsIGFsdDogJ3Bob3RvJywgY2xhc3NOYW1lOiAnaXRlbS1waWMtcGhvdG8nfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB0aXRsZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgnaDInLCB7dGV4dENvbnRlbnQ6IHRoaXMudGl0bGUsIGNsYXNzTmFtZTogJ2l0ZW0tbWVudG9yLW5hbWUnfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB3cmFwUmF0aW5nID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7Y2xhc3NOYW1lOiAnaXRlbS1yYXRpbmcnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBzdGFyc0JveCA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLWJveCd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGxldCBzdGFyc1dpZHRoID0gdGhpcy5yYXRpbmcqMTAwLzI1MFxyXG4gICAgICAgIGNvbnN0IHN0YXJzID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7Y2xhc3NOYW1lOiAnaXRlbS1yYXRpbmctc3RhcnMnLCBzdHlsZTogYHdpZHRoOiAke3N0YXJzV2lkdGh9JTtgfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCByYXRpbmdDb3VudCA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge3RleHRDb250ZW50OiBgKCR7dGhpcy5yYXRpbmd9KWAsIGNsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLWNvdW50J30pLnJlbmRlcigpXHJcbiAgICAgICAgLy8gY29uc3QgcmF0aW5nQ291bnQgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5jYXRlZ29yeSwgY2xhc3NOYW1lOiAnaXRlbS1yYXRpbmctY291bnQnfSkucmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge3RleHRDb250ZW50OiB0aGlzLmRlc2NyaXB0aW9uLCBjbGFzc05hbWU6ICdpdGVtLXN0YWNrJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5sb2NhdGlvbiwgY2xhc3NOYW1lOiAnaXRlbS1sYW5ndWFnZS1jb3VudHJ5J30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYnRuID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdidXR0b24nLCB7Y2xhc3NOYW1lOiAnaXRlbS1ib29raW5nJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgYnRuTGluayA9IG5ldyBDcmVhdGVFbGVtZW50KCdhJywge3RleHRDb250ZW50OiAnQm9vayBUaW1lJywgY2xhc3NOYW1lOiAnaXRlbS1ib29raW5nLWxpbmsnLCBocmVmOiAnIyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGJ0blByaWNlID0gbmV3IENyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7Y2xhc3NOYW1lOiBcIml0ZW0tYm9va2luZy1jb3N0XCIsIHRleHRDb250ZW50OiBgJHt0aGlzLnByaWNlfSQvIGhvdXJzYH0pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcGljLmFwcGVuZChpbWcpXHJcbiAgICAgICAgc3RhcnNCb3guYXBwZW5kKHN0YXJzKVxyXG4gICAgICAgIHdyYXBSYXRpbmcuYXBwZW5kKHN0YXJzQm94LCByYXRpbmdDb3VudClcclxuICAgICAgICBidG4uYXBwZW5kKGJ0bkxpbmssIGJ0blByaWNlKVxyXG4gICAgICAgIHdyYXBwZXJJdGVtLmFwcGVuZChwaWMsIHRpdGxlLCB3cmFwUmF0aW5nLCBkZXNjcmlwdGlvbiwgbG9jYXRpb24sIGJ0bilcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKHdyYXBwZXJJdGVtKVxyXG4gICAgfVxyXG59IFxyXG4iLCJpbXBvcnQgQ3JlYXRlRWxlbWVudCBmcm9tIFwiLi4vLi4vdXRpbHMvQ3JlYXRlRWxlbWVudC5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi8uLi91dGlscy9BcGkuanNcIlxyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1BdXRoQXBpID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9hdXRoLycpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtIHtcclxuY29uc3RydWN0b3IoZmllbGRzLCBmb3JtKSB7XHJcbiAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcclxuICB0aGlzLmlucHV0RmllbGRzID0gZmllbGRzIHx8IFtdO1xyXG59XHJcblxyXG5yZW5kZXIobmFtZUZvcm0pIHtcclxuICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gbmFtZUZvcm1cclxuICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWduaW4nKSkge1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgfSAgXHJcbiAgaWYodGhpcy5pbnB1dEZpZWxkcyl7XHJcbiAgICB0aGlzLmlucHV0RmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2lucHV0JywgZmllbGQpXHJcbiAgICAgIGNvbnN0IGZpZWxkUmVuZGVyID0gaW5wdXQucmVuZGVyKClcclxuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZChmaWVsZFJlbmRlcik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5vblNhdmUuYmluZCh0aGlzKSk7XHJcbiAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxufVxyXG5cclxuaGFuZGxlRm9ybSgpe1xyXG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMub25TYXZlLmJpbmQodGhpcykpO1xyXG4gIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbn1cclxuXHJcbnNlcmlhbGl6ZSgpIHtcclxuICAgIGNvbnN0IGZpZWxkc0RhdGEgPSB7fTtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuZWxlbWVudClcclxuICAgIFxyXG4gICAgZm9yKGxldCBbbmFtZV0gb2YgZm9ybURhdGEpe1xyXG4gICAgICBmaWVsZHNEYXRhW25hbWVdID0gZm9ybURhdGEuZ2V0KG5hbWUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmllbGRzRGF0YTtcclxufVxyXG5cclxub25TYXZlKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGNvbnN0IGRhdGFGaWVsZHMgPSB0aGlzLnNlcmlhbGl6ZSgpO1xyXG4gIGNvbnNvbGUubG9nKGRhdGFGaWVsZHMpO1xyXG4gIGV2ZW50LnRhcmdldC5yZXNldCgpXHJcbiAgcmV0dXJuIGRhdGFGaWVsZHNcclxufVxyXG5cclxufVxyXG5cclxuIiwiaW1wb3J0IEZvcm0sIHtmb3JtQXV0aEFwaX0gZnJvbSBcIi4vRm9ybS5qc1wiXHJcbmltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi8uLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1Mb2dpbiBleHRlbmRzIEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBkYXRhc2V0KSB7XHJcbiAgICAgIHN1cGVyKGZpZWxkcylcclxuICAgICAgdGhpcy5lbGVtZW50LmRhdGFzZXQuYm9keWVsZW0gPSBkYXRhc2V0XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHJlbmRlcigpIHtcclxuICAgIC8vICAgc3VwZXIucmVuZGVyKClcclxuICAgIC8vICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbmluJykpIHtcclxuICAgIC8vICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gIFxyXG4gICAgYXN5bmMgb25TYXZlKGV2ZW50KXtcclxuICAgICAgY29uc3QgcmVxdWVzdFJlc3VsdCA9IHN1cGVyLm9uU2F2ZShldmVudClcclxuICAgICAgY29uc29sZS5sb2cocmVxdWVzdFJlc3VsdCk7XHJcbiAgXHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLXNpZ25pbicpICYgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICBjb25zdCB1c2VyTG9nID0gYXdhaXQgZm9ybUF1dGhBcGkucG9zdFJlcXVlc3QoJ3NpZ25pbicsIHJlcXVlc3RSZXN1bHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBvc3RSZXF1ZXN0LnRoZW4oKHVzZXJMb2cpID0+IHtcclxuICAgICAgICAgIGlmKHVzZXJMb2cubWVzc2FnZSl7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdFNpZ25pbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXNpZ25pbiAuYnRuLWF1dGgnKVxyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7Y2xhc3NOYW1lOiAnZXJyb3ItbWVzc2FnZScsIHRleHRDb250ZW50OiB1c2VyTG9nLm1lc3NhZ2V9KS5yZW5kZXIoKVxyXG4gICAgICAgICAgICBzdWJtaXRTaWduaW4uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGVycm9yTWVzc2FnZSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0ge2lkOiB1c2VyTG9nLmRhdGEuX2lkLCBmdWxsTmFtZTogdXNlckxvZy5kYXRhLmZ1bGxOYW1lfVxyXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyRGF0YScsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSlcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICBjb25zdCBtb2RhbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpXHJcbiAgICAgICAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBjb25zdCBzaWduaW5MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdGl0bGUtYXV0aCcpXHJcbiAgICAgICAgICAgICAgICAgIHNpZ25pbkxpbmsudGV4dENvbnRlbnQgPSBgJHt1c2VyTG9nLmRhdGEuZnVsbE5hbWV9YFxyXG4gICAgICAgICAgICAgICAgICBzaWduaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgIH0gXHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIH0iLCJpbXBvcnQgRm9ybSwge2Zvcm1BdXRoQXBpfSBmcm9tIFwiLi9Gb3JtLmpzXCJcclxuaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uLy4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVJlZ2lzdHIgZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgZGF0YXNldCkge1xyXG4gICAgICBzdXBlcihmaWVsZHMpXHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmVsZW1lbnQuZGF0YXNldC5ib2R5ZWxlbSA9IGRhdGFzZXRcclxuICAgIH1cclxuICBcclxuICAgIGFzeW5jIG9uU2F2ZShldmVudCl7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3RSZXN1bHQgPSBzdXBlci5vblNhdmUoZXZlbnQpXHJcbiAgXHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLXNpZ251cCcpICYgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgY29uc3QgdXNlclJlZyA9IGF3YWl0IGZvcm1BdXRoQXBpLnBvc3RSZXF1ZXN0KCdzaWdudXAnLCByZXF1ZXN0UmVzdWx0KVxyXG4gICAgXHJcbiAgICAvLyAodXNlclJlZykgPT4ge1xyXG4gICAgICBpZih1c2VyUmVnLnN0YXR1c1RleHQgPT09IFwi0KLQsNC60LjQuSBlbWFpbCDQstC20LUg0ZbRgdC90YPRlFwiKXtcclxuICAgICAgICBjb25zdCBzdWJtaXRTaWdudXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1zaWdudXAgLmJ0bi1hdXRoJylcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VTaWdudXAgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7Y2xhc3NOYW1lOiAnZXJyb3ItbWVzc2FnZScsIHRleHRDb250ZW50OiB1c2VyUmVnLnN0YXR1c1RleHR9KS5yZW5kZXIoKVxyXG4gICAgICAgIHN1Ym1pdFNpZ251cC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgZXJyb3JNZXNzYWdlU2lnbnVwKVxyXG4gICAgICB9IGVsc2UgXHJcbiAgICAgICAgaWYgKHVzZXJSZWcuc3RhdHVzVGV4dCA9PT0gXCJUaGFua3MgZm9yIHJlZ2lzdGVyaW5nLlwiKSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHtlbWFpbDogdXNlclJlZy5lbWFpbCwgZnVsbE5hbWU6IHVzZXJSZWcuZnVsbE5hbWV9XHJcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyRGF0YScsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgbW9kYWxXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKVxyXG4gICAgICAgICAgbW9kYWxXcmFwLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkJylcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKVxyXG4gICAgICAgICAgY29uc3QgcG9wdXBUZXh0ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwJywge2NsYXNzTmFtZTogJ3BvcHVwLXRleHQnLCB0ZXh0Q29udGVudDogdXNlclJlZy5zdGF0dXNUZXh0fSkucmVuZGVyKClcclxuICAgICAgICAgIHBvcHVwLmFwcGVuZChwb3B1cFRleHQpXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBzaWduaW5MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdGl0bGUtYXV0aCcpXHJcbiAgICAgICAgICBzaWduaW5MaW5rLnRleHRDb250ZW50ID0gYCR7dXNlclJlZy5mdWxsTmFtZX1gXHJcbiAgICAgICAgICBzaWduaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgICB9XHJcbiAgICB9IFxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi9Gb3JtLmpzXCJcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vLi4vdXRpbHMvQXBpLmpzXCJcclxuaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uLy4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIGV4dGVuZHMgRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihmb3JtLCBjYXJkc0xpc3QsIHF0eUFjdGl2ZVNsaWRlcywgbWVzc2FnZU5vQ2FyZCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSlcclxuICAgICAgICB0aGlzLmNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZHNMaXN0KTtcclxuICAgICAgICB0aGlzLnF0eUFjdGl2ZVNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocXR5QWN0aXZlU2xpZGVzKVxyXG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlTm9DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtZXNzYWdlTm9DYXJkKVxyXG4gICAgICAgIC8vIHRoaXMucmVzdWx0cyA9IHNlYXJjaFJlc3VsdHNcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJlc3VsdHMpO1xyXG4gICAgICAgICAgICAvL9GB0LXRgNC10LQg0Y/QutC40YUg0LXQu9C10LzQtdC90YLRltCyINCx0YPQtNC1INC50YLQuCDQv9C+0YjRg9C6OiBcclxuICAgICAgICAgICAgLy8gLSBzZWFyY2ggLSDQv9C+0YjRg9C6INC/0L4g0LrQu9GO0YfQvtCy0LjQvCDRhNGA0LDQt9Cw0Lwg0LIgZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgLy8gLSBjYXRlZ29yeSAtINC/0L7RiNGD0Log0L/QviDRgNC+0LfRiNC40YDQtdC90L7QvNGDINGB0L/QuNGB0LrRgyDQutCw0YLQtdCz0L7RgNGW0LkgaXRlbWl6ZWRDYXRlZ29yeSDQtyDQstC40L/QsNC00LDRjtGH0L7Qs9C+INGB0L/QuNGB0LrRg1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU2VhcmNoKCl7XHJcbiAgICAgICAgc3VwZXIuaGFuZGxlRm9ybSgpXHJcbiAgICB9XHJcbiAgICBzZWFyY2hJbnB1dCgpe1xyXG4gICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2F0ZWdvcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllcy1pdGVtLmFjdGl2ZScpXHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZUNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWI9XCJhbGxcIl0nKS5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTm9DYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKVxyXG4gICAgICAgICAgICAvLyBjb25zdCBhY3RpdmVTbGlkZXMgPSB0aGlzLmNhcmRzTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZlJylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGEpXHJcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgICAgIC8vIHJldHVybiBzZWFyY2hWYWx1ZVxyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICAgICAgICAgIGNvbnN0IG1lbnRvcnMgPSByZXF1ZXN0LmdldFJlcXVlc3QoJy9zdGF0ZW1lbnRzJyk7XHJcbiAgICAgICAgICAgIGxldCBudW1iZXJDYXJkID0gMDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFsuLi50aGlzLmNhcmRzTGlzdC5jaGlsZHJlbl0uZm9yRWFjaChzaW5nbGVDYXJkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgIG1lbnRvcnMudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goKG1lbnRvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmRzID0gWy4uLnNlYXJjaFZhbHVlLnNwbGl0KCcgJyldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRXb3Jkcy5sZW5ndGg7IGkrKykgeyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VsZWN0ZWRXb3Jkc1tpXS50b0xvd2VyQ2FzZSgpKSAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaW5nbGVDYXJkLmRhdGFzZXQuaWQsIG1lbnRvci5faWQgKSAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1GaW5kICYmIHNpbmdsZUNhcmQuZGF0YXNldC5pZCA9PT0gbWVudG9yLl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJykgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHtudW1iZXJDYXJkfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihudW1iZXJDYXJkIDw9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8qICrQstC40LHRltGAINC/0L4g0L7QtNC90L7QvNGDINGB0LvQvtCy0YMg0LDQsdC+INCy0LjRgNCw0LfRgzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZWxlbUZpbmQgPSBtZW50b3IuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hWYWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihlbGVtRmluZCAmIHNpbmdsZUNhcmQuZGF0YXNldC5pZCA9PT0gbWVudG9yLl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKSAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IG9uZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaXRlbS5hY3RpdmUuc2hvdycpXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvbmVDYXJkKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGlmICghb25lQ2FyZCl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgbWVudG9yc0NhcmRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzJylcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBub01lbnRvck1lc3NhZ2UgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7dGV4dENvbnRlbnQ6ICdUaGVyZSBhcmUgbm8gbWVudG9ycyBieSB0aGlzIHN0YXRlbWVudHMnLCBjbGFzc05hbWU6ICd3cmFwcGVyLWNhcmRzX19tZXNzYWdlJ30pLnJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbWVudG9yc0NhcmRzV3JhcHBlci5hcHBlbmQobm9NZW50b3JNZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KSBcclxuICAgIH1cclxuICAgIGFzeW5jIG9uU2F2ZShldmVudCl7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5lbGVtZW50KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaElucHV0KCkpOyAvLyDQvdC1INC30L3QsNGF0L7QtNC40YLRjFxyXG4gICAgICAgIC8vIGNvbnN0IHJlcXVlc3RSZXMgPSB0aGlzLnNlYXJjaElucHV0KCk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFJlcyA9IHN1cGVyLm9uU2F2ZShldmVudCkgLy8g0LTQu9GPINC20LjQstC+0LPQviDQv9C+0YjRg9C60YMg0YbQtdC5INGA0Y/QtNC+0Log0LrQvtC80LXQvdGC0YPRlNGC0YzRgdGPXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWREZXNjcmlwID0gcmVxdWVzdFJlcy5zZWFyY2ggLy8g0YbQtSDQsdGD0LTQtSDQsdGA0LDRgtC40YHRjyDQtyDQvtC60YDQtdC80L7Qs9C+INC80LXRgtC+0LTRgyBzZWFyY2hJbnB1dFxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSByZXF1ZXN0UmVzLmNhdGVnb3J5IC8vIGkg0YbQtSDQsdGA0LDRgtC40YHRjyDQtyDQvtC60YDQtdC80L7Qs9C+INC80LXRgtC+0LTRgyBzZWFyY2hDYXRlZ29yeVxyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICAgICAgY29uc3QgbWVudG9ycyA9IGF3YWl0IHJlcXVlc3QuZ2V0UmVxdWVzdCgnL3N0YXRlbWVudHMnKTtcclxuICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDA7XHJcbiAgICAgICAgWy4uLnRoaXMuY2FyZHNMaXN0LmNoaWxkcmVuXS5mb3JFYWNoKHNpbmdsZUNhcmQgPT4ge1xyXG4gICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIHNpbmdsZUNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcblxyXG4gICAgICAgICAgICBtZW50b3JzLmZvckVhY2gobWVudG9yID0+IHsgXHJcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZENhdGVnb3J5LmluY2x1ZGVzKG1lbnRvci5pdGVtaXplZENhdGVnb3J5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lbnRvci5pdGVtaXplZENhdGVnb3J5KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmRzID0gWy4uLnNlbGVjdGVkRGVzY3JpcC5zcGxpdCgnICcpXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkV29yZHMubGVuZ3RoOyBpKyspIHsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1GaW5kID0gbWVudG9yLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VsZWN0ZWRXb3Jkc1tpXS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1GaW5kICYgc2luZ2xlQ2FyZC5kYXRhc2V0LmlkID09PSBtZW50b3IuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVDYXJkLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihudW1iZXJDYXJkIDw9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2FyZC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkgIFxyXG4gICAgICAgIH0pIFxyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNsaWRlcyA9IHRoaXMuY2FyZHNMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKVxyXG4gICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7YWN0aXZlU2xpZGVzLmxlbmd0aH1gXHJcblxyXG4gICAgICAgIGNvbnN0IG9uZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaXRlbS5hY3RpdmUuc2hvdycpXHJcbiAgICAgICAgY29uc29sZS5sb2cob25lQ2FyZCk7XHJcbiAgICAgICAgaWYgKCFvbmVDYXJkKXtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IG1lc3NhZ2VOb0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlci1jYXJkc19fbWVzc2FnZScpXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VOb0NhcmQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IG1lbnRvcnNDYXJkc1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlci1jYXJkcycpXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IG5vTWVudG9yTWVzc2FnZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHt0ZXh0Q29udGVudDogJ1RoZXJlIGFyZSBubyBtZW50b3JzIGJ5IHRoaXMgc3RhdGVtZW50cycsIGNsYXNzTmFtZTogJ3dyYXBwZXItY2FyZHNfX21lc3NhZ2UnfSkucmVuZGVyKClcclxuICAgICAgICAvLyAgICAgbWVudG9yc0NhcmRzV3JhcHBlci5hcHBlbmQobm9NZW50b3JNZXNzYWdlKVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgIFxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICAgIGNvbnN0cnVjdG9yIChodG1sKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gaHRtbFxyXG4gICAgfVxyXG4gICAgcmVuZGVyKGJ0bikge1xyXG4gICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuXHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdkZWFjdGl2ZXRlZCcpXHJcblxyXG4gICAgICAgICAgICBtb2RhbFdyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ21vZGFsLWNsb3NlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9KSAgICBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGJ0blJpZ2h0LCBidG5MZWZ0LCBzbGlkZUl0ZW0sIGluZGV4Rmlyc3RFbGVtLCBzZXQsIHF0eUFjdGl2ZVNsaWRlcykge1xyXG4gICAgICAgIHRoaXMuYnRuUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0blJpZ2h0KVxyXG4gICAgICAgIHRoaXMuYnRuTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuTGVmdClcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzbGlkZUl0ZW0pKTtcclxuICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSBpbmRleEZpcnN0RWxlbSB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0IHx8IDQ7XHJcbiAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF0eUFjdGl2ZVNsaWRlcylcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVTbGlkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5idG5MZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlU2xpZGVzID0gdGhpcy5zbGlkZXMuZmlsdGVyKChzbGlkZSkgPT4gc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7YWN0aXZlU2xpZGVzLmxlbmd0aH1gXHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc0NsZWFyU2xpZGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsZWFyU2xpZGVyJylcclxuICAgICAgICAgICAgaWYoaXNDbGVhclNsaWRlciA9PT0gJ3RydWUnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IDBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsZWFyU2xpZGVyJywgZmFsc2UpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ0blJpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0JylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuZmlyc3RJbmRleCA9PT0gMCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuTGVmdC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0LvRltCy0L4gKNC90LDQt9Cw0LQg0LTQviDQv9C+0YfQsNGC0LrRgylcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCAtIDEgXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZXNbbGFzdEluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gdGhpcy5maXJzdEluZGV4IC0gMSBcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0blJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlU2xpZGVzID0gdGhpcy5zbGlkZXMuZmlsdGVyKChzbGlkZSkgPT4gc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMucXR5QWN0aXZlU2xpZGVzLnRleHRDb250ZW50ID0gYCR7YWN0aXZlU2xpZGVzLmxlbmd0aH1gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgc2xpZGVDb3VudCA9IGFjdGl2ZVNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc0NsZWFyU2xpZGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsZWFyU2xpZGVyJylcclxuICAgICAgICAgICAgaWYoaXNDbGVhclNsaWRlciA9PT0gJ3RydWUnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IDBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsZWFyU2xpZGVyJywgZmFsc2UpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ0bkxlZnQuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3QnKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHNsaWRlQ291bnQgPD0gKHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5SaWdodC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0L/RgNCw0LLQviAo0LLQv9C10YDQtdC0INC00L4g0LrRltC90YbRjylcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKSBcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIDEgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmZpcnN0SW5kZXggKyB0aGlzLnNldCAtIDFcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlc1tsYXN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgaWYoISF0aGlzLnNsaWRlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlcigpXHJcbiAgICAgICAgfSBcclxuICAgIH1cclxufSIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJzIHtcclxuICAgIGNvbnN0cnVjdG9yIChzZWxlY3RvckhlYWQsIHNlbGVjdG9yQm9keSwgc2V0LCB0YWJzLCBxdHlBY3RpdmVTbGlkZXMsIG1lc3NhZ2VOb0NhcmQpIHtcclxuICAgICAgICB0aGlzLnRhYnMgPSB0YWJzIHx8IFtdXHJcbiAgICAgICAgdGhpcy5oZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckhlYWQpIHx8ICcnIFxyXG4gICAgICAgIHRoaXMuYm9keXRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JCb2R5KSB8fCAnJyBcclxuICAgICAgICB0aGlzLnNldCA9IHNldCB8fCAxXHJcbiAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF0eUFjdGl2ZVNsaWRlcykgfHwgJydcclxuICAgICAgICB0aGlzLm1lc3NhZ2VOb0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1lc3NhZ2VOb0NhcmQpIHx8ICcnXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGhhbmRsZVRhYnMoKSB7XHJcbiAgICAgICAgLy8gY29uc3QgbWVzc2FnZU5vQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyLWNhcmRzX19tZXNzYWdlJylcclxuICAgICAgICBpZih0aGlzLmhlYWQpe1xyXG4gICAgICAgICAgICB0aGlzLmhlYWQuYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIFsuLi50aGlzLmhlYWQuY2hpbGRyZW5dLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjbGVhclNsaWRlcicsIHRydWUpXHJcblxyXG4gICAgICAgICAgICBldi50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZih0aGlzLmJvZHl0YWIpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubWVzc2FnZU5vQ2FyZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTm9DYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgbnVtYmVyQ2FyZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBbLi4udGhpcy5ib2R5dGFiLmNoaWxkcmVuXS5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uZGF0YXNldC5ib2R5ZWxlbSA9PT0gZXYudGFyZ2V0LmRhdGFzZXQudGFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSB0aGlzLnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnF0eUFjdGl2ZVNsaWRlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF0eUFjdGl2ZVNsaWRlcy50ZXh0Q29udGVudCA9IGAke251bWJlckNhcmR9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKFwiYWxsXCIgPT09IGV2LnRhcmdldC5kYXRhc2V0LnRhYiAmJiBlbGVtICE9PSB0aGlzLm1lc3NhZ2VOb0NhcmQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAmJiBlbGVtICE9PSB0aGlzLm1lc3NhZ2VOb0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5xdHlBY3RpdmVTbGlkZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdHlBY3RpdmVTbGlkZXMudGV4dENvbnRlbnQgPSBgJHtudW1iZXJDYXJkfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBhY3RpdmVTbGlkZXMgPSB0aGlzLmJvZHl0YWIucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnF0eUFjdGl2ZVNsaWRlcy50ZXh0Q29udGVudCA9IGAke2FjdGl2ZVNsaWRlcy5sZW5ndGh9YFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VOb0NhcmQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5yZW5kZXIoKSB7XHJcbiAgICB0aGlzLnRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlVGFiID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHRhYikucmVuZGVyKCkgIFxyXG4gICAgICAgIGlmIChzaW5nbGVUYWIuY2xhc3NOYW1lID09PSAnYnRuLXNpZ25pbicpIHtcclxuICAgICAgICAgICAgc2luZ2xlVGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBcclxuICAgICAgICB0aGlzLmhlYWQuYXBwZW5kKHNpbmdsZVRhYik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuaW5pdCgpIHtcclxuICAgIGlmKCEhdGhpcy50YWJzLmxlbmd0aCl7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVUYWJzKCkgICBcclxufVxyXG59XHJcbiIsImltcG9ydCBUYWJzIGZyb20gXCIuL2NvbXBvbmVudHMvVGFicy5qc1wiXHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4vY29tcG9uZW50cy9TbGlkZXIuanNcIlxyXG4vLyBpbXBvcnQge0Zvcm1Mb2dpbiwgRm9ybX0gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtL0Zvcm0uanNcIlxyXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybS5qc1wiXHJcbmltcG9ydCBGb3JtTG9naW4gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtL0Zvcm1Mb2dpbi5qc1wiXHJcbmltcG9ydCBGb3JtUmVnaXN0ciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm0vRm9ybVJlZ2lzdHIuanNcIlxyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4vY29tcG9uZW50cy9Nb2RhbC5qc1wiXHJcbmltcG9ydCB7IGZpZWxkc0RhdGEsIGZpZWxkc0RhdGFTaWduVXAsIHRhYnNEYXRhIH0gZnJvbSBcIi4vdXRpbHMvRGF0YUR5bmFtaWNDb21wb25lbnRzLmpzXCJcclxuaW1wb3J0IFwiLi91dGlscy9zZWFyY2hpbmcuanNcIlxyXG5pbXBvcnQgXCIuL3V0aWxzL3JlbmRlckNhcmRzLmpzXCJcclxuXHJcbmNvbnN0IHN3aXRjaE1vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuJylcclxuXHJcbnN3aXRjaE1vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2xpZ2h0JykgXHJcbn0pXHJcblxyXG5jb25zdCBidG5BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdGl0bGUtYXV0aCcpXHJcblxyXG5jb25zdCBmb3JtU2lnbkluID0gbmV3IEZvcm1Mb2dpbihmaWVsZHNEYXRhLCAnc2lnbmluJylcclxuY29uc3QgZm9ybVNpZ25VcCA9IG5ldyBGb3JtUmVnaXN0cihmaWVsZHNEYXRhU2lnblVwLCAnc2lnbnVwJylcclxuY29uc3QgZm9ybVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFicy1ib2R5JylcclxuZm9ybVdyYXBwZXIuYXBwZW5kKGZvcm1TaWduSW4ucmVuZGVyKCdmb3JtLXNpZ25pbicpLGZvcm1TaWduVXAucmVuZGVyKCdmb3JtLXNpZ251cCcpKVxyXG5cclxubmV3IFRhYnMoJy50YWJzLWhlYWQnLCAnLnRhYnMtYm9keScsIDEsIHRhYnNEYXRhKVxyXG5cclxuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vZGFsJylcclxuY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwod3JhcHBlcilcclxubW9kYWwucmVuZGVyKGJ0bkF1dGgpXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKSBcclxuICAgIGlmKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgYnRuQXV0aC50ZXh0Q29udGVudCA9IGAke3VzZXJEYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgICBidG5BdXRoLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgfVxyXG59KVxyXG5cclxuY29uc3QgY2F0ZWdvcmllc01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fZm9vdGVyLXNlbGVjdCcpXHJcbmlmKGNhdGVnb3JpZXNNZW51KXtcclxuICAgIGNhdGVnb3JpZXNNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnknLCBldi50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYilcclxuICAgIH0pXHJcbn1cclxuXHJcbm5ldyBUYWJzKCcuY2F0ZWdvcmllcycsICcud3JhcHBlci1jYXJkcycsIDQsIG51bGwsICcucXR5LW1lbnRvcnMgc3BhbicsICcud3JhcHBlci1jYXJkc19fbWVzc2FnZScpXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih1cmwpIHtcclxuICAgIHRoaXMuUk9PVF9VUkwgPSB1cmxcclxuICB9XHJcbiAgYXN5bmMgZ2V0UmVxdWVzdChyb3V0aW5nKSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIC8vIGhlYWRlcnM6IHtcclxuICAgICAgLy8gfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfVxyXG4gIGFzeW5jIHBvc3RSZXF1ZXN0KHJvdXRpbmcsIGRhdGEgPSB7fSkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgodGhpcy5ST09UX1VSTCArIHJvdXRpbmcpLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgLy8gQXV0b3JpemF0aW9uOiBgQmVhcmVyICR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGtuJyl9YFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH1cclxuICBhc3luYyBwdXRSZXF1ZXN0KHJvdXRpbmcsIGRhdGEgPSB7fSkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgodGhpcy5ST09UX1VSTCArIHJvdXRpbmcpLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICB9XHJcbiAgYXN5bmMgZGVsZXRlUmVxdWVzdChyb3V0aW5nLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goKHRoaXMuUk9PVF9VUkwgKyByb3V0aW5nKSwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfSAgIFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3JlYXRlRWxlbWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0YWdOYW1lLCBwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLnRhZ05hbWUgPSB0YWdOYW1lXHJcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXNcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnRhZ05hbWUpXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMucGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRhc2V0JzpcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBkYXRhS2V5IGluIHRoaXMucGFyYW1zW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0W2RhdGFLZXldID0gdGhpcy5wYXJhbXNba2V5XVtkYXRhS2V5XVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50W2tleV0gPSB0aGlzLnBhcmFtc1trZXldXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcclxuICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBmaWVsZHNEYXRhID0gW1xyXG4gICAge3R5cGU6ICdlbWFpbCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAnZW1haWwnLCBwbGFjZWhvbGRlcjogJ1lvdXIgZS1tYWlsJywgdmFsdWU6ICdhYWFhMTIzQGdtYWlsLmNvbSd9LFxyXG4gICAge3R5cGU6ICdwYXNzd29yZCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAncGFzc3dvcmQnLCBwbGFjZWhvbGRlcjogJ1Bhc3N3b3JkJywgdmFsdWU6ICdmb3Jlc3Q1NDgxJ30sXHJcbiAgICB7dHlwZTogJ3N1Ym1pdCcsIGNsYXNzTmFtZTogJ2J0bi1hdXRoJywgdmFsdWU6ICdTaWduIGluJ31cclxuXVxyXG5cclxuZXhwb3J0IGNvbnN0IGZpZWxkc0RhdGFTaWduVXAgPSBbXHJcbiAgICB7dHlwZTogJ3RleHQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ2Z1bGxOYW1lJywgcGxhY2Vob2xkZXI6ICdZb3VyIG5hbWUnfSxcclxuICAgIHt0eXBlOiAnZW1haWwnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICdZb3VyIGUtbWFpbCd9LFxyXG4gICAge3R5cGU6ICdwYXNzd29yZCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAncGFzc3dvcmQnLCBwbGFjZWhvbGRlcjogJ1Bhc3N3b3JkJ30sXHJcbiAgICAvLyB7dHlwZTogJ3Bhc3N3b3JkJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdyZXBlYXQtcGFzc3dvcmQnLCBwbGFjZWhvbGRlcjogJ1JlcGVhdCB5b3VyIHBhc3N3b3JkJ30sXHJcbiAgICB7dHlwZTogJ3N1Ym1pdCcsIGNsYXNzTmFtZTogJ2J0bi1hdXRoJywgdmFsdWU6ICdTaWduIHVwJ31cclxuXVxyXG5cclxuZXhwb3J0IGNvbnN0IHRhYnNEYXRhID0gW1xyXG4gICAge2NsYXNzTmFtZTogJ2J0bi1zaWduaW4nLCB0ZXh0Q29udGVudDogJ1NpZ24gSW4nLCBkYXRhc2V0OiB7dGFiOidzaWduaW4nfX0sXHJcbiAgICB7Y2xhc3NOYW1lOiAnYnRuLXNpZ251cCcsIHRleHRDb250ZW50OiAnU2lnbiBVcCcsIGRhdGFzZXQ6IHt0YWI6J3NpZ251cCd9fVxyXG5dXHJcbiIsImltcG9ydCBBcGkgZnJvbSBcIi4vQXBpXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmRcIjtcclxuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi4vY29tcG9uZW50cy9TbGlkZXJcIjtcclxuXHJcbmNvbnN0IG1lbnRvcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXItY2FyZHMnKVxyXG5jb25zdCBxdHlBY3RpdmVTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXR5LW1lbnRvcnMgc3BhbicpXHJcbi8vIGNvbnN0IGFjdGl2ZUNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXMtaXRlbS5hY3RpdmUnKVxyXG5cclxuaWYobWVudG9yc0xpc3QpIHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgQXBpKCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpJylcclxuICAgIGNvbnN0IG1lbnRvcnMgPSByZXF1ZXN0LmdldFJlcXVlc3QoJy9zdGF0ZW1lbnRzJyk7XHJcbiAgICBtZW50b3JzLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgbGV0IG51bWJlckNhcmQgPSAwXHJcblxyXG4gICAgICAgIGRhdGEuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZW50b3IgPSBuZXcgQ2FyZChlbGVtKTtcclxuICAgICAgICAgICAgbWVudG9yLnJlbmRlcihtZW50b3JzTGlzdCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjYXRlZ29yeUZyb21TdG9yYWdlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY2F0ZWdvcnknKVxyXG4gICAgICAgIGlmKGNhdGVnb3J5RnJvbVN0b3JhZ2Upe1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5TWVudG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWJvZHllbGVtPVwiJHtjYXRlZ29yeUZyb21TdG9yYWdlfVwiXWApXHJcbiAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlNZW50b3JzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgIHF0eUFjdGl2ZVNsaWRlcy50ZXh0Q29udGVudCA9IGAke251bWJlckNhcmR9YFxyXG4gICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYWxsQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbScpXHJcbiAgICAgICAgICAgIGFsbENhcmRzLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgIHF0eUFjdGl2ZVNsaWRlcy50ZXh0Q29udGVudCA9IGAke251bWJlckNhcmR9YFxyXG4gICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnY2F0ZWdvcnknKVxyXG4gICAgICAgIG5ldyBTbGlkZXIoJy5hcnJvdy1yaWdodCcsICcuYXJyb3ctbGVmdCcsICcuaXRlbS5hY3RpdmUnLCAwLCA0LCAnLnF0eS1tZW50b3JzIHNwYW4nKSBcclxuICAgIH0pXHJcbn1cclxuIiwiaW1wb3J0IFNlYXJjaCBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtL3NlYXJjaEZvcm0uanNcIlxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgICBpZih3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoaW5nLmh0bWwnKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yeSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NhdGVnb3J5JykgfHwgJ2FsbCdcclxuICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW1IZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhdGVnb3JpZXMtaXRlbScpXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgaWYoc2VsZWN0ZWRDYXRlZ29yeSl7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbUhlYWQuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW0uZGF0YXNldC50YWIgPT0gc2VsZWN0ZWRDYXRlZ29yeSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzZWFyY2hGb3JtID0gbmV3IFNlYXJjaCgnLmZvcm0tc2VhcmNoaW5nJywgJy53cmFwcGVyLWNhcmRzJywgJy5xdHktbWVudG9ycyBzcGFuJywgJy53cmFwcGVyLWNhcmRzX19tZXNzYWdlJykgXHJcbiAgICAgICAgc2VhcmNoRm9ybS5zZWFyY2hJbnB1dCgpXHJcbiAgICAgICAgc2VhcmNoRm9ybS5oYW5kbGVTZWFyY2goKVxyXG4gICAgICAgIC8vIHNlYXJjaEZvcm0ub25TYXZlKClcclxuICAgIH1cclxufSkiXX0=
