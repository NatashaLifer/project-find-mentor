(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Card {
  constructor(props) {
    const {
      _id,
      category,
      imgUrl,
      title,
      description,
      rating,
      location,
      price
    } = props;
    this.id = _id;
    this.category = category;
    this.image = 'https://i.pravatar.cc';
    // this.image = imgUrl || 'https://i.pravatar.cc'
    // 'https://via.placeholder.com/150'
    this.title = title;
    this.description = description;
    this.rating = rating;
    this.location = location;
    this.price = price;
  }
  render(container) {
    const wrapperItem = new _CreateElement.default('div', {
      className: 'item',
      dataset: {
        id: this.id,
        bodyelem: this.category
      }
    }).render();
    const pic = new _CreateElement.default('picture', {
      className: 'item-pic'
    }).render();
    const img = new _CreateElement.default('img', {
      src: this.image,
      alt: 'photo',
      className: 'item-pic-photo'
    }).render();
    const title = new _CreateElement.default('h2', {
      textContent: this.title,
      className: 'item-mentor-name'
    }).render();
    const wrapRating = new _CreateElement.default('div', {
      className: 'item-rating'
    }).render();
    const stars = new _CreateElement.default('div', {
      className: 'item-rating-stars'
    }).render();
    // const ratingCount = new CreateElement ('div', {textContent: this.rating, className: 'item-rating-count'}).render()
    const ratingCount = new _CreateElement.default('div', {
      textContent: this.category,
      className: 'item-rating-count'
    }).render();
    const description = new _CreateElement.default('div', {
      textContent: this.description,
      className: 'item-stack'
    }).render();
    const location = new _CreateElement.default('div', {
      textContent: this.location,
      className: 'item-language-country'
    }).render();
    const btn = new _CreateElement.default('button', {
      className: 'item-booking'
    }).render();
    const btnLink = new _CreateElement.default('a', {
      textContent: 'Book Time',
      className: 'item-booking-link',
      href: '#'
    }).render();
    const btnPrice = new _CreateElement.default('span', {
      className: "item-booking-cost",
      textContent: `${this.price}$/ hours`
    }).render();
    pic.append(img);
    wrapRating.append(stars, ratingCount);
    btn.append(btnLink, btnPrice);
    wrapperItem.append(pic, title, wrapRating, description, location, btn);
    container.append(wrapperItem);
  }
}
exports.default = Card;

},{"../utils/CreateElement.js":9}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.FormLogin = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
var _Api = _interopRequireDefault(require("../utils/Api.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Form {
  constructor(fields, findForm) {
    this.element = document.querySelector(findForm) || document.createElement('form');
    this.inputFields = fields || [];
  }
  render(nameForm) {
    this.element.className = nameForm;
    if (this.element.classList.contains('form-signin')) {
      this.element.classList.add('active');
    }
    this.inputFields.forEach(field => {
      const input = new _CreateElement.default('input', field);
      const fieldRender = input.render();
      this.element.append(fieldRender);
    });
    this.element.addEventListener("submit", this.onSave.bind(this));
    return this.element;
  }
  serialize() {
    const fieldsData = {};
    const formData = new FormData(this.element);
    for (let [name] of formData) {
      fieldsData[name] = formData.get(name);
    }
    return fieldsData;
  }
  onSave(event) {
    event.preventDefault();
    const dataFields = this.serialize();
    return dataFields;
  }
}
exports.default = Form;
class FormLogin extends Form {
  constructor(fields, dataset) {
    super(fields);
    this.element.dataset.bodyelem = dataset;
  }

  // render() {
  //   super.render()
  //   if (this.element.classList.contains('form-signin')) {
  //     this.element.classList.add('active')
  //   }
  // }

  onSave(event) {
    const requestResult = super.onSave(event);
    const apiLogin = new _Api.default('http://localhost:8080/api/auth/');
    if (this.element.classList.contains('form-signin') & this.element.classList.contains('active')) {
      const postRequest = apiLogin.postRequest('signin', requestResult);
      postRequest.then(userLog => {
        if (userLog.message) {
          const submitSignin = document.querySelector('.form-signin .btn-auth');
          const errorMessage = new _CreateElement.default('p', {
            className: 'error-message',
            textContent: userLog.message
          }).render();
          submitSignin.insertAdjacentElement('beforebegin', errorMessage);
        } else {
          const userData = {
            id: userLog.data._id,
            fullName: userLog.data.fullName
          };
          sessionStorage.setItem('userData', JSON.stringify(userData));
          const modalWrap = document.querySelector('.modal-wrapper');
          modalWrap.classList.add('deactiveted');
          const signinLink = document.querySelector('.nav__title-auth');
          signinLink.textContent = `${userLog.data.fullName}`;
          signinLink.classList.add('deactiveted-profile');
        }
      });
    } else {
      const postRequest = apiLogin.postRequest('signup', requestResult);
      postRequest.then(userReg => {
        if (userReg.statusText === "Такий email вже існує") {
          const submitSignup = document.querySelector('.form-signup .btn-auth');
          const errorMessageSignup = new _CreateElement.default('p', {
            className: 'error-message',
            textContent: userReg.statusText
          }).render();
          submitSignup.insertAdjacentElement('beforebegin', errorMessageSignup);
        } else if (userReg.statusText === "Thanks for registering.") {
          const userData = {
            email: userReg.email,
            fullName: userReg.fullName
          };
          sessionStorage.setItem('userData', JSON.stringify(userData));
          const modalWrap = document.querySelector('.modal-wrapper');
          modalWrap.classList.add('deactiveted');
          const popup = document.querySelector('.popup');
          const popupText = new _CreateElement.default('p', {
            className: 'popup-text',
            textContent: userReg.statusText
          }).render();
          popup.append(popupText);
          const signinLink = document.querySelector('.nav__title-auth');
          signinLink.textContent = `${userReg.fullName}`;
          signinLink.classList.add('deactiveted-profile');
        }
      });
    }
  }
}
exports.FormLogin = FormLogin;

},{"../utils/Api.js":8,"../utils/CreateElement.js":9}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Modal {
  constructor(html) {
    this.content = html;
  }
  render(btn) {
    const modalWrap = document.querySelector('.modal-wrapper');
    btn.addEventListener("click", () => {
      modalWrap.classList.remove('deactiveted');
      modalWrap.addEventListener('click', event => {
        if (event.currentTarget === event.target || event.target.className === 'modal-close') {
          modalWrap.classList.add('deactiveted');
        }
      });
    });
  }
}
exports.default = Modal;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Slider {
  constructor(btnRight, btnLeft, slideItem, indexFirstElem, set) {
    this.btnRight = document.querySelector(btnRight);
    this.btnLeft = document.querySelector(btnLeft);
    this.slides = Array.from(document.querySelectorAll(slideItem));
    this.firstIndex = indexFirstElem || 0;
    this.set = set || 4;
    this.init();
  }
  handleSlider() {
    const slideCount = this.slides.length;
    this.btnLeft.addEventListener('click', () => {
      this.btnRight.classList.remove('deact');
      if (this.firstIndex === 0) {
        this.btnLeft.classList.add('deact');
      } else {
        //гортання на один слайд вліво (назад до початку)
        let lastIndex = this.firstIndex + this.set - 1;
        this.slides[lastIndex].classList.remove('show');
        this.firstIndex = this.firstIndex - 1;
        this.slides[this.firstIndex].classList.add('show');
      }
    });
    this.btnRight.addEventListener('click', () => {
      this.btnLeft.classList.remove('deact');
      if (slideCount <= this.firstIndex + this.set) {
        this.btnRight.classList.add('deact');
      } else {
        //гортання на один слайд вправо (вперед до кінця)
        this.slides[this.firstIndex].classList.remove('show');
        this.firstIndex = this.firstIndex + 1;
        let lastIndex = this.firstIndex + this.set - 1;
        this.slides[lastIndex].classList.add('show');
      }
    });
  }
  init() {
    if (!!this.slides.length) {
      this.handleSlider();
    }
  }
}
exports.default = Slider;

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _CreateElement = _interopRequireDefault(require("../utils/CreateElement.js"));
var _Slider = _interopRequireDefault(require("./Slider.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Tabs {
  constructor(selectorHead, selectorBody, set, tabs) {
    this.tabs = tabs || [];
    this.head = document.querySelector(selectorHead) || '';
    this.bodytab = document.querySelector(selectorBody) || '';
    this.set = set || 1;
    this.init();
  }
  handleTabs() {
    if (this.head) {
      this.head.addEventListener('click', ev => {
        [...this.head.children].forEach(item => {
          item.classList.remove('active');
        });
        ev.target.classList.add('active');
        ev.target.parentElement.classList.add('active');
        if (this.bodytab) {
          let numberCard = 0;
          [...this.bodytab.children].forEach(elem => {
            elem.classList.remove('active');
            elem.classList.remove('show');
            if (elem.dataset.bodyelem === ev.target.dataset.tab) {
              elem.classList.add('active');
              numberCard++;
              if (numberCard <= this.set) {
                elem.classList.add('show');
              }
            }
          });
          new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
        }
      });
    }
  }
  render() {
    this.tabs.forEach(tab => {
      const singleTab = new _CreateElement.default('button', tab).render();
      if (singleTab.className === 'btn-signin') {
        singleTab.classList.add('active');
      }
      this.head.append(singleTab);
    });
  }
  init() {
    if (!!this.tabs.length) {
      this.render();
    }
    this.handleTabs();
  }
}
exports.default = Tabs;

},{"../utils/CreateElement.js":9,"./Slider.js":4}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Form = _interopRequireDefault(require("./Form.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class Search {
  constructor(input, searchResults) {
    this.input = document.querySelector(input);
    this.results = searchResults || []; //серед яких елементів буде йти пошук:
    // - search - пошук по ключовим фразам в description
    // - category - пошук по розширеному списку категорій itemizedCategory з випадаючого списку (додати ці категорії в базу даних)
  }

  handleSearch() {
    // console.log(this.results);
    this.input.addEventListener('input', event => {
      // console.log(event.data);
      const searchValue = event.target.value;
      console.log(searchValue);
    });
  }
}
exports.default = Search;

},{"./Form.js":2}],7:[function(require,module,exports){
"use strict";

var _Api = _interopRequireDefault(require("./utils/Api.js"));
var _Tabs = _interopRequireDefault(require("./components/Tabs.js"));
var _Form = require("./components/Form.js");
var _Modal = _interopRequireDefault(require("./components/Modal.js"));
var _Card = _interopRequireDefault(require("./components/Card.js"));
var _Slider = _interopRequireDefault(require("./components/Slider.js"));
var _DataDynamicComponents = require("./utils/DataDynamicComponents.js");
require("./utils/searching.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const switchMode = document.getElementById('btn');
switchMode.addEventListener('click', () => {
  document.body.classList.toggle('light');
});
const btnAuth = document.querySelector('.nav__title-auth');
const formSignIn = new _Form.FormLogin(_DataDynamicComponents.fieldsData, 'signin');
const formSignUp = new _Form.FormLogin(_DataDynamicComponents.fieldsDataSignUp, 'signup');
const formWrapper = document.querySelector('.tabs-body');
formWrapper.append(formSignIn.render('form-signin'), formSignUp.render('form-signup'));
new _Tabs.default('.tabs-head', '.tabs-body', 1, _DataDynamicComponents.tabsData);
const wrapper = document.querySelector('modal');
const modal = new _Modal.default(wrapper);
modal.render(btnAuth);
window.addEventListener('DOMContentLoaded', () => {
  const userData = JSON.parse(sessionStorage.getItem('userData'));
  if (userData) {
    btnAuth.textContent = `${userData.fullName}`;
    btnAuth.classList.add('deactiveted-profile');
  }
});
const categoriesMenu = document.querySelector('.hero__footer-select');
if (categoriesMenu) {
  categoriesMenu.addEventListener('click', ev => {
    sessionStorage.setItem('category', ev.target.parentElement.dataset.tab);
  });
}
const mentorsList = document.querySelector('.wrapper-cards');
const activeCategory = document.querySelector('.categories-item.active');
if (mentorsList) {
  const request = new _Api.default('http://localhost:8080/api');
  const mentors = request.getRequest('/statements');
  mentors.then(data => {
    let numberCard = 0;
    data.forEach(elem => {
      const mentor = new _Card.default(elem);
      mentor.render(mentorsList);
    });
    let selectedCategory = activeCategory.dataset.tab;
    const categoryFromStorage = sessionStorage.getItem('category');
    if (categoryFromStorage) {
      selectedCategory = categoryFromStorage;
    }
    const selectedCategoryMentors = document.querySelectorAll(`[data-bodyelem="${selectedCategory}"]`);
    selectedCategoryMentors.forEach(element => {
      element.classList.add('active');
      numberCard++;
      if (numberCard <= 4) {
        element.classList.add('show');
      }
    });
    new _Slider.default('.arrow-right', '.arrow-left', '.item.active');
  });
}

// const showPage = new Pagination(mentorsList.length, 1, 4)
// showPage.render()
// const mentors = await showPage.renderContent() 

new _Tabs.default('.categories', '.wrapper-cards', 4);

},{"./components/Card.js":1,"./components/Form.js":2,"./components/Modal.js":3,"./components/Slider.js":4,"./components/Tabs.js":5,"./utils/Api.js":8,"./utils/DataDynamicComponents.js":10,"./utils/searching.js":11}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class Api {
  constructor(url) {
    this.ROOT_URL = url;
  }
  async getRequest(routing) {
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'GET'
      // headers: {
      // }
    });

    return await response.json();
  }
  async postRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
        // Autorization: `Bearer ${sessionStorage.getItem('tkn')}`
      }
    });

    return await response.json();
  }
  async putRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'PUT',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
  async deleteRequest(routing) {
    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const response = await fetch(this.ROOT_URL + routing, {
      method: 'DELETE',
      body: JSON.stringify(data),
      headers: {
        'Content-type': 'application/json'
      }
    });
    return await response.json();
  }
}
exports.default = Api;

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class CreateElement {
  constructor(tagName, params) {
    this.tagName = tagName;
    this.params = params;
  }
  render() {
    const element = document.createElement(this.tagName);
    for (let key in this.params) {
      switch (key) {
        case 'dataset':
          for (let dataKey in this.params[key]) {
            element.dataset[dataKey] = this.params[key][dataKey];
          }
          break;
        default:
          element[key] = this.params[key];
      }
    }
    return element;
  }
}

// export default function CreateElement(tagName, params) {
//     this.tagName = tagName // 'div'
//     this.params = params // {class:'wrapper', dataset:{id:1}}
// }

// CreateElement.prototype.render = function () {
//     const element = document.createElement(this.tagName)
//     for (let key in this.params) {
//         switch (key) {
//             case 'dataset':
//                 for (let dataKey in this.params[key]) {
//                     element.dataset[dataKey] = this.params[key][dataKey]
//                 }
//                 break
//             default:
//                 element[key] = this.params[key]
//         }
//     }
//     return element
// }
exports.default = CreateElement;

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tabsData = exports.fieldsDataSignUp = exports.fieldsData = void 0;
const fieldsData = exports.fieldsData = [{
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail',
  value: 'aaaa123@gmail.com'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password',
  value: 'forest5481'
}, {
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign in'
}];
const fieldsDataSignUp = exports.fieldsDataSignUp = [{
  type: 'text',
  className: 'field-auth',
  name: 'fullName',
  placeholder: 'Your name'
}, {
  type: 'email',
  className: 'field-auth',
  name: 'email',
  placeholder: 'Your e-mail'
}, {
  type: 'password',
  className: 'field-auth',
  name: 'password',
  placeholder: 'Password'
},
// {type: 'password', className: 'field-auth', name: 'repeat-password', placeholder: 'Repeat your password'},
{
  type: 'submit',
  className: 'btn-auth',
  value: 'Sign up'
}];
const tabsData = exports.tabsData = [{
  className: 'btn-signin',
  textContent: 'Sign In',
  dataset: {
    tab: 'signin'
  }
}, {
  className: 'btn-signup',
  textContent: 'Sign Up',
  dataset: {
    tab: 'signup'
  }
}];

},{}],11:[function(require,module,exports){
"use strict";

var _searchForm = _interopRequireDefault(require("../components/searchForm.js"));
var _Api = _interopRequireDefault(require("./Api.js"));
var _Form = _interopRequireDefault(require("../components/Form.js"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
window.addEventListener('DOMContentLoaded', () => {
  if (window.location.pathname === '/searching.html') {
    const selectedCategory = sessionStorage.getItem('category');
    const selectedItemHead = document.querySelectorAll('.categories-item');
    if (selectedCategory) {
      selectedItemHead.forEach(elem => {
        elem.classList.remove('active');
        if (elem.dataset.tab == selectedCategory) {
          elem.classList.add('active');
        }
      });
      // setTimeout(() => {
      //     let numberCard = 0
      //     const wrapperBody = document.querySelector('.wrapper-cards')
      //     console.dir([...wrapperBody.children]);
      //     const selectedItemBody = Array.from([...wrapperBody.children])

      //     selectedItemBody.forEach((el) => {
      //         el.classList.remove('active')
      //         el.classList.remove('show')
      //         if(el.dataset.bodyelem == selectedCategory){
      //             el.classList.add('active')
      //             numberCard++
      //             if(numberCard <= 4) {
      //                 el.classList.add('show')
      //             }
      //         }
      //     })
      // },1000)
      // setTimeout(() => {
      //     const selectedItemBody = document.getElementsByClassName('.item')
      //     console.log(selectedItemBody);
      // }, 1000)
    }

    const request = new _Api.default('http://localhost:8080/api');
    const mentors = request.getRequest('/statements');
    mentors.then(data => {
      const allDescription = [];
      data.forEach(elem => {
        allDescription.push(elem.description);
      });
      // console.log(allDescription);
      const search = new _searchForm.default('input[name="search"]', allDescription);
      // search.handleSearch()
    });

    // const formSearching = new Form([], '.form-searching')

    const searchCategory = new _searchForm.default('input[name="category"]'); //, itemizedCategory)
    searchCategory.handleSearch();
  }
});

},{"../components/Form.js":2,"../components/searchForm.js":6,"./Api.js":8}]},{},[7])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL01vZGFsLmpzIiwic3JjL3NjcmlwdHMvY29tcG9uZW50cy9TbGlkZXIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL1RhYnMuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaEZvcm0uanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQXBpLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvQ3JlYXRlRWxlbWVudC5qcyIsInNyYy9zY3JpcHRzL3V0aWxzL0RhdGFEeW5hbWljQ29tcG9uZW50cy5qcyIsInNyYy9zY3JpcHRzL3V0aWxzL3NlYXJjaGluZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQ0FBLElBQUEsY0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUFzRCxTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFFdkMsTUFBTSxJQUFJO0VBQ3JCLFdBQVcsQ0FBQyxLQUFLLEVBQUM7SUFDZCxNQUFNO01BQUUsR0FBRztNQUFFLFFBQVE7TUFBRSxNQUFNO01BQUUsS0FBSztNQUFFLFdBQVc7TUFBRSxNQUFNO01BQUUsUUFBUTtNQUFFO0lBQU0sQ0FBQyxHQUFHLEtBQUs7SUFDcEYsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHO0lBQ2IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRO0lBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsdUJBQXVCO0lBQ3BDO0lBQ0E7SUFDQSxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7SUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXO0lBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtJQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVE7SUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLO0VBQ3RCO0VBRUEsTUFBTSxDQUFFLFNBQVMsRUFBRTtJQUNmLE1BQU0sV0FBVyxHQUFHLElBQUksc0JBQWEsQ0FBQyxLQUFLLEVBQUU7TUFBQyxTQUFTLEVBQUUsTUFBTTtNQUFFLE9BQU8sRUFBQztRQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtRQUFFLFFBQVEsRUFBRSxJQUFJLENBQUM7TUFBUTtJQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRTFILE1BQU0sR0FBRyxHQUFHLElBQUksc0JBQWEsQ0FBRSxTQUFTLEVBQUU7TUFBQyxTQUFTLEVBQUU7SUFBVSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzRSxNQUFNLEdBQUcsR0FBRyxJQUFJLHNCQUFhLENBQUUsS0FBSyxFQUFFO01BQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLO01BQUUsR0FBRyxFQUFFLE9BQU87TUFBRSxTQUFTLEVBQUU7SUFBZ0IsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFNUcsTUFBTSxLQUFLLEdBQUcsSUFBSSxzQkFBYSxDQUFFLElBQUksRUFBRTtNQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsS0FBSztNQUFFLFNBQVMsRUFBRTtJQUFrQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUV6RyxNQUFNLFVBQVUsR0FBRyxJQUFJLHNCQUFhLENBQUUsS0FBSyxFQUFFO01BQUMsU0FBUyxFQUFFO0lBQWEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakYsTUFBTSxLQUFLLEdBQUcsSUFBSSxzQkFBYSxDQUFFLEtBQUssRUFBRTtNQUFDLFNBQVMsRUFBRTtJQUFtQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNsRjtJQUNBLE1BQU0sV0FBVyxHQUFHLElBQUksc0JBQWEsQ0FBRSxLQUFLLEVBQUU7TUFBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFFBQVE7TUFBRSxTQUFTLEVBQUU7SUFBbUIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFHcEgsTUFBTSxXQUFXLEdBQUcsSUFBSSxzQkFBYSxDQUFFLEtBQUssRUFBRTtNQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztNQUFFLFNBQVMsRUFBRTtJQUFZLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hILE1BQU0sUUFBUSxHQUFHLElBQUksc0JBQWEsQ0FBRSxLQUFLLEVBQUU7TUFBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFFBQVE7TUFBRSxTQUFTLEVBQUU7SUFBdUIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFHckgsTUFBTSxHQUFHLEdBQUcsSUFBSSxzQkFBYSxDQUFFLFFBQVEsRUFBRTtNQUFDLFNBQVMsRUFBRTtJQUFjLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlFLE1BQU0sT0FBTyxHQUFHLElBQUksc0JBQWEsQ0FBQyxHQUFHLEVBQUU7TUFBQyxXQUFXLEVBQUUsV0FBVztNQUFFLFNBQVMsRUFBRSxtQkFBbUI7TUFBRSxJQUFJLEVBQUU7SUFBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN0SCxNQUFNLFFBQVEsR0FBRyxJQUFJLHNCQUFhLENBQUMsTUFBTSxFQUFFO01BQUMsU0FBUyxFQUFFLG1CQUFtQjtNQUFFLFdBQVcsRUFBRyxHQUFFLElBQUksQ0FBQyxLQUFNO0lBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFM0gsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZixVQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUM7SUFDckMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDO0lBQzdCLFdBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUMsV0FBVyxFQUFFLFFBQVEsRUFBRSxHQUFHLENBQUM7SUFDckUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7RUFDakM7QUFDSjtBQUFDLE9BQUEsQ0FBQSxPQUFBLEdBQUEsSUFBQTs7Ozs7Ozs7O0FDN0NELElBQUEsY0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsSUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUFpQyxTQUFBLHVCQUFBLEdBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxDQUFBLFVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUE7QUFFbEIsTUFBTSxJQUFJLENBQUM7RUFDeEIsV0FBVyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUU7SUFDOUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDO0lBQ2pGLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxJQUFJLEVBQUU7RUFDL0I7RUFFRixNQUFNLENBQUMsUUFBUSxFQUFFO0lBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsUUFBUTtJQUNqQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRTtNQUNsRCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO0lBQ3RDO0lBQ0EsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUUsS0FBSyxJQUFLO01BQ2xDLE1BQU0sS0FBSyxHQUFHLElBQUksc0JBQWEsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDO01BQy9DLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztNQUNsQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFDbEMsQ0FBQyxDQUFDO0lBRUYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0QsT0FBTyxJQUFJLENBQUMsT0FBTztFQUNyQjtFQUdBLFNBQVMsQ0FBQSxFQUFHO0lBQ1IsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLE1BQU0sUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFFM0MsS0FBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxFQUFDO01BQ3pCLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztJQUN2QztJQUNBLE9BQU8sVUFBVTtFQUNyQjtFQUVBLE1BQU0sQ0FBQyxLQUFLLEVBQUU7SUFDWixLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDdEIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ25DLE9BQU8sVUFBVTtFQUNuQjtBQUVBO0FBQUMsT0FBQSxDQUFBLE9BQUEsR0FBQSxJQUFBO0FBRU0sTUFBTSxTQUFTLFNBQVMsSUFBSSxDQUFDO0VBQ2xDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFO0lBQzNCLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDYixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsT0FBTztFQUN6Qzs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0VBRUEsTUFBTSxDQUFDLEtBQUssRUFBQztJQUNYLE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBRXpDLE1BQU0sUUFBUSxHQUFHLElBQUksWUFBRyxDQUFDLGlDQUFpQyxDQUFDO0lBRTNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtNQUM5RixNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxhQUFhLENBQUM7TUFFakUsV0FBVyxDQUFDLElBQUksQ0FBRSxPQUFPLElBQUs7UUFDNUIsSUFBRyxPQUFPLENBQUMsT0FBTyxFQUFDO1VBQ2pCLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsd0JBQXdCLENBQUM7VUFDckUsTUFBTSxZQUFZLEdBQUcsSUFBSSxzQkFBYSxDQUFFLEdBQUcsRUFBRTtZQUFDLFNBQVMsRUFBRSxlQUFlO1lBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQztVQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1VBQ2pILFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLEVBQUUsWUFBWSxDQUFDO1FBQ2pFLENBQUMsTUFBTTtVQUNMLE1BQU0sUUFBUSxHQUFHO1lBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRztZQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDO1VBQVEsQ0FBQztVQUNsRSxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1VBRTVELE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7VUFDMUQsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO1VBRXRDLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUM7VUFDN0QsVUFBVSxDQUFDLFdBQVcsR0FBSSxHQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUyxFQUFDO1VBQ25ELFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO1FBQ2pEO01BQ1IsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxNQUFNO01BQ0wsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsYUFBYSxDQUFDO01BRWpFLFdBQVcsQ0FBQyxJQUFJLENBQUUsT0FBTyxJQUFLO1FBQzVCLElBQUcsT0FBTyxDQUFDLFVBQVUsS0FBSyx1QkFBdUIsRUFBQztVQUNoRCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDO1VBQ3JFLE1BQU0sa0JBQWtCLEdBQUcsSUFBSSxzQkFBYSxDQUFFLEdBQUcsRUFBRTtZQUFDLFNBQVMsRUFBRSxlQUFlO1lBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQztVQUFVLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1VBQzFILFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLEVBQUUsa0JBQWtCLENBQUM7UUFDdkUsQ0FBQyxNQUNDLElBQUksT0FBTyxDQUFDLFVBQVUsS0FBSyx5QkFBeUIsRUFBRTtVQUNwRCxNQUFNLFFBQVEsR0FBRztZQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSztZQUFFLFFBQVEsRUFBRSxPQUFPLENBQUM7VUFBUSxDQUFDO1VBQ25FLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7VUFFNUQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQztVQUMxRCxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7VUFFdEMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7VUFDOUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxzQkFBYSxDQUFFLEdBQUcsRUFBRTtZQUFDLFNBQVMsRUFBRSxZQUFZO1lBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQztVQUFVLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1VBQzlHLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1VBRXZCLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUM7VUFDN0QsVUFBVSxDQUFDLFdBQVcsR0FBSSxHQUFFLE9BQU8sQ0FBQyxRQUFTLEVBQUM7VUFDOUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUM7UUFDbkQ7TUFDRixDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0Y7QUFBQyxPQUFBLENBQUEsU0FBQSxHQUFBLFNBQUE7Ozs7Ozs7OztBQzVHYyxNQUFNLEtBQUssQ0FBQztFQUN2QixXQUFXLENBQUUsSUFBSSxFQUFFO0lBQ2YsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJO0VBQ3ZCO0VBQ0EsTUFBTSxDQUFDLEdBQUcsRUFBRTtJQUNSLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7SUFFMUQsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNO01BQ2hDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztNQUV6QyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFHLEtBQUssSUFBSztRQUMzQyxJQUFJLEtBQUssQ0FBQyxhQUFhLEtBQUssS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsS0FBSyxhQUFhLEVBQUU7VUFDbEYsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzFDO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ047QUFDSjtBQUFDLE9BQUEsQ0FBQSxPQUFBLEdBQUEsS0FBQTs7Ozs7Ozs7O0FDakJjLE1BQU0sTUFBTSxDQUFDO0VBQ3hCLFdBQVcsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsR0FBRyxFQUFFO0lBQzNELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDaEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUM5QyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlELElBQUksQ0FBQyxVQUFVLEdBQUcsY0FBYyxJQUFJLENBQUM7SUFDckMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztJQUVuQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDZjtFQUVBLFlBQVksQ0FBQSxFQUFHO0lBQ1gsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNO0lBRXJDLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU07TUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztNQUN2QyxJQUFHLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFHO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7TUFDdkMsQ0FBQyxNQUFNO1FBQ0g7UUFDQSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBRS9DLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO01BQ3REO0lBQ0osQ0FBQyxDQUFDO0lBRUYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTTtNQUMxQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO01BRXRDLElBQUksVUFBVSxJQUFLLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUksRUFBRTtRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO01BQ3hDLENBQUMsTUFBTTtRQUNIO1FBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDckQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUM7UUFFckMsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztNQUNoRDtJQUNKLENBQUMsQ0FBQztFQUNOO0VBQ0EsSUFBSSxDQUFBLEVBQUU7SUFDRixJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBQztNQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDdkI7RUFDSjtBQUNKO0FBQUMsT0FBQSxDQUFBLE9BQUEsR0FBQSxNQUFBOzs7Ozs7Ozs7QUNoREQsSUFBQSxjQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxPQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQWdDLFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUVqQixNQUFNLElBQUksQ0FBQztFQUN0QixXQUFXLENBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO0lBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7SUFDdEIsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDdEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDekQsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztJQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDZjtFQUVBLFVBQVUsQ0FBQSxFQUFHO0lBQ2IsSUFBRyxJQUFJLENBQUMsSUFBSSxFQUFDO01BQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBRSxPQUFPLEVBQUcsRUFBRSxJQUFLO1FBQ3pDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBRSxJQUFJLElBQUs7VUFDdEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ25DLENBQUMsQ0FBQztRQUVGLEVBQUUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDakMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFFL0MsSUFBRyxJQUFJLENBQUMsT0FBTyxFQUFFO1VBQ2IsSUFBSSxVQUFVLEdBQUcsQ0FBQztVQUNsQixDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUUsSUFBSSxJQUFLO1lBQ3pDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDN0IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7Y0FDakQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO2NBRTVCLFVBQVUsRUFBRTtjQUNaLElBQUcsVUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztjQUM5QjtZQUNKO1VBQ0osQ0FBQyxDQUFDO1VBQ0YsSUFBSSxlQUFNLENBQUMsY0FBYyxFQUFFLGFBQWEsRUFBRSxjQUFjLENBQUM7UUFDN0Q7TUFDSixDQUFDLENBQUM7SUFDTjtFQUNKO0VBRUEsTUFBTSxDQUFBLEVBQUc7SUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBRSxHQUFHLElBQUs7TUFDdkIsTUFBTSxTQUFTLEdBQUcsSUFBSSxzQkFBYSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztNQUMzRCxJQUFJLFNBQVMsQ0FBQyxTQUFTLEtBQUssWUFBWSxFQUFFO1FBQ3RDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztNQUNyQztNQUNBLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUMvQixDQUFDLENBQUM7RUFDTjtFQUVBLElBQUksQ0FBQSxFQUFHO0lBQ0gsSUFBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUM7TUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pCO0lBQ0EsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0VBQ3JCO0FBQ0E7QUFBQyxPQUFBLENBQUEsT0FBQSxHQUFBLElBQUE7Ozs7Ozs7OztBQzFERCxJQUFBLEtBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUE7QUFBNEIsU0FBQSx1QkFBQSxHQUFBLFdBQUEsR0FBQSxJQUFBLEdBQUEsQ0FBQSxVQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxHQUFBO0FBRWIsTUFBTSxNQUFNLENBQUM7RUFDeEIsV0FBVyxDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUM7SUFDN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztJQUMxQyxJQUFJLENBQUMsT0FBTyxHQUFHLGFBQWEsSUFBSSxFQUFFLEVBQUM7SUFDbkI7SUFDQTtFQUNoQjs7RUFDSixZQUFZLENBQUEsRUFBRTtJQUNWO0lBQ0EsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUcsS0FBSyxJQUFLO01BQzVDO01BQ0EsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLO01BQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUMsQ0FBQztFQUNOO0FBQ0o7QUFBQyxPQUFBLENBQUEsT0FBQSxHQUFBLE1BQUE7Ozs7O0FDakJELElBQUEsSUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsS0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsS0FBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLE1BQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUE7QUFDQSxJQUFBLEtBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUE7QUFDQSxJQUFBLE9BQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUE7QUFDQSxJQUFBLHNCQUFBLEdBQUEsT0FBQTtBQUNBLE9BQUE7QUFBNkIsU0FBQSx1QkFBQSxHQUFBLFdBQUEsR0FBQSxJQUFBLEdBQUEsQ0FBQSxVQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxHQUFBO0FBRTdCLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDO0FBRWpELFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTTtFQUN2QyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO0FBQzNDLENBQUMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUM7QUFFMUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxlQUFTLENBQUMsaUNBQVUsRUFBRSxRQUFRLENBQUM7QUFDdEQsTUFBTSxVQUFVLEdBQUcsSUFBSSxlQUFTLENBQUMsdUNBQWdCLEVBQUUsUUFBUSxDQUFDO0FBQzVELE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDO0FBQ3hELFdBQVcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBQyxVQUFVLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBRXJGLElBQUksYUFBSSxDQUFDLFlBQVksRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLCtCQUFRLENBQUM7QUFFakQsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7QUFDL0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxjQUFLLENBQUMsT0FBTyxDQUFDO0FBQ2hDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO0FBRXJCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNO0VBQzlDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztFQUMvRCxJQUFHLFFBQVEsRUFBRTtJQUNULE9BQU8sQ0FBQyxXQUFXLEdBQUksR0FBRSxRQUFRLENBQUMsUUFBUyxFQUFDO0lBQzVDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO0VBQ2hEO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQztBQUNyRSxJQUFHLGNBQWMsRUFBQztFQUNkLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUcsRUFBRSxJQUFLO0lBQzdDLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7RUFDM0UsQ0FBQyxDQUFDO0FBQ047QUFFQSxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDO0FBQzVELE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUM7QUFFeEUsSUFBRyxXQUFXLEVBQUU7RUFDWixNQUFNLE9BQU8sR0FBRyxJQUFJLFlBQUcsQ0FBQywyQkFBMkIsQ0FBQztFQUNwRCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztFQUNqRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSTtJQUNqQixJQUFJLFVBQVUsR0FBRyxDQUFDO0lBRWxCLElBQUksQ0FBQyxPQUFPLENBQUUsSUFBSSxJQUFLO01BQ25CLE1BQU0sTUFBTSxHQUFHLElBQUksYUFBSSxDQUFDLElBQUksQ0FBQztNQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUM5QixDQUFDLENBQUM7SUFFRixJQUFJLGdCQUFnQixHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsR0FBRztJQUNqRCxNQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQzlELElBQUcsbUJBQW1CLEVBQUM7TUFDbkIsZ0JBQWdCLEdBQUcsbUJBQW1CO0lBQzFDO0lBRUEsTUFBTSx1QkFBdUIsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUUsbUJBQWtCLGdCQUFpQixJQUFHLENBQUM7SUFDbEcsdUJBQXVCLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSTtNQUN2QyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7TUFDL0IsVUFBVSxFQUFFO01BQ1osSUFBRyxVQUFVLElBQUksQ0FBQyxFQUFFO1FBQ2hCLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztNQUNqQztJQUNKLENBQUMsQ0FBQztJQUNGLElBQUksZUFBTSxDQUFDLGNBQWMsRUFBRSxhQUFhLEVBQUUsY0FBYyxDQUFDO0VBQzdELENBQUMsQ0FBQztBQUNOOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGFBQUksQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDOzs7Ozs7Ozs7QUMvRTdCLE1BQU0sR0FBRyxDQUFDO0VBQ3ZCLFdBQVcsQ0FBQyxHQUFHLEVBQUU7SUFDZixJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUc7RUFDckI7RUFDQSxNQUFNLFVBQVUsQ0FBQyxPQUFPLEVBQUU7SUFDeEIsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLEVBQUU7TUFDcEQsTUFBTSxFQUFFO01BQ1I7TUFDQTtJQUNGLENBQUMsQ0FBQzs7SUFDRixPQUFPLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0VBQzlCO0VBQ0EsTUFBTSxXQUFXLENBQUMsT0FBTyxFQUFhO0lBQUEsSUFBWCxJQUFJLEdBQUEsU0FBQSxDQUFBLE1BQUEsUUFBQSxTQUFBLFFBQUEsU0FBQSxHQUFBLFNBQUEsTUFBRyxDQUFDLENBQUM7SUFDbEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLEVBQUc7TUFDdEQsTUFBTSxFQUFFLE1BQU07TUFDZCxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7TUFDMUIsT0FBTyxFQUFFO1FBQ1AsY0FBYyxFQUFFO1FBQ2hCO01BQ0Y7SUFDRixDQUFDLENBQUM7O0lBQ0YsT0FBTyxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUM5QjtFQUNBLE1BQU0sVUFBVSxDQUFDLE9BQU8sRUFBYTtJQUFBLElBQVgsSUFBSSxHQUFBLFNBQUEsQ0FBQSxNQUFBLFFBQUEsU0FBQSxRQUFBLFNBQUEsR0FBQSxTQUFBLE1BQUcsQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxFQUFHO01BQ3RELE1BQU0sRUFBRSxLQUFLO01BQ2IsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO01BQzFCLE9BQU8sRUFBRTtRQUNQLGNBQWMsRUFBRTtNQUNsQjtJQUNGLENBQUMsQ0FBQztJQUNGLE9BQU8sTUFBTSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDOUI7RUFDQSxNQUFNLGFBQWEsQ0FBQyxPQUFPLEVBQWE7SUFBQSxJQUFYLElBQUksR0FBQSxTQUFBLENBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLEdBQUEsU0FBQSxNQUFHLENBQUMsQ0FBQztJQUNwQyxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBRSxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sRUFBRztNQUN0RCxNQUFNLEVBQUUsUUFBUTtNQUNoQixJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7TUFDMUIsT0FBTyxFQUFFO1FBQ1AsY0FBYyxFQUFFO01BQ2xCO0lBQ0YsQ0FBQyxDQUFDO0lBQ0YsT0FBTyxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUM5QjtBQUNGO0FBQUMsT0FBQSxDQUFBLE9BQUEsR0FBQSxHQUFBOzs7Ozs7Ozs7QUMzQ2MsTUFBTSxhQUFhLENBQUM7RUFDL0IsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUU7SUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPO0lBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtFQUN4QjtFQUNBLE1BQU0sQ0FBQSxFQUFHO0lBQ0wsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3BELEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtNQUN6QixRQUFRLEdBQUc7UUFDUCxLQUFLLFNBQVM7VUFDVixLQUFLLElBQUksT0FBTyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDbEMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztVQUN4RDtVQUNBO1FBQ0o7VUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFDdkM7SUFDSjtJQUNBLE9BQU8sT0FBTztFQUNsQjtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBLE9BQUEsQ0FBQSxPQUFBLEdBQUEsYUFBQTs7Ozs7Ozs7O0FDekNPLE1BQU0sVUFBVSxHQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUcsQ0FDdEI7RUFBQyxJQUFJLEVBQUUsT0FBTztFQUFFLFNBQVMsRUFBRSxZQUFZO0VBQUUsSUFBSSxFQUFFLE9BQU87RUFBRSxXQUFXLEVBQUUsYUFBYTtFQUFFLEtBQUssRUFBRTtBQUFtQixDQUFDLEVBQy9HO0VBQUMsSUFBSSxFQUFFLFVBQVU7RUFBRSxTQUFTLEVBQUUsWUFBWTtFQUFFLElBQUksRUFBRSxVQUFVO0VBQUUsV0FBVyxFQUFFLFVBQVU7RUFBRSxLQUFLLEVBQUU7QUFBWSxDQUFDLEVBQzNHO0VBQUMsSUFBSSxFQUFFLFFBQVE7RUFBRSxTQUFTLEVBQUUsVUFBVTtFQUFFLEtBQUssRUFBRTtBQUFTLENBQUMsQ0FDNUQ7QUFFTSxNQUFNLGdCQUFnQixHQUFBLE9BQUEsQ0FBQSxnQkFBQSxHQUFHLENBQzVCO0VBQUMsSUFBSSxFQUFFLE1BQU07RUFBRSxTQUFTLEVBQUUsWUFBWTtFQUFFLElBQUksRUFBRSxVQUFVO0VBQUUsV0FBVyxFQUFFO0FBQVcsQ0FBQyxFQUNuRjtFQUFDLElBQUksRUFBRSxPQUFPO0VBQUUsU0FBUyxFQUFFLFlBQVk7RUFBRSxJQUFJLEVBQUUsT0FBTztFQUFFLFdBQVcsRUFBRTtBQUFhLENBQUMsRUFDbkY7RUFBQyxJQUFJLEVBQUUsVUFBVTtFQUFFLFNBQVMsRUFBRSxZQUFZO0VBQUUsSUFBSSxFQUFFLFVBQVU7RUFBRSxXQUFXLEVBQUU7QUFBVSxDQUFDO0FBQ3RGO0FBQ0E7RUFBQyxJQUFJLEVBQUUsUUFBUTtFQUFFLFNBQVMsRUFBRSxVQUFVO0VBQUUsS0FBSyxFQUFFO0FBQVMsQ0FBQyxDQUM1RDtBQUVNLE1BQU0sUUFBUSxHQUFBLE9BQUEsQ0FBQSxRQUFBLEdBQUcsQ0FDcEI7RUFBQyxTQUFTLEVBQUUsWUFBWTtFQUFFLFdBQVcsRUFBRSxTQUFTO0VBQUUsT0FBTyxFQUFFO0lBQUMsR0FBRyxFQUFDO0VBQVE7QUFBQyxDQUFDLEVBQzFFO0VBQUMsU0FBUyxFQUFFLFlBQVk7RUFBRSxXQUFXLEVBQUUsU0FBUztFQUFFLE9BQU8sRUFBRTtJQUFDLEdBQUcsRUFBQztFQUFRO0FBQUMsQ0FBQyxDQUM3RTs7Ozs7QUNqQkQsSUFBQSxXQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxJQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQ0EsSUFBQSxLQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQXdDLFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUV4QyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUM5QyxJQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxLQUFLLGlCQUFpQixFQUFFO0lBQy9DLE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDM0QsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLENBQUM7SUFFdEUsSUFBRyxnQkFBZ0IsRUFBQztNQUNoQixnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBSSxJQUFLO1FBQy9CLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLGdCQUFnQixFQUFDO1VBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUNoQztNQUNKLENBQUMsQ0FBQztNQUNGO01BQ0k7TUFDQTtNQUNBO01BQ0E7O01BRUE7TUFDSTtNQUNBO01BQ0E7TUFDSTtNQUNBO01BQ0E7TUFDWjtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7SUFDSjs7SUFFQSxNQUFNLE9BQU8sR0FBRyxJQUFJLFlBQUcsQ0FBQywyQkFBMkIsQ0FBQztJQUNwRCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztJQUNqRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSTtNQUNqQixNQUFNLGNBQWMsR0FBRyxFQUFFO01BQ3pCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJO1FBQ2pCLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztNQUN6QyxDQUFDLENBQUM7TUFDRjtNQUNBLE1BQU0sTUFBTSxHQUFHLElBQUksbUJBQU0sQ0FBQyxzQkFBc0IsRUFBRSxjQUFjLENBQUM7TUFDakU7SUFDSixDQUFDLENBQUM7O0lBR0Y7O0lBRUEsTUFBTSxjQUFjLEdBQUcsSUFBSSxtQkFBTSxDQUFDLHdCQUF3QixDQUFDLEVBQUM7SUFDNUQsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDO0VBQ2pDO0FBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmR7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgY29uc3QgeyBfaWQsIGNhdGVnb3J5LCBpbWdVcmwsIHRpdGxlLCBkZXNjcmlwdGlvbiwgcmF0aW5nLCBsb2NhdGlvbiwgcHJpY2UgfSA9IHByb3BzXHJcbiAgICAgICAgdGhpcy5pZCA9IF9pZFxyXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeVxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSAnaHR0cHM6Ly9pLnByYXZhdGFyLmNjJ1xyXG4gICAgICAgIC8vIHRoaXMuaW1hZ2UgPSBpbWdVcmwgfHwgJ2h0dHBzOi8vaS5wcmF2YXRhci5jYydcclxuICAgICAgICAvLyAnaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MCdcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGVcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cclxuICAgICAgICB0aGlzLnJhdGluZyA9IHJhdGluZ1xyXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvblxyXG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlckl0ZW0gPSBuZXcgQ3JlYXRlRWxlbWVudCgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0nLCBkYXRhc2V0OntpZDogdGhpcy5pZCwgYm9keWVsZW06IHRoaXMuY2F0ZWdvcnl9fSkucmVuZGVyKClcclxuXHJcbiAgICAgICAgY29uc3QgcGljID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdwaWN0dXJlJywge2NsYXNzTmFtZTogJ2l0ZW0tcGljJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdpbWcnLCB7c3JjOiB0aGlzLmltYWdlLCBhbHQ6ICdwaG90bycsIGNsYXNzTmFtZTogJ2l0ZW0tcGljLXBob3RvJ30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2gyJywge3RleHRDb250ZW50OiB0aGlzLnRpdGxlLCBjbGFzc05hbWU6ICdpdGVtLW1lbnRvci1uYW1lJ30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgd3JhcFJhdGluZyA9IG5ldyBDcmVhdGVFbGVtZW50ICgnZGl2Jywge2NsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nJ30pLnJlbmRlcigpXHJcbiAgICAgICAgY29uc3Qgc3RhcnMgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHtjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1zdGFycyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIC8vIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMucmF0aW5nLCBjbGFzc05hbWU6ICdpdGVtLXJhdGluZy1jb3VudCd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IHJhdGluZ0NvdW50ID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMuY2F0ZWdvcnksIGNsYXNzTmFtZTogJ2l0ZW0tcmF0aW5nLWNvdW50J30pLnJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ2RpdicsIHt0ZXh0Q29udGVudDogdGhpcy5kZXNjcmlwdGlvbiwgY2xhc3NOYW1lOiAnaXRlbS1zdGFjayd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3IENyZWF0ZUVsZW1lbnQgKCdkaXYnLCB7dGV4dENvbnRlbnQ6IHRoaXMubG9jYXRpb24sIGNsYXNzTmFtZTogJ2l0ZW0tbGFuZ3VhZ2UtY291bnRyeSd9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJ0biA9IG5ldyBDcmVhdGVFbGVtZW50ICgnYnV0dG9uJywge2NsYXNzTmFtZTogJ2l0ZW0tYm9va2luZyd9KS5yZW5kZXIoKVxyXG4gICAgICAgIGNvbnN0IGJ0bkxpbmsgPSBuZXcgQ3JlYXRlRWxlbWVudCgnYScsIHt0ZXh0Q29udGVudDogJ0Jvb2sgVGltZScsIGNsYXNzTmFtZTogJ2l0ZW0tYm9va2luZy1saW5rJywgaHJlZjogJyMnfSkucmVuZGVyKClcclxuICAgICAgICBjb25zdCBidG5QcmljZSA9IG5ldyBDcmVhdGVFbGVtZW50KCdzcGFuJywge2NsYXNzTmFtZTogXCJpdGVtLWJvb2tpbmctY29zdFwiLCB0ZXh0Q29udGVudDogYCR7dGhpcy5wcmljZX0kLyBob3Vyc2B9KS5yZW5kZXIoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBpYy5hcHBlbmQoaW1nKVxyXG4gICAgICAgIHdyYXBSYXRpbmcuYXBwZW5kKHN0YXJzLCByYXRpbmdDb3VudClcclxuICAgICAgICBidG4uYXBwZW5kKGJ0bkxpbmssIGJ0blByaWNlKVxyXG4gICAgICAgIHdyYXBwZXJJdGVtLmFwcGVuZChwaWMsIHRpdGxlLCB3cmFwUmF0aW5nLGRlc2NyaXB0aW9uLCBsb2NhdGlvbiwgYnRuKVxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQod3JhcHBlckl0ZW0pXHJcbiAgICB9XHJcbn0gXHJcbiIsImltcG9ydCBDcmVhdGVFbGVtZW50IGZyb20gXCIuLi91dGlscy9DcmVhdGVFbGVtZW50LmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtIHtcclxuICBjb25zdHJ1Y3RvcihmaWVsZHMsIGZpbmRGb3JtKSB7XHJcbiAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihmaW5kRm9ybSkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpXHJcbiAgdGhpcy5pbnB1dEZpZWxkcyA9IGZpZWxkcyB8fCBbXTtcclxuICB9XHJcblxyXG5yZW5kZXIobmFtZUZvcm0pIHtcclxuICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gbmFtZUZvcm1cclxuICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1zaWduaW4nKSkge1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgfVxyXG4gIHRoaXMuaW5wdXRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgIGNvbnN0IGlucHV0ID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2lucHV0JywgZmllbGQpXHJcbiAgICBjb25zdCBmaWVsZFJlbmRlciA9IGlucHV0LnJlbmRlcigpXHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKGZpZWxkUmVuZGVyKTtcclxuICB9KTtcclxuXHJcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5vblNhdmUuYmluZCh0aGlzKSk7XHJcbiAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxufVxyXG5cclxuXHJcbnNlcmlhbGl6ZSgpIHtcclxuICAgIGNvbnN0IGZpZWxkc0RhdGEgPSB7fTtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuZWxlbWVudClcclxuICAgIFxyXG4gICAgZm9yKGxldCBbbmFtZV0gb2YgZm9ybURhdGEpe1xyXG4gICAgICBmaWVsZHNEYXRhW25hbWVdID0gZm9ybURhdGEuZ2V0KG5hbWUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmllbGRzRGF0YTtcclxufVxyXG5cclxub25TYXZlKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGNvbnN0IGRhdGFGaWVsZHMgPSB0aGlzLnNlcmlhbGl6ZSgpO1xyXG4gIHJldHVybiBkYXRhRmllbGRzXHJcbn1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtTG9naW4gZXh0ZW5kcyBGb3JtIHtcclxuICBjb25zdHJ1Y3RvcihmaWVsZHMsIGRhdGFzZXQpIHtcclxuICAgIHN1cGVyKGZpZWxkcylcclxuICAgIHRoaXMuZWxlbWVudC5kYXRhc2V0LmJvZHllbGVtID0gZGF0YXNldFxyXG4gIH1cclxuICBcclxuICAvLyByZW5kZXIoKSB7XHJcbiAgLy8gICBzdXBlci5yZW5kZXIoKVxyXG4gIC8vICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbmluJykpIHtcclxuICAvLyAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICBvblNhdmUoZXZlbnQpe1xyXG4gICAgY29uc3QgcmVxdWVzdFJlc3VsdCA9IHN1cGVyLm9uU2F2ZShldmVudClcclxuICBcclxuICAgIGNvbnN0IGFwaUxvZ2luID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9hdXRoLycpXHJcblxyXG4gICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tc2lnbmluJykgJiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICBjb25zdCBwb3N0UmVxdWVzdCA9IGFwaUxvZ2luLnBvc3RSZXF1ZXN0KCdzaWduaW4nLCByZXF1ZXN0UmVzdWx0KTtcclxuICBcclxuICAgICAgcG9zdFJlcXVlc3QudGhlbigodXNlckxvZykgPT4ge1xyXG4gICAgICAgIGlmKHVzZXJMb2cubWVzc2FnZSl7XHJcbiAgICAgICAgICBjb25zdCBzdWJtaXRTaWduaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1zaWduaW4gLmJ0bi1hdXRoJylcclxuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdlcnJvci1tZXNzYWdlJywgdGV4dENvbnRlbnQ6IHVzZXJMb2cubWVzc2FnZX0pLnJlbmRlcigpXHJcbiAgICAgICAgICBzdWJtaXRTaWduaW4uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGVycm9yTWVzc2FnZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7aWQ6IHVzZXJMb2cuZGF0YS5faWQsIGZ1bGxOYW1lOiB1c2VyTG9nLmRhdGEuZnVsbE5hbWV9XHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyRGF0YScsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSlcclxuICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJylcclxuICAgICAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25pbkxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X190aXRsZS1hdXRoJylcclxuICAgICAgICAgICAgICAgIHNpZ25pbkxpbmsudGV4dENvbnRlbnQgPSBgJHt1c2VyTG9nLmRhdGEuZnVsbE5hbWV9YFxyXG4gICAgICAgICAgICAgICAgc2lnbmluTGluay5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZC1wcm9maWxlJylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBwb3N0UmVxdWVzdCA9IGFwaUxvZ2luLnBvc3RSZXF1ZXN0KCdzaWdudXAnLCByZXF1ZXN0UmVzdWx0KVxyXG4gICAgICBcclxuICAgICAgcG9zdFJlcXVlc3QudGhlbigodXNlclJlZykgPT4ge1xyXG4gICAgICAgIGlmKHVzZXJSZWcuc3RhdHVzVGV4dCA9PT0gXCLQotCw0LrQuNC5IGVtYWlsINCy0LbQtSDRltGB0L3Rg9GUXCIpe1xyXG4gICAgICAgICAgY29uc3Qgc3VibWl0U2lnbnVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2lnbnVwIC5idG4tYXV0aCcpXHJcbiAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VTaWdudXAgPSBuZXcgQ3JlYXRlRWxlbWVudCAoJ3AnLCB7Y2xhc3NOYW1lOiAnZXJyb3ItbWVzc2FnZScsIHRleHRDb250ZW50OiB1c2VyUmVnLnN0YXR1c1RleHR9KS5yZW5kZXIoKVxyXG4gICAgICAgICAgc3VibWl0U2lnbnVwLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBlcnJvck1lc3NhZ2VTaWdudXApXHJcbiAgICAgICAgfSBlbHNlIFxyXG4gICAgICAgICAgaWYgKHVzZXJSZWcuc3RhdHVzVGV4dCA9PT0gXCJUaGFua3MgZm9yIHJlZ2lzdGVyaW5nLlwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0ge2VtYWlsOiB1c2VyUmVnLmVtYWlsLCBmdWxsTmFtZTogdXNlclJlZy5mdWxsTmFtZX1cclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlckRhdGEnLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkpXHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBtb2RhbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpXHJcbiAgICAgICAgICAgIG1vZGFsV3JhcC5jbGFzc0xpc3QuYWRkKCdkZWFjdGl2ZXRlZCcpXHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwVGV4dCA9IG5ldyBDcmVhdGVFbGVtZW50ICgncCcsIHtjbGFzc05hbWU6ICdwb3B1cC10ZXh0JywgdGV4dENvbnRlbnQ6IHVzZXJSZWcuc3RhdHVzVGV4dH0pLnJlbmRlcigpXHJcbiAgICAgICAgICAgIHBvcHVwLmFwcGVuZChwb3B1cFRleHQpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3Qgc2lnbmluTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX3RpdGxlLWF1dGgnKVxyXG4gICAgICAgICAgICBzaWduaW5MaW5rLnRleHRDb250ZW50ID0gYCR7dXNlclJlZy5mdWxsTmFtZX1gXHJcbiAgICAgICAgICAgIHNpZ25pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQtcHJvZmlsZScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KSBcclxuICAgIH1cclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoaHRtbCkge1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGh0bWxcclxuICAgIH1cclxuICAgIHJlbmRlcihidG4pIHtcclxuICAgICAgICBjb25zdCBtb2RhbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpXHJcblxyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3RpdmV0ZWQnKVxyXG5cclxuICAgICAgICAgICAgbW9kYWxXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7ICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT09ICdtb2RhbC1jbG9zZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbFdyYXAuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmV0ZWQnKVxyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfSkgICAgXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihidG5SaWdodCwgYnRuTGVmdCwgc2xpZGVJdGVtLCBpbmRleEZpcnN0RWxlbSwgc2V0KSB7XHJcbiAgICAgICAgdGhpcy5idG5SaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuUmlnaHQpXHJcbiAgICAgICAgdGhpcy5idG5MZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5MZWZ0KVxyXG4gICAgICAgIHRoaXMuc2xpZGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNsaWRlSXRlbSkpO1xyXG4gICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IGluZGV4Rmlyc3RFbGVtIHx8IDA7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQgfHwgNDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVTbGlkZXIoKSB7XHJcbiAgICAgICAgY29uc3Qgc2xpZGVDb3VudCA9IHRoaXMuc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5idG5MZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blJpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0JylcclxuICAgICAgICAgICAgaWYodGhpcy5maXJzdEluZGV4ID09PSAwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5MZWZ0LmNsYXNzTGlzdC5hZGQoJ2RlYWN0JylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v0LPQvtGA0YLQsNC90L3RjyDQvdCwINC+0LTQuNC9INGB0LvQsNC50LQg0LLQu9GW0LLQviAo0L3QsNC30LDQtCDQtNC+INC/0L7Rh9Cw0YLQutGDKVxyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0IC0gMSBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW2xhc3RJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCAtIDEgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmZpcnN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0blJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxlZnQuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3QnKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHNsaWRlQ291bnQgPD0gKHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5SaWdodC5jbGFzc0xpc3QuYWRkKCdkZWFjdCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cz0L7RgNGC0LDQvdC90Y8g0L3QsCDQvtC00LjQvSDRgdC70LDQudC0INCy0L/RgNCw0LLQviAo0LLQv9C10YDQtdC0INC00L4g0LrRltC90YbRjylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuZmlyc3RJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gdGhpcy5maXJzdEluZGV4ICsgMSBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuZmlyc3RJbmRleCArIHRoaXMuc2V0IC0gMVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXNbbGFzdEluZGV4XS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgaWYoISF0aGlzLnNsaWRlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlcigpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENyZWF0ZUVsZW1lbnQgZnJvbSBcIi4uL3V0aWxzL0NyZWF0ZUVsZW1lbnQuanNcIjtcclxuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi9TbGlkZXIuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFicyB7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2VsZWN0b3JIZWFkLCBzZWxlY3RvckJvZHksIHNldCwgdGFicykge1xyXG4gICAgICAgIHRoaXMudGFicyA9IHRhYnMgfHwgW11cclxuICAgICAgICB0aGlzLmhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ySGVhZCkgfHwgJycgXHJcbiAgICAgICAgdGhpcy5ib2R5dGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckJvZHkpIHx8ICcnIFxyXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0IHx8IDFcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVUYWJzKCkge1xyXG4gICAgaWYodGhpcy5oZWFkKXtcclxuICAgICAgICB0aGlzLmhlYWQuYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIFsuLi50aGlzLmhlYWQuY2hpbGRyZW5dLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZXYudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYm9keXRhYikge1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bWJlckNhcmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgWy4uLnRoaXMuYm9keXRhYi5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmRhdGFzZXQuYm9keWVsZW0gPT09IGV2LnRhcmdldC5kYXRhc2V0LnRhYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSB0aGlzLnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBuZXcgU2xpZGVyKCcuYXJyb3ctcmlnaHQnLCAnLmFycm93LWxlZnQnLCAnLml0ZW0uYWN0aXZlJykgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5yZW5kZXIoKSB7XHJcbiAgICB0aGlzLnRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlVGFiID0gbmV3IENyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHRhYikucmVuZGVyKCkgIFxyXG4gICAgICAgIGlmIChzaW5nbGVUYWIuY2xhc3NOYW1lID09PSAnYnRuLXNpZ25pbicpIHtcclxuICAgICAgICAgICAgc2luZ2xlVGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBcclxuICAgICAgICB0aGlzLmhlYWQuYXBwZW5kKHNpbmdsZVRhYik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuaW5pdCgpIHtcclxuICAgIGlmKCEhdGhpcy50YWJzLmxlbmd0aCl7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVUYWJzKCkgICBcclxufVxyXG59XHJcbiIsImltcG9ydCBGb3JtIGZyb20gXCIuL0Zvcm0uanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIHtcclxuICAgIGNvbnN0cnVjdG9yKGlucHV0LCBzZWFyY2hSZXN1bHRzKXtcclxuICAgICAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnB1dClcclxuICAgICAgICB0aGlzLnJlc3VsdHMgPSBzZWFyY2hSZXN1bHRzIHx8IFtdIC8v0YHQtdGA0LXQtCDRj9C60LjRhSDQtdC70LXQvNC10L3RgtGW0LIg0LHRg9C00LUg0LnRgtC4INC/0L7RiNGD0Lo6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gc2VhcmNoIC0g0L/QvtGI0YPQuiDQv9C+INC60LvRjtGH0L7QstC40Lwg0YTRgNCw0LfQsNC8INCyIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gY2F0ZWdvcnkgLSDQv9C+0YjRg9C6INC/0L4g0YDQvtC30YjQuNGA0LXQvdC+0LzRgyDRgdC/0LjRgdC60YMg0LrQsNGC0LXQs9C+0YDRltC5IGl0ZW1pemVkQ2F0ZWdvcnkg0Lcg0LLQuNC/0LDQtNCw0Y7Rh9C+0LPQviDRgdC/0LjRgdC60YMgKNC00L7QtNCw0YLQuCDRhtGWINC60LDRgtC10LPQvtGA0ZbRlyDQsiDQsdCw0LfRgyDQtNCw0L3QuNGFKVxyXG4gICAgICAgIH1cclxuICAgIGhhbmRsZVNlYXJjaCgpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVzdWx0cyk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlYXJjaFZhbHVlKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBBcGkgZnJvbSBcIi4vdXRpbHMvQXBpLmpzXCJcclxuaW1wb3J0IFRhYnMgZnJvbSBcIi4vY29tcG9uZW50cy9UYWJzLmpzXCJcclxuaW1wb3J0IHtGb3JtTG9naW4sIEZvcm19IGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybS5qc1wiXHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi9jb21wb25lbnRzL01vZGFsLmpzXCJcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCJcclxuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi9jb21wb25lbnRzL1NsaWRlci5qc1wiXHJcbmltcG9ydCB7IGZpZWxkc0RhdGEsIGZpZWxkc0RhdGFTaWduVXAsIHRhYnNEYXRhIH0gZnJvbSBcIi4vdXRpbHMvRGF0YUR5bmFtaWNDb21wb25lbnRzLmpzXCJcclxuaW1wb3J0IFwiLi91dGlscy9zZWFyY2hpbmcuanNcIlxyXG5cclxuY29uc3Qgc3dpdGNoTW9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4nKVxyXG5cclxuc3dpdGNoTW9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbGlnaHQnKSBcclxufSlcclxuXHJcbmNvbnN0IGJ0bkF1dGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X190aXRsZS1hdXRoJylcclxuXHJcbmNvbnN0IGZvcm1TaWduSW4gPSBuZXcgRm9ybUxvZ2luKGZpZWxkc0RhdGEsICdzaWduaW4nKVxyXG5jb25zdCBmb3JtU2lnblVwID0gbmV3IEZvcm1Mb2dpbihmaWVsZHNEYXRhU2lnblVwLCAnc2lnbnVwJylcclxuY29uc3QgZm9ybVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFicy1ib2R5JylcclxuZm9ybVdyYXBwZXIuYXBwZW5kKGZvcm1TaWduSW4ucmVuZGVyKCdmb3JtLXNpZ25pbicpLGZvcm1TaWduVXAucmVuZGVyKCdmb3JtLXNpZ251cCcpKVxyXG5cclxubmV3IFRhYnMoJy50YWJzLWhlYWQnLCAnLnRhYnMtYm9keScsIDEsIHRhYnNEYXRhKVxyXG5cclxuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vZGFsJylcclxuY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwod3JhcHBlcilcclxubW9kYWwucmVuZGVyKGJ0bkF1dGgpXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKSBcclxuICAgIGlmKHVzZXJEYXRhKSB7XHJcbiAgICAgICAgYnRuQXV0aC50ZXh0Q29udGVudCA9IGAke3VzZXJEYXRhLmZ1bGxOYW1lfWBcclxuICAgICAgICBidG5BdXRoLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZldGVkLXByb2ZpbGUnKVxyXG4gICAgfVxyXG59KVxyXG5cclxuY29uc3QgY2F0ZWdvcmllc01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fZm9vdGVyLXNlbGVjdCcpXHJcbmlmKGNhdGVnb3JpZXNNZW51KXtcclxuICAgIGNhdGVnb3JpZXNNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnknLCBldi50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYilcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IG1lbnRvcnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXItY2FyZHMnKVxyXG5jb25zdCBhY3RpdmVDYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzLWl0ZW0uYWN0aXZlJylcclxuXHJcbmlmKG1lbnRvcnNMaXN0KSB7XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEFwaSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaScpXHJcbiAgICBjb25zdCBtZW50b3JzID0gcmVxdWVzdC5nZXRSZXF1ZXN0KCcvc3RhdGVtZW50cycpO1xyXG4gICAgbWVudG9ycy50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIGxldCBudW1iZXJDYXJkID0gMFxyXG5cclxuICAgICAgICBkYXRhLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWVudG9yID0gbmV3IENhcmQoZWxlbSk7XHJcbiAgICAgICAgICAgIG1lbnRvci5yZW5kZXIobWVudG9yc0xpc3QpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBhY3RpdmVDYXRlZ29yeS5kYXRhc2V0LnRhYlxyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5RnJvbVN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeScpXHJcbiAgICAgICAgaWYoY2F0ZWdvcnlGcm9tU3RvcmFnZSl7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnkgPSBjYXRlZ29yeUZyb21TdG9yYWdlXHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yeU1lbnRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1ib2R5ZWxlbT1cIiR7c2VsZWN0ZWRDYXRlZ29yeX1cIl1gKVxyXG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlNZW50b3JzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgbnVtYmVyQ2FyZCsrXHJcbiAgICAgICAgICAgIGlmKG51bWJlckNhcmQgPD0gNCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbmV3IFNsaWRlcignLmFycm93LXJpZ2h0JywgJy5hcnJvdy1sZWZ0JywgJy5pdGVtLmFjdGl2ZScpIFxyXG4gICAgfSlcclxufVxyXG5cclxuLy8gY29uc3Qgc2hvd1BhZ2UgPSBuZXcgUGFnaW5hdGlvbihtZW50b3JzTGlzdC5sZW5ndGgsIDEsIDQpXHJcbi8vIHNob3dQYWdlLnJlbmRlcigpXHJcbi8vIGNvbnN0IG1lbnRvcnMgPSBhd2FpdCBzaG93UGFnZS5yZW5kZXJDb250ZW50KCkgXHJcblxyXG5uZXcgVGFicygnLmNhdGVnb3JpZXMnLCAnLndyYXBwZXItY2FyZHMnLCA0KVxyXG5cclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHVybCkge1xyXG4gICAgdGhpcy5ST09UX1VSTCA9IHVybFxyXG4gIH1cclxuICBhc3luYyBnZXRSZXF1ZXN0KHJvdXRpbmcpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5ST09UX1VSTCArIHJvdXRpbmcsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgLy8gaGVhZGVyczoge1xyXG4gICAgICAvLyB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICB9XHJcbiAgYXN5bmMgcG9zdFJlcXVlc3Qocm91dGluZywgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCh0aGlzLlJPT1RfVVJMICsgcm91dGluZyksIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAvLyBBdXRvcml6YXRpb246IGBCZWFyZXIgJHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0a24nKX1gXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfVxyXG4gIGFzeW5jIHB1dFJlcXVlc3Qocm91dGluZywgZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCh0aGlzLlJPT1RfVVJMICsgcm91dGluZyksIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH1cclxuICBhc3luYyBkZWxldGVSZXF1ZXN0KHJvdXRpbmcsIGRhdGEgPSB7fSkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgodGhpcy5ST09UX1VSTCArIHJvdXRpbmcpLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICB9ICAgXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdGVFbGVtZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRhZ05hbWUsIHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMudGFnTmFtZSA9IHRhZ05hbWVcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtc1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnTmFtZSlcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5wYXJhbXMpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGFzZXQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGRhdGFLZXkgaW4gdGhpcy5wYXJhbXNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmRhdGFzZXRbZGF0YUtleV0gPSB0aGlzLnBhcmFtc1trZXldW2RhdGFLZXldXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRba2V5XSA9IHRoaXMucGFyYW1zW2tleV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudFxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVFbGVtZW50KHRhZ05hbWUsIHBhcmFtcykge1xyXG4vLyAgICAgdGhpcy50YWdOYW1lID0gdGFnTmFtZSAvLyAnZGl2J1xyXG4vLyAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXMgLy8ge2NsYXNzOid3cmFwcGVyJywgZGF0YXNldDp7aWQ6MX19XHJcbi8vIH1cclxuXHJcbi8vIENyZWF0ZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnTmFtZSlcclxuLy8gICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnBhcmFtcykge1xyXG4vLyAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbi8vICAgICAgICAgICAgIGNhc2UgJ2RhdGFzZXQnOlxyXG4vLyAgICAgICAgICAgICAgICAgZm9yIChsZXQgZGF0YUtleSBpbiB0aGlzLnBhcmFtc1trZXldKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0W2RhdGFLZXldID0gdGhpcy5wYXJhbXNba2V5XVtkYXRhS2V5XVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgYnJlYWtcclxuLy8gICAgICAgICAgICAgZGVmYXVsdDpcclxuLy8gICAgICAgICAgICAgICAgIGVsZW1lbnRba2V5XSA9IHRoaXMucGFyYW1zW2tleV1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vICAgICByZXR1cm4gZWxlbWVudFxyXG4vLyB9IiwiZXhwb3J0IGNvbnN0IGZpZWxkc0RhdGEgPSBbXHJcbiAgICB7dHlwZTogJ2VtYWlsJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAnWW91ciBlLW1haWwnLCB2YWx1ZTogJ2FhYWExMjNAZ21haWwuY29tJ30sXHJcbiAgICB7dHlwZTogJ3Bhc3N3b3JkJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdwYXNzd29yZCcsIHBsYWNlaG9sZGVyOiAnUGFzc3dvcmQnLCB2YWx1ZTogJ2ZvcmVzdDU0ODEnfSxcclxuICAgIHt0eXBlOiAnc3VibWl0JywgY2xhc3NOYW1lOiAnYnRuLWF1dGgnLCB2YWx1ZTogJ1NpZ24gaW4nfVxyXG5dXHJcblxyXG5leHBvcnQgY29uc3QgZmllbGRzRGF0YVNpZ25VcCA9IFtcclxuICAgIHt0eXBlOiAndGV4dCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAnZnVsbE5hbWUnLCBwbGFjZWhvbGRlcjogJ1lvdXIgbmFtZSd9LFxyXG4gICAge3R5cGU6ICdlbWFpbCcsIGNsYXNzTmFtZTogJ2ZpZWxkLWF1dGgnLCBuYW1lOiAnZW1haWwnLCBwbGFjZWhvbGRlcjogJ1lvdXIgZS1tYWlsJ30sXHJcbiAgICB7dHlwZTogJ3Bhc3N3b3JkJywgY2xhc3NOYW1lOiAnZmllbGQtYXV0aCcsIG5hbWU6ICdwYXNzd29yZCcsIHBsYWNlaG9sZGVyOiAnUGFzc3dvcmQnfSxcclxuICAgIC8vIHt0eXBlOiAncGFzc3dvcmQnLCBjbGFzc05hbWU6ICdmaWVsZC1hdXRoJywgbmFtZTogJ3JlcGVhdC1wYXNzd29yZCcsIHBsYWNlaG9sZGVyOiAnUmVwZWF0IHlvdXIgcGFzc3dvcmQnfSxcclxuICAgIHt0eXBlOiAnc3VibWl0JywgY2xhc3NOYW1lOiAnYnRuLWF1dGgnLCB2YWx1ZTogJ1NpZ24gdXAnfVxyXG5dXHJcblxyXG5leHBvcnQgY29uc3QgdGFic0RhdGEgPSBbXHJcbiAgICB7Y2xhc3NOYW1lOiAnYnRuLXNpZ25pbicsIHRleHRDb250ZW50OiAnU2lnbiBJbicsIGRhdGFzZXQ6IHt0YWI6J3NpZ25pbid9fSxcclxuICAgIHtjbGFzc05hbWU6ICdidG4tc2lnbnVwJywgdGV4dENvbnRlbnQ6ICdTaWduIFVwJywgZGF0YXNldDoge3RhYjonc2lnbnVwJ319XHJcbl1cclxuIiwiaW1wb3J0IFNlYXJjaCBmcm9tIFwiLi4vY29tcG9uZW50cy9zZWFyY2hGb3JtLmpzXCJcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi9BcGkuanNcIlxyXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtLmpzXCJcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgaWYod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaGluZy5odG1sJykge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeScpXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtSGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yaWVzLWl0ZW0nKVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgIGlmKHNlbGVjdGVkQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1IZWFkLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtLmRhdGFzZXQudGFiID09IHNlbGVjdGVkQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBudW1iZXJDYXJkID0gMFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IHdyYXBwZXJCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXItY2FyZHMnKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUuZGlyKFsuLi53cmFwcGVyQm9keS5jaGlsZHJlbl0pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IHNlbGVjdGVkSXRlbUJvZHkgPSBBcnJheS5mcm9tKFsuLi53cmFwcGVyQm9keS5jaGlsZHJlbl0pXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vICAgICBzZWxlY3RlZEl0ZW1Cb2R5LmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZihlbC5kYXRhc2V0LmJvZHllbGVtID09IHNlbGVjdGVkQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBudW1iZXJDYXJkKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYobnVtYmVyQ2FyZCA8PSA0KSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgICAgIC8vIH0sMTAwMClcclxuICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBzZWxlY3RlZEl0ZW1Cb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnLml0ZW0nKVxyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRJdGVtQm9keSk7XHJcbiAgICAgICAgICAgIC8vIH0sIDEwMDApXHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBcGkoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGknKVxyXG4gICAgICAgIGNvbnN0IG1lbnRvcnMgPSByZXF1ZXN0LmdldFJlcXVlc3QoJy9zdGF0ZW1lbnRzJyk7XHJcbiAgICAgICAgbWVudG9ycy50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxEZXNjcmlwdGlvbiA9IFtdXHJcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGFsbERlc2NyaXB0aW9uLnB1c2goZWxlbS5kZXNjcmlwdGlvbilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWxsRGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICBjb25zdCBzZWFyY2ggPSBuZXcgU2VhcmNoKCdpbnB1dFtuYW1lPVwic2VhcmNoXCJdJywgYWxsRGVzY3JpcHRpb24pXHJcbiAgICAgICAgICAgIC8vIHNlYXJjaC5oYW5kbGVTZWFyY2goKVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAvLyBjb25zdCBmb3JtU2VhcmNoaW5nID0gbmV3IEZvcm0oW10sICcuZm9ybS1zZWFyY2hpbmcnKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHNlYXJjaENhdGVnb3J5ID0gbmV3IFNlYXJjaCgnaW5wdXRbbmFtZT1cImNhdGVnb3J5XCJdJykgLy8sIGl0ZW1pemVkQ2F0ZWdvcnkpXHJcbiAgICAgICAgc2VhcmNoQ2F0ZWdvcnkuaGFuZGxlU2VhcmNoKClcclxuICAgIH1cclxufSkiXX0=
